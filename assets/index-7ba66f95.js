var vA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var c4=vA((d4,pf)=>{function _A(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var sE={exports:{}},Rd={},oE={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),xA=Symbol.for("react.portal"),wA=Symbol.for("react.fragment"),EA=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),bA=Symbol.for("react.provider"),TA=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),PA=Symbol.for("react.suspense"),AA=Symbol.for("react.memo"),IA=Symbol.for("react.lazy"),X_=Symbol.iterator;function RA(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var aE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lE=Object.assign,uE={};function ka(t,e,r){this.props=t,this.context=e,this.refs=uE,this.updater=r||aE}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cE(){}cE.prototype=ka.prototype;function Fy(t,e,r){this.props=t,this.context=e,this.refs=uE,this.updater=r||aE}var Uy=Fy.prototype=new cE;Uy.constructor=Fy;lE(Uy,ka.prototype);Uy.isPureReactComponent=!0;var Y_=Array.isArray,hE=Object.prototype.hasOwnProperty,zy={current:null},dE={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hE.call(e,n)&&!dE.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:zy.current}}function kA(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function MA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var K_=/\/+/g;function Mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MA(""+t.key):e.toString(36)}function fh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case xA:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Mp(o,0):n,Y_(i)?(r="",t!=null&&(r=t.replace(K_,"$&/")+"/"),fh(i,e,r,"",function(h){return h})):i!=null&&(jy(i)&&(i=kA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Y_(t))for(var u=0;u<t.length;u++){s=t[u];var c=n+Mp(s,u);o+=fh(s,e,r,c,i)}else if(c=RA(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=n+Mp(s,u++),o+=fh(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wc(t,e,r){if(t==null)return t;var n=[],i=0;return fh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function NA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},ph={transition:null},DA={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:ph,ReactCurrentOwner:zy};Re.Children={map:wc,forEach:function(t,e,r){wc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return wc(t,function(){e++}),e},toArray:function(t){return wc(t,function(e){return e})||[]},only:function(t){if(!jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=ka;Re.Fragment=wA;Re.Profiler=SA;Re.PureComponent=Fy;Re.StrictMode=EA;Re.Suspense=PA;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA;Re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)hE.call(e,c)&&!dE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:xu,type:t.type,key:i,ref:s,props:n,_owner:o}};Re.createContext=function(t){return t={$$typeof:TA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bA,_context:t},t.Consumer=t};Re.createElement=fE;Re.createFactory=function(t){var e=fE.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:CA,render:t}};Re.isValidElement=jy;Re.lazy=function(t){return{$$typeof:IA,_payload:{_status:-1,_result:t},_init:NA}};Re.memo=function(t,e){return{$$typeof:AA,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=ph.transition;ph.transition={};try{t()}finally{ph.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return hr.current.useCallback(t,e)};Re.useContext=function(t){return hr.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};Re.useEffect=function(t,e){return hr.current.useEffect(t,e)};Re.useId=function(){return hr.current.useId()};Re.useImperativeHandle=function(t,e,r){return hr.current.useImperativeHandle(t,e,r)};Re.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return hr.current.useMemo(t,e)};Re.useReducer=function(t,e,r){return hr.current.useReducer(t,e,r)};Re.useRef=function(t){return hr.current.useRef(t)};Re.useState=function(t){return hr.current.useState(t)};Re.useSyncExternalStore=function(t,e,r){return hr.current.useSyncExternalStore(t,e,r)};Re.useTransition=function(){return hr.current.useTransition()};Re.version="18.2.0";oE.exports=Re;var F=oE.exports;const we=Id(F),OA=_A({__proto__:null,default:we},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=F,BA=Symbol.for("react.element"),FA=Symbol.for("react.fragment"),UA=Object.prototype.hasOwnProperty,zA=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jA={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)UA.call(e,n)&&!jA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:BA,type:t,key:s,ref:o,props:i,_owner:zA.current}}Rd.Fragment=FA;Rd.jsx=pE;Rd.jsxs=pE;sE.exports=Rd;var B=sE.exports,qm={},mE={exports:{}},Lr={},gE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,H){var R=k.length;k.push(H);e:for(;0<R;){var q=R-1>>>1,ne=k[q];if(0<i(ne,H))k[q]=H,k[R]=ne,R=q;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var H=k[0],R=k.pop();if(R!==H){k[0]=R;e:for(var q=0,ne=k.length,Se=ne>>>1;q<Se;){var xe=2*(q+1)-1,Ue=k[xe],Te=xe+1,Fe=k[Te];if(0>i(Ue,R))Te<ne&&0>i(Fe,Ue)?(k[q]=Fe,k[Te]=R,q=Te):(k[q]=Ue,k[xe]=R,q=xe);else if(Te<ne&&0>i(Fe,R))k[q]=Fe,k[Te]=R,q=Te;else break e}}return H}function i(k,H){var R=k.sortIndex-H.sortIndex;return R!==0?R:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,p=null,m=3,v=!1,_=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=k)n(h),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(h)}}function C(k){if(b=!1,w(k),!_)if(r(c)!==null)_=!0,se(I);else{var H=r(h);H!==null&&J(C,H.startTime-k)}}function I(k,H){_=!1,b&&(b=!1,S(M),M=-1),v=!0;var R=m;try{for(w(H),p=r(c);p!==null&&(!(p.expirationTime>H)||k&&!K());){var q=p.callback;if(typeof q=="function"){p.callback=null,m=p.priorityLevel;var ne=q(p.expirationTime<=H);H=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===r(c)&&n(c),w(H)}else n(c);p=r(c)}if(p!==null)var Se=!0;else{var xe=r(h);xe!==null&&J(C,xe.startTime-H),Se=!1}return Se}finally{p=null,m=R,v=!1}}var L=!1,D=null,M=-1,Y=5,X=-1;function K(){return!(t.unstable_now()-X<Y)}function te(){if(D!==null){var k=t.unstable_now();X=k;var H=!0;try{H=D(!0,k)}finally{H?G():(L=!1,D=null)}}else L=!1}var G;if(typeof E=="function")G=function(){E(te)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ue=z.port2;z.port1.onmessage=te,G=function(){ue.postMessage(null)}}else G=function(){T(te,0)};function se(k){D=k,L||(L=!0,G())}function J(k,H){M=T(function(){k(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,se(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var R=m;m=H;try{return k()}finally{m=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var R=m;m=k;try{return H()}finally{m=R}},t.unstable_scheduleCallback=function(k,H,R){var q=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?q+R:q):R=q,k){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=R+ne,k={id:f++,callback:H,priorityLevel:k,startTime:R,expirationTime:ne,sortIndex:-1},R>q?(k.sortIndex=R,e(h,k),r(c)===null&&k===r(h)&&(b?(S(M),M=-1):b=!0,J(C,R-q))):(k.sortIndex=ne,e(c,k),_||v||(_=!0,se(I))),k},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(k){var H=m;return function(){var R=m;m=H;try{return k.apply(this,arguments)}finally{m=R}}}})(yE);gE.exports=yE;var GA=gE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=F,Or=GA;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Xl={};function lo(t,e){ya(t,e),ya(t+"Capture",e)}function ya(t,e){for(Xl[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,HA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q_={},q_={};function $A(t){return Zm.call(q_,t)?!0:Zm.call(Q_,t)?!1:HA.test(t)?q_[t]=!0:(Q_[t]=!0,!1)}function WA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VA(t,e,r,n){if(e===null||typeof e>"u"||WA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gy=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gy,Hy);Vt[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gy,Hy);Vt[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gy,Hy);Vt[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,r,n){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VA(e,r,i,n)&&(r=null),n||i===null?$A(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ri=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),EE=Symbol.for("react.offscreen"),Z_=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=Z_&&t[Z_]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Np;function wl(t){if(Np===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||""}return`
`+Np+t}var Dp=!1;function Op(t,e){if(!t||Dp)return"";Dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Dp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wl(t):""}function XA(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=Op(t.type,!1),t;case 11:return t=Op(t.type.render,!1),t;case 1:return t=Op(t.type,!0),t;default:return""}}function rg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Go:return"Portal";case Jm:return"Profiler";case Wy:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wE:return(t.displayName||"Context")+".Consumer";case xE:return(t._context.displayName||"Context")+".Provider";case Vy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xy:return e=t.displayName||null,e!==null?e:rg(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return rg(t(e))}catch{}}return null}function YA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rg(e);case 8:return e===Wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KA(t){var e=SE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=KA(t))}function bE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=SE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ng(t,e){var r=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function J_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ds(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TE(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function ig(t,e){TE(t,e);var r=ds(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sg(t,e.type,r):e.hasOwnProperty("defaultValue")&&sg(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sg(t,e,r){(e!=="number"||Oh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var El=Array.isArray;function na(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ds(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function og(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(El(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ds(r)}}function CE(t,e){var r=ds(e.value),n=ds(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ag(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bc,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QA=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){QA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function IE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function RE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=IE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var qA=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(t,e){if(e){if(qA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hg=null,ia=null,sa=null;function nx(t){if(t=Su(t)){if(typeof hg!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Od(e),hg(t.stateNode,t.type,e))}}function kE(t){ia?sa?sa.push(t):sa=[t]:ia=t}function ME(){if(ia){var t=ia,e=sa;if(sa=ia=null,nx(t),e)for(t=0;t<e.length;t++)nx(e[t])}}function NE(t,e){return t(e)}function DE(){}var Lp=!1;function OE(t,e,r){if(Lp)return t(e,r);Lp=!0;try{return NE(t,e,r)}finally{Lp=!1,(ia!==null||sa!==null)&&(DE(),ME())}}function Kl(t,e){var r=t.stateNode;if(r===null)return null;var n=Od(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var dg=!1;if(bi)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){dg=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{dg=!1}function ZA(t,e,r,n,i,s,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var Dl=!1,Lh=null,Bh=!1,fg=null,JA={onError:function(t){Dl=!0,Lh=t}};function eI(t,e,r,n,i,s,o,u,c){Dl=!1,Lh=null,ZA.apply(JA,arguments)}function tI(t,e,r,n,i,s,o,u,c){if(eI.apply(this,arguments),Dl){if(Dl){var h=Lh;Dl=!1,Lh=null}else throw Error(Z(198));Bh||(Bh=!0,fg=h)}}function uo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function LE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ix(t){if(uo(t)!==t)throw Error(Z(188))}function rI(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ix(i),t;if(s===n)return ix(i),e;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function BE(t){return t=rI(t),t!==null?FE(t):null}function FE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FE(t);if(e!==null)return e;t=t.sibling}return null}var UE=Or.unstable_scheduleCallback,sx=Or.unstable_cancelCallback,nI=Or.unstable_shouldYield,iI=Or.unstable_requestPaint,gt=Or.unstable_now,sI=Or.unstable_getCurrentPriorityLevel,Ky=Or.unstable_ImmediatePriority,zE=Or.unstable_UserBlockingPriority,Fh=Or.unstable_NormalPriority,oI=Or.unstable_LowPriority,jE=Or.unstable_IdlePriority,kd=null,Qn=null;function aI(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:cI,lI=Math.log,uI=Math.LN2;function cI(t){return t>>>=0,t===0?32:31-(lI(t)/uI|0)|0}var Tc=64,Cc=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=Sl(u):(s&=o,s!==0&&(n=Sl(s)))}else o=r&~i,o!==0?n=Sl(o):s!==0&&(n=Sl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Tn(e),i=1<<r,n|=t[r],e&=~i;return n}function hI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),u=1<<o,c=i[o];c===-1?(!(u&r)||u&n)&&(i[o]=hI(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GE(){var t=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),t}function Bp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=r}function fI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Tn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Qy(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Tn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function HE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $E,qy,WE,VE,XE,mg=!1,Pc=[],rs=null,ns=null,is=null,Ql=new Map,ql=new Map,Yi=[],pI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function al(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Su(e),e!==null&&qy(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mI(t,e,r,n,i){switch(e){case"focusin":return rs=al(rs,t,e,r,n,i),!0;case"dragenter":return ns=al(ns,t,e,r,n,i),!0;case"mouseover":return is=al(is,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ql.set(s,al(Ql.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,al(ql.get(s)||null,t,e,r,n,i)),!0}return!1}function YE(t){var e=$s(t.target);if(e!==null){var r=uo(e);if(r!==null){if(e=r.tag,e===13){if(e=LE(r),e!==null){t.blockedOn=e,XE(t.priority,function(){WE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=gg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);cg=n,r.target.dispatchEvent(n),cg=null}else return e=Su(r),e!==null&&qy(e),t.blockedOn=r,!1;e.shift()}return!0}function ax(t,e,r){mh(t)&&r.delete(e)}function gI(){mg=!1,rs!==null&&mh(rs)&&(rs=null),ns!==null&&mh(ns)&&(ns=null),is!==null&&mh(is)&&(is=null),Ql.forEach(ax),ql.forEach(ax)}function ll(t,e){t.blockedOn===e&&(t.blockedOn=null,mg||(mg=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,gI)))}function Zl(t){function e(i){return ll(i,t)}if(0<Pc.length){ll(Pc[0],t);for(var r=1;r<Pc.length;r++){var n=Pc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rs!==null&&ll(rs,t),ns!==null&&ll(ns,t),is!==null&&ll(is,t),Ql.forEach(e),ql.forEach(e),r=0;r<Yi.length;r++)n=Yi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)YE(r),r.blockedOn===null&&Yi.shift()}var oa=Ri.ReactCurrentBatchConfig,zh=!0;function yI(t,e,r,n){var i=He,s=oa.transition;oa.transition=null;try{He=1,Zy(t,e,r,n)}finally{He=i,oa.transition=s}}function vI(t,e,r,n){var i=He,s=oa.transition;oa.transition=null;try{He=4,Zy(t,e,r,n)}finally{He=i,oa.transition=s}}function Zy(t,e,r,n){if(zh){var i=gg(t,e,r,n);if(i===null)Xp(t,e,n,jh,r),ox(t,n);else if(mI(i,t,e,r,n))n.stopPropagation();else if(ox(t,n),e&4&&-1<pI.indexOf(t)){for(;i!==null;){var s=Su(i);if(s!==null&&$E(s),s=gg(t,e,r,n),s===null&&Xp(t,e,n,jh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Xp(t,e,n,null,r)}}var jh=null;function gg(t,e,r,n){if(jh=null,t=Yy(n),t=$s(t),t!==null)if(e=uo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=LE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jh=t,null}function KE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sI()){case Ky:return 1;case zE:return 4;case Fh:case oI:return 16;case jE:return 536870912;default:return 16}default:return 16}}var qi=null,Jy=null,gh=null;function QE(){if(gh)return gh;var t,e=Jy,r=e.length,n,i="value"in qi?qi.value:qi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return gh=i.slice(t,1<n?1-n:void 0)}function yh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ac(){return!0}function lx(){return!1}function Br(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ac:lx,this.isPropagationStopped=lx,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),e}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ev=Br(Ma),Eu=lt({},Ma,{view:0,detail:0}),_I=Br(Eu),Fp,Up,ul,Md=lt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(Fp=t.screenX-ul.screenX,Up=t.screenY-ul.screenY):Up=Fp=0,ul=t),Fp)},movementY:function(t){return"movementY"in t?t.movementY:Up}}),ux=Br(Md),xI=lt({},Md,{dataTransfer:0}),wI=Br(xI),EI=lt({},Eu,{relatedTarget:0}),zp=Br(EI),SI=lt({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),bI=Br(SI),TI=lt({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CI=Br(TI),PI=lt({},Ma,{data:0}),cx=Br(PI),AI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},II={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RI[t])?!!e[t]:!1}function tv(){return kI}var MI=lt({},Eu,{key:function(t){if(t.key){var e=AI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?II[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(t){return t.type==="keypress"?yh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NI=Br(MI),DI=lt({},Md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=Br(DI),OI=lt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),LI=Br(OI),BI=lt({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),FI=Br(BI),UI=lt({},Md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zI=Br(UI),jI=[9,13,27,32],rv=bi&&"CompositionEvent"in window,Ol=null;bi&&"documentMode"in document&&(Ol=document.documentMode);var GI=bi&&"TextEvent"in window&&!Ol,qE=bi&&(!rv||Ol&&8<Ol&&11>=Ol),dx=String.fromCharCode(32),fx=!1;function ZE(t,e){switch(t){case"keyup":return jI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function HI(t,e){switch(t){case"compositionend":return JE(e);case"keypress":return e.which!==32?null:(fx=!0,dx);case"textInput":return t=e.data,t===dx&&fx?null:t;default:return null}}function $I(t,e){if($o)return t==="compositionend"||!rv&&ZE(t,e)?(t=QE(),gh=Jy=qi=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qE&&e.locale!=="ko"?null:e.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WI[t.type]:e==="textarea"}function eS(t,e,r,n){kE(n),e=Gh(e,"onChange"),0<e.length&&(r=new ev("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ll=null,Jl=null;function VI(t){hS(t,0)}function Nd(t){var e=Xo(t);if(bE(e))return t}function XI(t,e){if(t==="change")return e}var tS=!1;if(bi){var jp;if(bi){var Gp="oninput"in document;if(!Gp){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Gp=typeof mx.oninput=="function"}jp=Gp}else jp=!1;tS=jp&&(!document.documentMode||9<document.documentMode)}function gx(){Ll&&(Ll.detachEvent("onpropertychange",rS),Jl=Ll=null)}function rS(t){if(t.propertyName==="value"&&Nd(Jl)){var e=[];eS(e,Jl,t,Yy(t)),OE(VI,e)}}function YI(t,e,r){t==="focusin"?(gx(),Ll=e,Jl=r,Ll.attachEvent("onpropertychange",rS)):t==="focusout"&&gx()}function KI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nd(Jl)}function QI(t,e){if(t==="click")return Nd(e)}function qI(t,e){if(t==="input"||t==="change")return Nd(e)}function ZI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:ZI;function eu(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Zm.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function yx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vx(t,e){var r=yx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yx(r)}}function nS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iS(){for(var t=window,e=Oh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Oh(t.document)}return e}function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JI(t){var e=iS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nS(r.ownerDocument.documentElement,r)){if(n!==null&&nv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=vx(r,s);var o=vx(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eR=bi&&"documentMode"in document&&11>=document.documentMode,Wo=null,yg=null,Bl=null,vg=!1;function _x(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vg||Wo==null||Wo!==Oh(n)||(n=Wo,"selectionStart"in n&&nv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bl&&eu(Bl,n)||(Bl=n,n=Gh(yg,"onSelect"),0<n.length&&(e=new ev("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wo)))}function Ic(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vo={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},Hp={},sS={};bi&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Dd(t){if(Hp[t])return Hp[t];if(!Vo[t])return t;var e=Vo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sS)return Hp[t]=e[r];return t}var oS=Dd("animationend"),aS=Dd("animationiteration"),lS=Dd("animationstart"),uS=Dd("transitionend"),cS=new Map,xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){cS.set(t,e),lo(e,[t])}for(var $p=0;$p<xx.length;$p++){var Wp=xx[$p],tR=Wp.toLowerCase(),rR=Wp[0].toUpperCase()+Wp.slice(1);vs(tR,"on"+rR)}vs(oS,"onAnimationEnd");vs(aS,"onAnimationIteration");vs(lS,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(uS,"onTransitionEnd");ya("onMouseEnter",["mouseout","mouseover"]);ya("onMouseLeave",["mouseout","mouseover"]);ya("onPointerEnter",["pointerout","pointerover"]);ya("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function wx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tI(n,e,void 0,t),t.currentTarget=null}function hS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;wx(i,u,h),s=c}else for(o=0;o<n.length;o++){if(u=n[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;wx(i,u,h),s=c}}}if(Bh)throw t=fg,Bh=!1,fg=null,t}function Ye(t,e){var r=e[Sg];r===void 0&&(r=e[Sg]=new Set);var n=t+"__bubble";r.has(n)||(dS(e,t,2,!1),r.add(n))}function Vp(t,e,r){var n=0;e&&(n|=4),dS(r,t,n,e)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[Rc]){t[Rc]=!0,_E.forEach(function(r){r!=="selectionchange"&&(nR.has(r)||Vp(r,!1,t),Vp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rc]||(e[Rc]=!0,Vp("selectionchange",!1,e))}}function dS(t,e,r,n){switch(KE(e)){case 1:var i=yI;break;case 4:i=vI;break;default:i=Zy}r=i.bind(null,e,r,t),i=void 0,!dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Xp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=$s(u),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}u=u.parentNode}}n=n.return}OE(function(){var h=s,f=Yy(r),p=[];e:{var m=cS.get(t);if(m!==void 0){var v=ev,_=t;switch(t){case"keypress":if(yh(r)===0)break e;case"keydown":case"keyup":v=NI;break;case"focusin":_="focus",v=zp;break;case"focusout":_="blur",v=zp;break;case"beforeblur":case"afterblur":v=zp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=wI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=LI;break;case oS:case aS:case lS:v=bI;break;case uS:v=FI;break;case"scroll":v=_I;break;case"wheel":v=zI;break;case"copy":case"cut":case"paste":v=CI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=hx}var b=(e&4)!==0,T=!b&&t==="scroll",S=b?m!==null?m+"Capture":null:m;b=[];for(var E=h,w;E!==null;){w=E;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,S!==null&&(C=Kl(E,S),C!=null&&b.push(ru(E,C,w)))),T)break;E=E.return}0<b.length&&(m=new v(m,_,null,r,f),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==cg&&(_=r.relatedTarget||r.fromElement)&&($s(_)||_[Ti]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=r.relatedTarget||r.toElement,v=h,_=_?$s(_):null,_!==null&&(T=uo(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=h),v!==_)){if(b=ux,C="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=hx,C="onPointerLeave",S="onPointerEnter",E="pointer"),T=v==null?m:Xo(v),w=_==null?m:Xo(_),m=new b(C,E+"leave",v,r,f),m.target=T,m.relatedTarget=w,C=null,$s(f)===h&&(b=new b(S,E+"enter",_,r,f),b.target=w,b.relatedTarget=T,C=b),T=C,v&&_)t:{for(b=v,S=_,E=0,w=b;w;w=Ro(w))E++;for(w=0,C=S;C;C=Ro(C))w++;for(;0<E-w;)b=Ro(b),E--;for(;0<w-E;)S=Ro(S),w--;for(;E--;){if(b===S||S!==null&&b===S.alternate)break t;b=Ro(b),S=Ro(S)}b=null}else b=null;v!==null&&Ex(p,m,v,b,!1),_!==null&&T!==null&&Ex(p,T,_,b,!0)}}e:{if(m=h?Xo(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var I=XI;else if(px(m))if(tS)I=qI;else{I=KI;var L=YI}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=QI);if(I&&(I=I(t,h))){eS(p,I,r,f);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&sg(m,"number",m.value)}switch(L=h?Xo(h):window,t){case"focusin":(px(L)||L.contentEditable==="true")&&(Wo=L,yg=h,Bl=null);break;case"focusout":Bl=yg=Wo=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,_x(p,r,f);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":_x(p,r,f)}var D;if(rv)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else $o?ZE(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(qE&&r.locale!=="ko"&&($o||M!=="onCompositionStart"?M==="onCompositionEnd"&&$o&&(D=QE()):(qi=f,Jy="value"in qi?qi.value:qi.textContent,$o=!0)),L=Gh(h,M),0<L.length&&(M=new cx(M,t,null,r,f),p.push({event:M,listeners:L}),D?M.data=D:(D=JE(r),D!==null&&(M.data=D)))),(D=GI?HI(t,r):$I(t,r))&&(h=Gh(h,"onBeforeInput"),0<h.length&&(f=new cx("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:h}),f.data=D))}hS(p,e)})}function ru(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Gh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kl(t,r),s!=null&&n.unshift(ru(t,s,i)),s=Kl(t,e),s!=null&&n.push(ru(t,s,i))),t=t.return}return n}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ex(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var u=r,c=u.alternate,h=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&h!==null&&(u=h,i?(c=Kl(r,s),c!=null&&o.unshift(ru(r,c,u))):i||(c=Kl(r,s),c!=null&&o.push(ru(r,c,u)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var iR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function Sx(t){return(typeof t=="string"?t:""+t).replace(iR,`
`).replace(sR,"")}function kc(t,e,r){if(e=Sx(e),Sx(t)!==e&&r)throw Error(Z(425))}function Hh(){}var _g=null,xg=null;function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,aR=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(t){return bx.resolve(null).then(t).catch(lR)}:Eg;function lR(t){setTimeout(function(){throw t})}function Yp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Zl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Zl(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Na=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Na,nu="__reactProps$"+Na,Ti="__reactContainer$"+Na,Sg="__reactEvents$"+Na,uR="__reactListeners$"+Na,cR="__reactHandles$"+Na;function $s(t){var e=t[Kn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ti]||r[Kn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Tx(t);t!==null;){if(r=t[Kn])return r;t=Tx(t)}return e}t=r,r=t.parentNode}return null}function Su(t){return t=t[Kn]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Od(t){return t[nu]||null}var bg=[],Yo=-1;function _s(t){return{current:t}}function Ke(t){0>Yo||(t.current=bg[Yo],bg[Yo]=null,Yo--)}function Ve(t,e){Yo++,bg[Yo]=t.current,t.current=e}var fs={},rr=_s(fs),wr=_s(!1),to=fs;function va(t,e){var r=t.type.contextTypes;if(!r)return fs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Er(t){return t=t.childContextTypes,t!=null}function $h(){Ke(wr),Ke(rr)}function Cx(t,e,r){if(rr.current!==fs)throw Error(Z(168));Ve(rr,e),Ve(wr,r)}function fS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,YA(t)||"Unknown",i));return lt({},r,n)}function Wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,to=rr.current,Ve(rr,t),Ve(wr,wr.current),!0}function Px(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=fS(t,e,to),n.__reactInternalMemoizedMergedChildContext=t,Ke(wr),Ke(rr),Ve(rr,t)):Ke(wr),Ve(wr,r)}var pi=null,Ld=!1,Kp=!1;function pS(t){pi===null?pi=[t]:pi.push(t)}function hR(t){Ld=!0,pS(t)}function xs(){if(!Kp&&pi!==null){Kp=!0;var t=0,e=He;try{var r=pi;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}pi=null,Ld=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),UE(Ky,xs),i}finally{He=e,Kp=!1}}return null}var Ko=[],Qo=0,Vh=null,Xh=0,Qr=[],qr=0,ro=null,gi=1,yi="";function Bs(t,e){Ko[Qo++]=Xh,Ko[Qo++]=Vh,Vh=t,Xh=e}function mS(t,e,r){Qr[qr++]=gi,Qr[qr++]=yi,Qr[qr++]=ro,ro=t;var n=gi;t=yi;var i=32-Tn(n)-1;n&=~(1<<i),r+=1;var s=32-Tn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,gi=1<<32-Tn(e)+i|r<<i|n,yi=s+t}else gi=1<<s|r<<i|n,yi=t}function iv(t){t.return!==null&&(Bs(t,1),mS(t,1,0))}function sv(t){for(;t===Vh;)Vh=Ko[--Qo],Ko[Qo]=null,Xh=Ko[--Qo],Ko[Qo]=null;for(;t===ro;)ro=Qr[--qr],Qr[qr]=null,yi=Qr[--qr],Qr[qr]=null,gi=Qr[--qr],Qr[qr]=null}var Nr=null,Mr=null,et=!1,_n=null;function gS(t,e){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ax(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nr=t,Mr=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nr=t,Mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ro!==null?{id:gi,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Nr=t,Mr=null,!0):!1;default:return!1}}function Tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cg(t){if(et){var e=Mr;if(e){var r=e;if(!Ax(t,e)){if(Tg(t))throw Error(Z(418));e=ss(r.nextSibling);var n=Nr;e&&Ax(t,e)?gS(n,r):(t.flags=t.flags&-4097|2,et=!1,Nr=t)}}else{if(Tg(t))throw Error(Z(418));t.flags=t.flags&-4097|2,et=!1,Nr=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nr=t}function Mc(t){if(t!==Nr)return!1;if(!et)return Ix(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wg(t.type,t.memoizedProps)),e&&(e=Mr)){if(Tg(t))throw yS(),Error(Z(418));for(;e;)gS(t,e),e=ss(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Mr=ss(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Mr=null}}else Mr=Nr?ss(t.stateNode.nextSibling):null;return!0}function yS(){for(var t=Mr;t;)t=ss(t.nextSibling)}function _a(){Mr=Nr=null,et=!1}function ov(t){_n===null?_n=[t]:_n.push(t)}var dR=Ri.ReactCurrentBatchConfig;function gn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Yh=_s(null),Kh=null,qo=null,av=null;function lv(){av=qo=Kh=null}function uv(t){var e=Yh.current;Ke(Yh),t._currentValue=e}function Pg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function aa(t,e){Kh=t,av=qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xr=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},qo===null){if(Kh===null)throw Error(Z(308));qo=t,Kh.dependencies={lanes:0,firstContext:t}}else qo=qo.next=t;return e}var Ws=null;function cv(t){Ws===null?Ws=[t]:Ws.push(t)}function vS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,cv(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ci(t,n)}function Ci(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Vi=!1;function hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _S(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ci(t,r)}return i=n.interleaved,i===null?(e.next=e,cv(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ci(t,r)}function vh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qy(t,r)}}function Rx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Qh(t,e,r,n){var i=t.updateQueue;Vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,u=s;do{var m=u.lane,v=u.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=t,b=u;switch(m=e,v=r,b.tag){case 1:if(_=b.payload,typeof _=="function"){p=_.call(v,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,m=typeof _=="function"?_.call(v,p,m):_,m==null)break e;p=lt({},p,m);break e;case 2:Vi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=v,c=p):f=f.next=v,o|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);io|=o,t.lanes=o,t.memoizedState=p}}function kx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var xS=new vE.Component().refs;function Ag(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bd={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cr(),i=ls(t),s=wi(n,i);s.payload=e,r!=null&&(s.callback=r),e=os(t,s,i),e!==null&&(Cn(e,t,i,n),vh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cr(),i=ls(t),s=wi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=os(t,s,i),e!==null&&(Cn(e,t,i,n),vh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cr(),n=ls(t),i=wi(r,n);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,n),e!==null&&(Cn(e,t,n,r),vh(e,t,n))}};function Mx(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!eu(r,n)||!eu(i,s):!0}function wS(t,e,r){var n=!1,i=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=rn(s):(i=Er(e)?to:rr.current,n=e.contextTypes,s=(n=n!=null)?va(t,i):fs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function Ig(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=xS,hv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rn(s):(s=Er(e)?to:rr.current,i.context=va(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ag(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bd.enqueueReplaceState(i,i.state,null),Qh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===xS&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Nc(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dx(t){var e=t._init;return e(t._payload)}function ES(t){function e(S,E){if(t){var w=S.deletions;w===null?(S.deletions=[E],S.flags|=16):w.push(E)}}function r(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=us(S,E),S.index=0,S.sibling=null,S}function s(S,E,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<E?(S.flags|=2,E):w):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,E,w,C){return E===null||E.tag!==6?(E=rm(w,S.mode,C),E.return=S,E):(E=i(E,w),E.return=S,E)}function c(S,E,w,C){var I=w.type;return I===Ho?f(S,E,w.props.children,C,w.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wi&&Dx(I)===E.type)?(C=i(E,w.props),C.ref=cl(S,E,w),C.return=S,C):(C=bh(w.type,w.key,w.props,null,S.mode,C),C.ref=cl(S,E,w),C.return=S,C)}function h(S,E,w,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=nm(w,S.mode,C),E.return=S,E):(E=i(E,w.children||[]),E.return=S,E)}function f(S,E,w,C,I){return E===null||E.tag!==7?(E=Ks(w,S.mode,C,I),E.return=S,E):(E=i(E,w),E.return=S,E)}function p(S,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=rm(""+E,S.mode,w),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:return w=bh(E.type,E.key,E.props,null,S.mode,w),w.ref=cl(S,null,E),w.return=S,w;case Go:return E=nm(E,S.mode,w),E.return=S,E;case Wi:var C=E._init;return p(S,C(E._payload),w)}if(El(E)||sl(E))return E=Ks(E,S.mode,w,null),E.return=S,E;Nc(S,E)}return null}function m(S,E,w,C){var I=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:u(S,E,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ec:return w.key===I?c(S,E,w,C):null;case Go:return w.key===I?h(S,E,w,C):null;case Wi:return I=w._init,m(S,E,I(w._payload),C)}if(El(w)||sl(w))return I!==null?null:f(S,E,w,C,null);Nc(S,w)}return null}function v(S,E,w,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(w)||null,u(E,S,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ec:return S=S.get(C.key===null?w:C.key)||null,c(E,S,C,I);case Go:return S=S.get(C.key===null?w:C.key)||null,h(E,S,C,I);case Wi:var L=C._init;return v(S,E,w,L(C._payload),I)}if(El(C)||sl(C))return S=S.get(w)||null,f(E,S,C,I,null);Nc(E,C)}return null}function _(S,E,w,C){for(var I=null,L=null,D=E,M=E=0,Y=null;D!==null&&M<w.length;M++){D.index>M?(Y=D,D=null):Y=D.sibling;var X=m(S,D,w[M],C);if(X===null){D===null&&(D=Y);break}t&&D&&X.alternate===null&&e(S,D),E=s(X,E,M),L===null?I=X:L.sibling=X,L=X,D=Y}if(M===w.length)return r(S,D),et&&Bs(S,M),I;if(D===null){for(;M<w.length;M++)D=p(S,w[M],C),D!==null&&(E=s(D,E,M),L===null?I=D:L.sibling=D,L=D);return et&&Bs(S,M),I}for(D=n(S,D);M<w.length;M++)Y=v(D,S,M,w[M],C),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?M:Y.key),E=s(Y,E,M),L===null?I=Y:L.sibling=Y,L=Y);return t&&D.forEach(function(K){return e(S,K)}),et&&Bs(S,M),I}function b(S,E,w,C){var I=sl(w);if(typeof I!="function")throw Error(Z(150));if(w=I.call(w),w==null)throw Error(Z(151));for(var L=I=null,D=E,M=E=0,Y=null,X=w.next();D!==null&&!X.done;M++,X=w.next()){D.index>M?(Y=D,D=null):Y=D.sibling;var K=m(S,D,X.value,C);if(K===null){D===null&&(D=Y);break}t&&D&&K.alternate===null&&e(S,D),E=s(K,E,M),L===null?I=K:L.sibling=K,L=K,D=Y}if(X.done)return r(S,D),et&&Bs(S,M),I;if(D===null){for(;!X.done;M++,X=w.next())X=p(S,X.value,C),X!==null&&(E=s(X,E,M),L===null?I=X:L.sibling=X,L=X);return et&&Bs(S,M),I}for(D=n(S,D);!X.done;M++,X=w.next())X=v(D,S,M,X.value,C),X!==null&&(t&&X.alternate!==null&&D.delete(X.key===null?M:X.key),E=s(X,E,M),L===null?I=X:L.sibling=X,L=X);return t&&D.forEach(function(te){return e(S,te)}),et&&Bs(S,M),I}function T(S,E,w,C){if(typeof w=="object"&&w!==null&&w.type===Ho&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ec:e:{for(var I=w.key,L=E;L!==null;){if(L.key===I){if(I=w.type,I===Ho){if(L.tag===7){r(S,L.sibling),E=i(L,w.props.children),E.return=S,S=E;break e}}else if(L.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wi&&Dx(I)===L.type){r(S,L.sibling),E=i(L,w.props),E.ref=cl(S,L,w),E.return=S,S=E;break e}r(S,L);break}else e(S,L);L=L.sibling}w.type===Ho?(E=Ks(w.props.children,S.mode,C,w.key),E.return=S,S=E):(C=bh(w.type,w.key,w.props,null,S.mode,C),C.ref=cl(S,E,w),C.return=S,S=C)}return o(S);case Go:e:{for(L=w.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){r(S,E.sibling),E=i(E,w.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else e(S,E);E=E.sibling}E=nm(w,S.mode,C),E.return=S,S=E}return o(S);case Wi:return L=w._init,T(S,E,L(w._payload),C)}if(El(w))return _(S,E,w,C);if(sl(w))return b(S,E,w,C);Nc(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,w),E.return=S,S=E):(r(S,E),E=rm(w,S.mode,C),E.return=S,S=E),o(S)):r(S,E)}return T}var xa=ES(!0),SS=ES(!1),bu={},qn=_s(bu),iu=_s(bu),su=_s(bu);function Vs(t){if(t===bu)throw Error(Z(174));return t}function dv(t,e){switch(Ve(su,e),Ve(iu,t),Ve(qn,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ag(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ag(e,t)}Ke(qn),Ve(qn,e)}function wa(){Ke(qn),Ke(iu),Ke(su)}function bS(t){Vs(su.current);var e=Vs(qn.current),r=ag(e,t.type);e!==r&&(Ve(iu,t),Ve(qn,r))}function fv(t){iu.current===t&&(Ke(qn),Ke(iu))}var st=_s(0);function qh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function pv(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var _h=Ri.ReactCurrentDispatcher,qp=Ri.ReactCurrentBatchConfig,no=0,at=null,Tt=null,Dt=null,Zh=!1,Fl=!1,ou=0,fR=0;function qt(){throw Error(Z(321))}function mv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Rn(t[r],e[r]))return!1;return!0}function gv(t,e,r,n,i,s){if(no=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_h.current=t===null||t.memoizedState===null?yR:vR,t=r(n,i),Fl){s=0;do{if(Fl=!1,ou=0,25<=s)throw Error(Z(301));s+=1,Dt=Tt=null,e.updateQueue=null,_h.current=_R,t=r(n,i)}while(Fl)}if(_h.current=Jh,e=Tt!==null&&Tt.next!==null,no=0,Dt=Tt=at=null,Zh=!1,e)throw Error(Z(300));return t}function yv(){var t=ou!==0;return ou=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?at.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function nn(){if(Tt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Dt===null?at.memoizedState:Dt.next;if(e!==null)Dt=e,Tt=t;else{if(t===null)throw Error(Z(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Dt===null?at.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function au(t,e){return typeof e=="function"?e(t):e}function Zp(t){var e=nn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Tt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,c=null,h=s;do{var f=h.lane;if((no&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=p,o=n):c=c.next=p,at.lanes|=f,io|=f}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=u,Rn(n,e.memoizedState)||(xr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,io|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Jp(t){var e=nn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(xr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function TS(){}function CS(t,e){var r=at,n=nn(),i=e(),s=!Rn(n.memoizedState,i);if(s&&(n.memoizedState=i,xr=!0),n=n.queue,vv(IS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,lu(9,AS.bind(null,r,n,i,e),void 0,null),Lt===null)throw Error(Z(349));no&30||PS(r,e,i)}return i}function PS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function AS(t,e,r,n){e.value=r,e.getSnapshot=n,RS(e)&&kS(t)}function IS(t,e,r){return r(function(){RS(e)&&kS(t)})}function RS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Rn(t,r)}catch{return!0}}function kS(t){var e=Ci(t,1);e!==null&&Cn(e,t,1,-1)}function Ox(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:t},e.queue=t,t=t.dispatch=gR.bind(null,at,t),[e.memoizedState,t]}function lu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function MS(){return nn().memoizedState}function xh(t,e,r,n){var i=Vn();at.flags|=t,i.memoizedState=lu(1|e,r,void 0,n===void 0?null:n)}function Fd(t,e,r,n){var i=nn();n=n===void 0?null:n;var s=void 0;if(Tt!==null){var o=Tt.memoizedState;if(s=o.destroy,n!==null&&mv(n,o.deps)){i.memoizedState=lu(e,r,s,n);return}}at.flags|=t,i.memoizedState=lu(1|e,r,s,n)}function Lx(t,e){return xh(8390656,8,t,e)}function vv(t,e){return Fd(2048,8,t,e)}function NS(t,e){return Fd(4,2,t,e)}function DS(t,e){return Fd(4,4,t,e)}function OS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LS(t,e,r){return r=r!=null?r.concat([t]):null,Fd(4,4,OS.bind(null,e,t),r)}function _v(){}function BS(t,e){var r=nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function FS(t,e){var r=nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function US(t,e,r){return no&21?(Rn(r,e)||(r=GE(),at.lanes|=r,io|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xr=!0),t.memoizedState=r)}function pR(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=qp.transition;qp.transition={};try{t(!1),e()}finally{He=r,qp.transition=n}}function zS(){return nn().memoizedState}function mR(t,e,r){var n=ls(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jS(t))GS(e,r);else if(r=vS(t,e,r,n),r!==null){var i=cr();Cn(r,t,n,i),HS(r,e,n)}}function gR(t,e,r){var n=ls(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jS(t))GS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,Rn(u,o)){var c=e.interleaved;c===null?(i.next=i,cv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=vS(t,e,i,n),r!==null&&(i=cr(),Cn(r,t,n,i),HS(r,e,n))}}function jS(t){var e=t.alternate;return t===at||e!==null&&e===at}function GS(t,e){Fl=Zh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function HS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qy(t,r)}}var Jh={readContext:rn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},yR={readContext:rn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Lx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xh(4194308,4,OS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return xh(4,2,t,e)},useMemo:function(t,e){var r=Vn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mR.bind(null,at,t),[n.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:Ox,useDebugValue:_v,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=Ox(!1),e=t[0];return t=pR.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=at,i=Vn();if(et){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),Lt===null)throw Error(Z(349));no&30||PS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Lx(IS.bind(null,n,s,t),[t]),n.flags|=2048,lu(9,AS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Vn(),e=Lt.identifierPrefix;if(et){var r=yi,n=gi;r=(n&~(1<<32-Tn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ou++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vR={readContext:rn,useCallback:BS,useContext:rn,useEffect:vv,useImperativeHandle:LS,useInsertionEffect:NS,useLayoutEffect:DS,useMemo:FS,useReducer:Zp,useRef:MS,useState:function(){return Zp(au)},useDebugValue:_v,useDeferredValue:function(t){var e=nn();return US(e,Tt.memoizedState,t)},useTransition:function(){var t=Zp(au)[0],e=nn().memoizedState;return[t,e]},useMutableSource:TS,useSyncExternalStore:CS,useId:zS,unstable_isNewReconciler:!1},_R={readContext:rn,useCallback:BS,useContext:rn,useEffect:vv,useImperativeHandle:LS,useInsertionEffect:NS,useLayoutEffect:DS,useMemo:FS,useReducer:Jp,useRef:MS,useState:function(){return Jp(au)},useDebugValue:_v,useDeferredValue:function(t){var e=nn();return Tt===null?e.memoizedState=t:US(e,Tt.memoizedState,t)},useTransition:function(){var t=Jp(au)[0],e=nn().memoizedState;return[t,e]},useMutableSource:TS,useSyncExternalStore:CS,useId:zS,unstable_isNewReconciler:!1};function Ea(t,e){try{var r="",n=e;do r+=XA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function em(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xR=typeof WeakMap=="function"?WeakMap:Map;function $S(t,e,r){r=wi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){td||(td=!0,zg=n),Rg(t,e)},r}function WS(t,e,r){r=wi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Rg(t,e),typeof n!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=DR.bind(null,t,e,r),e.then(t,t))}function Fx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ux(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wi(-1,1),e.tag=2,os(r,e,1))),r.lanes|=1),t)}var wR=Ri.ReactCurrentOwner,xr=!1;function ur(t,e,r,n){e.child=t===null?SS(e,null,r,n):xa(e,t.child,r,n)}function zx(t,e,r,n,i){r=r.render;var s=e.ref;return aa(e,i),n=gv(t,e,r,n,s,i),r=yv(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(et&&r&&iv(e),e.flags|=1,ur(t,e,n,i),e.child)}function jx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Pv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,VS(t,e,s,n,i)):(t=bh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:eu,r(o,n)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=us(s,n),t.ref=e.ref,t.return=e,e.child=t}function VS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(eu(s,n)&&t.ref===e.ref)if(xr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(xr=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return kg(t,e,r,n,i)}function XS(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Jo,kr),kr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Jo,kr),kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ve(Jo,kr),kr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ve(Jo,kr),kr|=n;return ur(t,e,i,r),e.child}function YS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,r,n,i){var s=Er(r)?to:rr.current;return s=va(e,s),aa(e,i),r=gv(t,e,r,n,s,i),n=yv(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(et&&n&&iv(e),e.flags|=1,ur(t,e,r,i),e.child)}function Gx(t,e,r,n,i){if(Er(r)){var s=!0;Wh(e)}else s=!1;if(aa(e,i),e.stateNode===null)wh(t,e),wS(e,r,n),Ig(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=rn(h):(h=Er(r)?to:rr.current,h=va(e,h));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||c!==h)&&Nx(e,o,n,h),Vi=!1;var m=e.memoizedState;o.state=m,Qh(e,n,o,i),c=e.memoizedState,u!==n||m!==c||wr.current||Vi?(typeof f=="function"&&(Ag(e,r,f,n),c=e.memoizedState),(u=Vi||Mx(e,r,u,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_S(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:gn(e.type,u),o.props=h,p=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=Er(r)?to:rr.current,c=va(e,c));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||m!==c)&&Nx(e,o,n,c),Vi=!1,m=e.memoizedState,o.state=m,Qh(e,n,o,i);var _=e.memoizedState;u!==p||m!==_||wr.current||Vi?(typeof v=="function"&&(Ag(e,r,v,n),_=e.memoizedState),(h=Vi||Mx(e,r,h,n,m,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Mg(t,e,r,n,s,i)}function Mg(t,e,r,n,i,s){YS(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Px(e,r,!1),Pi(t,e,s);n=e.stateNode,wR.current=e;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=xa(e,t.child,null,s),e.child=xa(e,null,u,s)):ur(t,e,u,s),e.memoizedState=n.state,i&&Px(e,r,!0),e.child}function KS(t){var e=t.stateNode;e.pendingContext?Cx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cx(t,e.context,!1),dv(t,e.containerInfo)}function Hx(t,e,r,n,i){return _a(),ov(i),e.flags|=256,ur(t,e,r,n),e.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function QS(t,e,r){var n=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(st,i&1),t===null)return Cg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jd(o,n,0,null),t=Ks(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dg(r),e.memoizedState=Ng,t):xv(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return ER(t,e,o,n,u,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=us(i,c),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=us(u,s):(s=Ks(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Dg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Ng,n}return s=t.child,t=s.sibling,n=us(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function xv(t,e){return e=jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dc(t,e,r,n){return n!==null&&ov(n),xa(e,t.child,null,r),t=xv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ER(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=em(Error(Z(422))),Dc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=jd({mode:"visible",children:n.children},i,0,null),s=Ks(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&xa(e,t.child,null,o),e.child.memoizedState=Dg(o),e.memoizedState=Ng,s);if(!(e.mode&1))return Dc(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Z(419)),n=em(s,n,void 0),Dc(t,e,o,n)}if(u=(o&t.childLanes)!==0,xr||u){if(n=Lt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ci(t,i),Cn(n,t,i,-1))}return Cv(),n=em(Error(Z(421))),Dc(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mr=ss(i.nextSibling),Nr=e,et=!0,_n=null,t!==null&&(Qr[qr++]=gi,Qr[qr++]=yi,Qr[qr++]=ro,gi=t.id,yi=t.overflow,ro=e),e=xv(e,n.children),e.flags|=4096,e)}function $x(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pg(t.return,e,r)}function tm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function qS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(ur(t,e,n.children,r),n=st.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$x(t,r,e);else if(t.tag===19)$x(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ve(st,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&qh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),tm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}tm(e,!0,r,null,s);break;case"together":tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),io|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=us(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=us(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function SR(t,e,r){switch(e.tag){case 3:KS(e),_a();break;case 5:bS(e);break;case 1:Er(e.type)&&Wh(e);break;case 4:dv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ve(Yh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ve(st,st.current&1),e.flags|=128,null):r&e.child.childLanes?QS(t,e,r):(Ve(st,st.current&1),t=Pi(t,e,r),t!==null?t.sibling:null);Ve(st,st.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(st,st.current),n)break;return null;case 22:case 23:return e.lanes=0,XS(t,e,r)}return Pi(t,e,r)}var ZS,Og,JS,eb;ZS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Og=function(){};JS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vs(qn.current);var s=null;switch(r){case"input":i=ng(t,i),n=ng(t,n),s=[];break;case"select":i=lt({},i,{value:void 0}),n=lt({},n,{value:void 0}),s=[];break;case"textarea":i=og(t,i),n=og(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hh)}lg(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Xl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(u=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ye("scroll",t),s||u===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};eb=function(t,e,r,n){r!==n&&(e.flags|=4)};function hl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bR(t,e,r){var n=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Er(e.type)&&$h(),Zt(e),null;case 3:return n=e.stateNode,wa(),Ke(wr),Ke(rr),pv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Hg(_n),_n=null))),Og(t,e),Zt(e),null;case 5:fv(e);var i=Vs(su.current);if(r=e.type,t!==null&&e.stateNode!=null)JS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return Zt(e),null}if(t=Vs(qn.current),Mc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Kn]=e,n[nu]=s,t=(e.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(i=0;i<bl.length;i++)Ye(bl[i],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":J_(n,s),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",n);break;case"textarea":tx(n,s),Ye("invalid",n)}lg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&kc(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&kc(n.textContent,u,t),i=["children",""+u]):Xl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Sc(n),ex(n,s,!0);break;case"textarea":Sc(n),rx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Hh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Kn]=e,t[nu]=n,ZS(t,e,!1,!1),e.stateNode=t;e:{switch(o=ug(r,n),r){case"dialog":Ye("cancel",t),Ye("close",t),i=n;break;case"iframe":case"object":case"embed":Ye("load",t),i=n;break;case"video":case"audio":for(i=0;i<bl.length;i++)Ye(bl[i],t);i=n;break;case"source":Ye("error",t),i=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=n;break;case"details":Ye("toggle",t),i=n;break;case"input":J_(t,n),i=ng(t,n),Ye("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lt({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":tx(t,n),i=og(t,n),Ye("invalid",t);break;default:i=n}lg(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?RE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AE(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yl(t,c):typeof c=="number"&&Yl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",t):c!=null&&$y(t,s,c,o))}switch(r){case"input":Sc(t),ex(t,n,!1);break;case"textarea":Sc(t),rx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ds(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?na(t,!!n.multiple,s,!1):n.defaultValue!=null&&na(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)eb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Vs(su.current),Vs(qn.current),Mc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Kn]=e,(s=n.nodeValue!==r)&&(t=Nr,t!==null))switch(t.tag){case 3:kc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kn]=e,e.stateNode=n}return Zt(e),null;case 13:if(Ke(st),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Mr!==null&&e.mode&1&&!(e.flags&128))yS(),_a(),e.flags|=98560,s=!1;else if(s=Mc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Kn]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),s=!1}else _n!==null&&(Hg(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Ct===0&&(Ct=3):Cv())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return wa(),Og(t,e),t===null&&tu(e.stateNode.containerInfo),Zt(e),null;case 10:return uv(e.type._context),Zt(e),null;case 17:return Er(e.type)&&$h(),Zt(e),null;case 19:if(Ke(st),s=e.memoizedState,s===null)return Zt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)hl(s,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qh(t),o!==null){for(e.flags|=128,hl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ve(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>Sa&&(e.flags|=128,n=!0,hl(s,!1),e.lanes=4194304)}else{if(!n)if(t=qh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Zt(e),null}else 2*gt()-s.renderingStartTime>Sa&&r!==1073741824&&(e.flags|=128,n=!0,hl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,r=st.current,Ve(st,n?r&1|2:r&1),e):(Zt(e),null);case 22:case 23:return Tv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kr&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function TR(t,e){switch(sv(e),e.tag){case 1:return Er(e.type)&&$h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),Ke(wr),Ke(rr),pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fv(e),null;case 13:if(Ke(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));_a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(st),null;case 4:return wa(),null;case 10:return uv(e.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var Oc=!1,er=!1,CR=typeof WeakSet=="function"?WeakSet:Set,he=null;function Zo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ht(t,e,n)}else r.current=null}function Lg(t,e,r){try{r()}catch(n){ht(t,e,n)}}var Wx=!1;function PR(t,e){if(_g=zh,t=iS(),nv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==r||i!==0&&p.nodeType!==3||(u=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===r&&++h===i&&(u=o),m===s&&++f===n&&(c=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xg={focusedElem:t,selectionRange:r},zh=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,T=_.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:gn(e.type,b),T);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){ht(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return _=Wx,Wx=!1,_}function Ul(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lg(e,r,s)}i=i.next}while(i!==n)}}function Ud(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Bg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tb(t){var e=t.alternate;e!==null&&(t.alternate=null,tb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[nu],delete e[Sg],delete e[uR],delete e[cR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rb(t){return t.tag===5||t.tag===3||t.tag===4}function Vx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hh));else if(n!==4&&(t=t.child,t!==null))for(Fg(t,e,r),t=t.sibling;t!==null;)Fg(t,e,r),t=t.sibling}function Ug(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ug(t,e,r),t=t.sibling;t!==null;)Ug(t,e,r),t=t.sibling}var jt=null,vn=!1;function Hi(t,e,r){for(r=r.child;r!==null;)nb(t,e,r),r=r.sibling}function nb(t,e,r){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(kd,r)}catch{}switch(r.tag){case 5:er||Zo(r,e);case 6:var n=jt,i=vn;jt=null,Hi(t,e,r),jt=n,vn=i,jt!==null&&(vn?(t=jt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):jt.removeChild(r.stateNode));break;case 18:jt!==null&&(vn?(t=jt,r=r.stateNode,t.nodeType===8?Yp(t.parentNode,r):t.nodeType===1&&Yp(t,r),Zl(t)):Yp(jt,r.stateNode));break;case 4:n=jt,i=vn,jt=r.stateNode.containerInfo,vn=!0,Hi(t,e,r),jt=n,vn=i;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lg(r,e,o),i=i.next}while(i!==n)}Hi(t,e,r);break;case 1:if(!er&&(Zo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){ht(r,e,u)}Hi(t,e,r);break;case 21:Hi(t,e,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,Hi(t,e,r),er=n):Hi(t,e,r);break;default:Hi(t,e,r)}}function Xx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new CR),e.forEach(function(n){var i=LR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:jt=u.stateNode,vn=!1;break e;case 3:jt=u.stateNode.containerInfo,vn=!0;break e;case 4:jt=u.stateNode.containerInfo,vn=!0;break e}u=u.return}if(jt===null)throw Error(Z(160));nb(s,o,i),jt=null,vn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){ht(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ib(e,t),e=e.sibling}function ib(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Gn(t),n&4){try{Ul(3,t,t.return),Ud(3,t)}catch(b){ht(t,t.return,b)}try{Ul(5,t,t.return)}catch(b){ht(t,t.return,b)}}break;case 1:cn(e,t),Gn(t),n&512&&r!==null&&Zo(r,r.return);break;case 5:if(cn(e,t),Gn(t),n&512&&r!==null&&Zo(r,r.return),t.flags&32){var i=t.stateNode;try{Yl(i,"")}catch(b){ht(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&TE(i,s),ug(u,o);var h=ug(u,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?RE(i,p):f==="dangerouslySetInnerHTML"?AE(i,p):f==="children"?Yl(i,p):$y(i,f,p,h)}switch(u){case"input":ig(i,s);break;case"textarea":CE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?na(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[nu]=s}catch(b){ht(t,t.return,b)}}break;case 6:if(cn(e,t),Gn(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){ht(t,t.return,b)}}break;case 3:if(cn(e,t),Gn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(b){ht(t,t.return,b)}break;case 4:cn(e,t),Gn(t);break;case 13:cn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sv=gt())),n&4&&Xx(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(er=(h=er)||f,cn(e,t),er=h):cn(e,t),Gn(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(p=he=f;he!==null;){switch(m=he,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ul(4,m,m.return);break;case 1:Zo(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(b){ht(n,r,b)}}break;case 5:Zo(m,m.return);break;case 22:if(m.memoizedState!==null){Kx(p);continue}}v!==null?(v.return=m,he=v):Kx(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=IE("display",o))}catch(b){ht(t,t.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(b){ht(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cn(e,t),Gn(t),n&4&&Xx(t);break;case 21:break;default:cn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rb(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Yl(i,""),n.flags&=-33);var s=Vx(t);Ug(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Vx(t);Fg(t,u,o);break;default:throw Error(Z(161))}}catch(c){ht(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AR(t,e,r){he=t,sb(t)}function sb(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Oc;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||er;u=Oc;var h=er;if(Oc=o,(er=c)&&!h)for(he=i;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?Qx(i):c!==null?(c.return=o,he=c):Qx(i);for(;s!==null;)he=s,sb(s),s=s.sibling;he=i,Oc=u,er=h}Yx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):Yx(t)}}function Yx(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:er||Ud(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:gn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kx(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kx(e,o,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Zl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}er||e.flags&512&&Bg(e)}catch(m){ht(e,e.return,m)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function Kx(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function Qx(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ud(4,e)}catch(c){ht(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){ht(e,i,c)}}var s=e.return;try{Bg(e)}catch(c){ht(e,s,c)}break;case 5:var o=e.return;try{Bg(e)}catch(c){ht(e,o,c)}}}catch(c){ht(e,e.return,c)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var IR=Math.ceil,ed=Ri.ReactCurrentDispatcher,wv=Ri.ReactCurrentOwner,tn=Ri.ReactCurrentBatchConfig,De=0,Lt=null,wt=null,Wt=0,kr=0,Jo=_s(0),Ct=0,uu=null,io=0,zd=0,Ev=0,zl=null,_r=null,Sv=0,Sa=1/0,fi=null,td=!1,zg=null,as=null,Lc=!1,Zi=null,rd=0,jl=0,jg=null,Eh=-1,Sh=0;function cr(){return De&6?gt():Eh!==-1?Eh:Eh=gt()}function ls(t){return t.mode&1?De&2&&Wt!==0?Wt&-Wt:dR.transition!==null?(Sh===0&&(Sh=GE()),Sh):(t=He,t!==0||(t=window.event,t=t===void 0?16:KE(t.type)),t):1}function Cn(t,e,r,n){if(50<jl)throw jl=0,jg=null,Error(Z(185));wu(t,r,n),(!(De&2)||t!==Lt)&&(t===Lt&&(!(De&2)&&(zd|=r),Ct===4&&Ki(t,Wt)),Sr(t,n),r===1&&De===0&&!(e.mode&1)&&(Sa=gt()+500,Ld&&xs()))}function Sr(t,e){var r=t.callbackNode;dI(t,e);var n=Uh(t,t===Lt?Wt:0);if(n===0)r!==null&&sx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sx(r),e===1)t.tag===0?hR(qx.bind(null,t)):pS(qx.bind(null,t)),aR(function(){!(De&6)&&xs()}),r=null;else{switch(HE(n)){case 1:r=Ky;break;case 4:r=zE;break;case 16:r=Fh;break;case 536870912:r=jE;break;default:r=Fh}r=fb(r,ob.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ob(t,e){if(Eh=-1,Sh=0,De&6)throw Error(Z(327));var r=t.callbackNode;if(la()&&t.callbackNode!==r)return null;var n=Uh(t,t===Lt?Wt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=nd(t,n);else{e=n;var i=De;De|=2;var s=lb();(Lt!==t||Wt!==e)&&(fi=null,Sa=gt()+500,Ys(t,e));do try{MR();break}catch(u){ab(t,u)}while(1);lv(),ed.current=s,De=i,wt!==null?e=0:(Lt=null,Wt=0,e=Ct)}if(e!==0){if(e===2&&(i=pg(t),i!==0&&(n=i,e=Gg(t,i))),e===1)throw r=uu,Ys(t,0),Ki(t,n),Sr(t,gt()),r;if(e===6)Ki(t,n);else{if(i=t.current.alternate,!(n&30)&&!RR(i)&&(e=nd(t,n),e===2&&(s=pg(t),s!==0&&(n=s,e=Gg(t,s))),e===1))throw r=uu,Ys(t,0),Ki(t,n),Sr(t,gt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:Fs(t,_r,fi);break;case 3:if(Ki(t,n),(n&130023424)===n&&(e=Sv+500-gt(),10<e)){if(Uh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Eg(Fs.bind(null,t,_r,fi),e);break}Fs(t,_r,fi);break;case 4:if(Ki(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Tn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=gt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IR(n/1960))-n,10<n){t.timeoutHandle=Eg(Fs.bind(null,t,_r,fi),n);break}Fs(t,_r,fi);break;case 5:Fs(t,_r,fi);break;default:throw Error(Z(329))}}}return Sr(t,gt()),t.callbackNode===r?ob.bind(null,t):null}function Gg(t,e){var r=zl;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=nd(t,e),t!==2&&(e=_r,_r=r,e!==null&&Hg(e)),t}function Hg(t){_r===null?_r=t:_r.push.apply(_r,t)}function RR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~Ev,e&=~zd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Tn(e),n=1<<r;t[r]=-1,e&=~n}}function qx(t){if(De&6)throw Error(Z(327));la();var e=Uh(t,0);if(!(e&1))return Sr(t,gt()),null;var r=nd(t,e);if(t.tag!==0&&r===2){var n=pg(t);n!==0&&(e=n,r=Gg(t,n))}if(r===1)throw r=uu,Ys(t,0),Ki(t,e),Sr(t,gt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fs(t,_r,fi),Sr(t,gt()),null}function bv(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(Sa=gt()+500,Ld&&xs())}}function so(t){Zi!==null&&Zi.tag===0&&!(De&6)&&la();var e=De;De|=1;var r=tn.transition,n=He;try{if(tn.transition=null,He=1,t)return t()}finally{He=n,tn.transition=r,De=e,!(De&6)&&xs()}}function Tv(){kr=Jo.current,Ke(Jo)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,oR(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(sv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$h();break;case 3:wa(),Ke(wr),Ke(rr),pv();break;case 5:fv(n);break;case 4:wa();break;case 13:Ke(st);break;case 19:Ke(st);break;case 10:uv(n.type._context);break;case 22:case 23:Tv()}r=r.return}if(Lt=t,wt=t=us(t.current,null),Wt=kr=e,Ct=0,uu=null,Ev=zd=io=0,_r=zl=null,Ws!==null){for(e=0;e<Ws.length;e++)if(r=Ws[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ws=null}return t}function ab(t,e){do{var r=wt;try{if(lv(),_h.current=Jh,Zh){for(var n=at.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Zh=!1}if(no=0,Dt=Tt=at=null,Fl=!1,ou=0,wv.current=null,r===null||r.return===null){Ct=1,uu=e,wt=null;break}e:{var s=t,o=r.return,u=r,c=e;if(e=Wt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Fx(o);if(v!==null){v.flags&=-257,Ux(v,o,u,s,e),v.mode&1&&Bx(s,h,e),e=v,c=h;var _=e.updateQueue;if(_===null){var b=new Set;b.add(c),e.updateQueue=b}else _.add(c);break e}else{if(!(e&1)){Bx(s,h,e),Cv();break e}c=Error(Z(426))}}else if(et&&u.mode&1){var T=Fx(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Ux(T,o,u,s,e),ov(Ea(c,u));break e}}s=c=Ea(c,u),Ct!==4&&(Ct=2),zl===null?zl=[s]:zl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=$S(s,c,e);Rx(s,S);break e;case 1:u=c;var E=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(as===null||!as.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=WS(s,u,e);Rx(s,C);break e}}s=s.return}while(s!==null)}cb(r)}catch(I){e=I,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(1)}function lb(){var t=ed.current;return ed.current=Jh,t===null?Jh:t}function Cv(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Lt===null||!(io&268435455)&&!(zd&268435455)||Ki(Lt,Wt)}function nd(t,e){var r=De;De|=2;var n=lb();(Lt!==t||Wt!==e)&&(fi=null,Ys(t,e));do try{kR();break}catch(i){ab(t,i)}while(1);if(lv(),De=r,ed.current=n,wt!==null)throw Error(Z(261));return Lt=null,Wt=0,Ct}function kR(){for(;wt!==null;)ub(wt)}function MR(){for(;wt!==null&&!nI();)ub(wt)}function ub(t){var e=db(t.alternate,t,kr);t.memoizedProps=t.pendingProps,e===null?cb(t):wt=e,wv.current=null}function cb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=TR(r,e),r!==null){r.flags&=32767,wt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,wt=null;return}}else if(r=bR(r,e,kr),r!==null){wt=r;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Ct===0&&(Ct=5)}function Fs(t,e,r){var n=He,i=tn.transition;try{tn.transition=null,He=1,NR(t,e,r,n)}finally{tn.transition=i,He=n}return null}function NR(t,e,r,n){do la();while(Zi!==null);if(De&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(fI(t,s),t===Lt&&(wt=Lt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lc||(Lc=!0,fb(Fh,function(){return la(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var o=He;He=1;var u=De;De|=4,wv.current=null,PR(t,r),ib(r,t),JI(xg),zh=!!_g,xg=_g=null,t.current=r,AR(r),iI(),De=u,He=o,tn.transition=s}else t.current=r;if(Lc&&(Lc=!1,Zi=t,rd=i),s=t.pendingLanes,s===0&&(as=null),aI(r.stateNode),Sr(t,gt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(td)throw td=!1,t=zg,zg=null,t;return rd&1&&t.tag!==0&&la(),s=t.pendingLanes,s&1?t===jg?jl++:(jl=0,jg=t):jl=0,xs(),null}function la(){if(Zi!==null){var t=HE(rd),e=tn.transition,r=He;try{if(tn.transition=null,He=16>t?16:t,Zi===null)var n=!1;else{if(t=Zi,Zi=null,rd=0,De&6)throw Error(Z(331));var i=De;for(De|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(he=h;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:Ul(8,f,s)}var p=f.child;if(p!==null)p.return=f,he=p;else for(;he!==null;){f=he;var m=f.sibling,v=f.return;if(tb(f),f===h){he=null;break}if(m!==null){m.return=v,he=m;break}he=v}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ul(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,he=S;break e}he=s.return}}var E=t.current;for(he=E;he!==null;){o=he;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,he=w;else e:for(o=E;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ud(9,u)}}catch(I){ht(u,u.return,I)}if(u===o){he=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,he=C;break e}he=u.return}}if(De=i,xs(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(kd,t)}catch{}n=!0}return n}finally{He=r,tn.transition=e}}return!1}function Zx(t,e,r){e=Ea(r,e),e=$S(t,e,1),t=os(t,e,1),e=cr(),t!==null&&(wu(t,1,e),Sr(t,e))}function ht(t,e,r){if(t.tag===3)Zx(t,t,r);else for(;e!==null;){if(e.tag===3){Zx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(as===null||!as.has(n))){t=Ea(r,t),t=WS(e,t,1),e=os(e,t,1),t=cr(),e!==null&&(wu(e,1,t),Sr(e,t));break}}e=e.return}}function DR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&r,Lt===t&&(Wt&r)===r&&(Ct===4||Ct===3&&(Wt&130023424)===Wt&&500>gt()-Sv?Ys(t,0):Ev|=r),Sr(t,e)}function hb(t,e){e===0&&(t.mode&1?(e=Cc,Cc<<=1,!(Cc&130023424)&&(Cc=4194304)):e=1);var r=cr();t=Ci(t,e),t!==null&&(wu(t,e,r),Sr(t,r))}function OR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hb(t,r)}function LR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),hb(t,r)}var db;db=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wr.current)xr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xr=!1,SR(t,e,r);xr=!!(t.flags&131072)}else xr=!1,et&&e.flags&1048576&&mS(e,Xh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wh(t,e),t=e.pendingProps;var i=va(e,rr.current);aa(e,r),i=gv(null,e,n,t,i,r);var s=yv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(n)?(s=!0,Wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hv(e),i.updater=Bd,e.stateNode=i,i._reactInternals=e,Ig(e,n,t,r),e=Mg(null,e,n,!0,s,r)):(e.tag=0,et&&s&&iv(e),ur(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FR(n),t=gn(n,t),i){case 0:e=kg(null,e,n,t,r);break e;case 1:e=Gx(null,e,n,t,r);break e;case 11:e=zx(null,e,n,t,r);break e;case 14:e=jx(null,e,n,gn(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),kg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),Gx(t,e,n,i,r);case 3:e:{if(KS(e),t===null)throw Error(Z(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_S(t,e),Qh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ea(Error(Z(423)),e),e=Hx(t,e,n,r,i);break e}else if(n!==i){i=Ea(Error(Z(424)),e),e=Hx(t,e,n,r,i);break e}else for(Mr=ss(e.stateNode.containerInfo.firstChild),Nr=e,et=!0,_n=null,r=SS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_a(),n===i){e=Pi(t,e,r);break e}ur(t,e,n,r)}e=e.child}return e;case 5:return bS(e),t===null&&Cg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wg(n,i)?o=null:s!==null&&wg(n,s)&&(e.flags|=32),YS(t,e),ur(t,e,o,r),e.child;case 6:return t===null&&Cg(e),null;case 13:return QS(t,e,r);case 4:return dv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=xa(e,null,n,r):ur(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),zx(t,e,n,i,r);case 7:return ur(t,e,e.pendingProps,r),e.child;case 8:return ur(t,e,e.pendingProps.children,r),e.child;case 12:return ur(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Yh,n._currentValue),n._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!wr.current){e=Pi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=wi(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Pg(s.return,r,e),u.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Pg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ur(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,aa(e,r),i=rn(i),n=n(i),e.flags|=1,ur(t,e,n,r),e.child;case 14:return n=e.type,i=gn(n,e.pendingProps),i=gn(n.type,i),jx(t,e,n,i,r);case 15:return VS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),wh(t,e),e.tag=1,Er(n)?(t=!0,Wh(e)):t=!1,aa(e,r),wS(e,n,i),Ig(e,n,i,r),Mg(null,e,n,!0,t,r);case 19:return qS(t,e,r);case 22:return XS(t,e,r)}throw Error(Z(156,e.tag))};function fb(t,e){return UE(t,e)}function BR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,r,n){return new BR(t,e,r,n)}function Pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FR(t){if(typeof t=="function")return Pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vy)return 11;if(t===Xy)return 14}return 2}function us(t,e){var r=t.alternate;return r===null?(r=Zr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Pv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return Ks(r.children,i,s,e);case Wy:o=8,i|=8;break;case Jm:return t=Zr(12,r,e,i|2),t.elementType=Jm,t.lanes=s,t;case eg:return t=Zr(13,r,e,i),t.elementType=eg,t.lanes=s,t;case tg:return t=Zr(19,r,e,i),t.elementType=tg,t.lanes=s,t;case EE:return jd(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xE:o=10;break e;case wE:o=9;break e;case Vy:o=11;break e;case Xy:o=14;break e;case Wi:o=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Zr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ks(t,e,r,n){return t=Zr(7,t,n,e),t.lanes=r,t}function jd(t,e,r,n){return t=Zr(22,t,n,e),t.elementType=EE,t.lanes=r,t.stateNode={isHidden:!1},t}function rm(t,e,r){return t=Zr(6,t,null,e),t.lanes=r,t}function nm(t,e,r){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Av(t,e,r,n,i,s,o,u,c){return t=new UR(t,e,r,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(s),t}function zR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pb(t){if(!t)return fs;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(Er(r))return fS(t,r,e)}return e}function mb(t,e,r,n,i,s,o,u,c){return t=Av(r,n,!0,t,i,s,o,u,c),t.context=pb(null),r=t.current,n=cr(),i=ls(r),s=wi(n,i),s.callback=e??null,os(r,s,i),t.current.lanes=i,wu(t,i,n),Sr(t,n),t}function Gd(t,e,r,n){var i=e.current,s=cr(),o=ls(i);return r=pb(r),e.context===null?e.context=r:e.pendingContext=r,e=wi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=os(i,e,o),t!==null&&(Cn(t,i,o,s),vh(t,i,o)),o}function id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Iv(t,e){Jx(t,e),(t=t.alternate)&&Jx(t,e)}function jR(){return null}var gb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rv(t){this._internalRoot=t}Hd.prototype.render=Rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Gd(t,e,null,null)};Hd.prototype.unmount=Rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){Gd(null,t,null,null)}),e[Ti]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=VE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yi.length&&e!==0&&e<Yi[r].priority;r++);Yi.splice(r,0,t),r===0&&YE(t)}};function kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e1(){}function GR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=id(o);s.call(h)}}var o=mb(e,n,t,0,null,!1,!1,"",e1);return t._reactRootContainer=o,t[Ti]=o.current,tu(t.nodeType===8?t.parentNode:t),so(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var h=id(c);u.call(h)}}var c=Av(t,0,!1,null,null,!1,!1,"",e1);return t._reactRootContainer=c,t[Ti]=c.current,tu(t.nodeType===8?t.parentNode:t),so(function(){Gd(e,c,r,n)}),c}function Wd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=id(o);u.call(c)}}Gd(e,o,t,i)}else o=GR(r,e,t,i,n);return id(o)}$E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sl(e.pendingLanes);r!==0&&(Qy(e,r|1),Sr(e,gt()),!(De&6)&&(Sa=gt()+500,xs()))}break;case 13:so(function(){var n=Ci(t,1);if(n!==null){var i=cr();Cn(n,t,1,i)}}),Iv(t,1)}};qy=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var r=cr();Cn(e,t,134217728,r)}Iv(t,134217728)}};WE=function(t){if(t.tag===13){var e=ls(t),r=Ci(t,e);if(r!==null){var n=cr();Cn(r,t,e,n)}Iv(t,e)}};VE=function(){return He};XE=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};hg=function(t,e,r){switch(e){case"input":if(ig(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Od(n);if(!i)throw Error(Z(90));bE(n),ig(n,i)}}}break;case"textarea":CE(t,r);break;case"select":e=r.value,e!=null&&na(t,!!r.multiple,e,!1)}};NE=bv;DE=so;var HR={usingClientEntryPoint:!1,Events:[Su,Xo,Od,kE,ME,bv]},dl={findFiberByHostInstance:$s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$R={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BE(t),t===null?null:t.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||jR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{kd=Bc.inject($R),Qn=Bc}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;Lr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(e))throw Error(Z(200));return zR(t,e,null,r)};Lr.createRoot=function(t,e){if(!kv(t))throw Error(Z(299));var r=!1,n="",i=gb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Av(t,1,!1,null,null,r,!1,n,i),t[Ti]=e.current,tu(t.nodeType===8?t.parentNode:t),new Rv(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=BE(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return so(t)};Lr.hydrate=function(t,e,r){if(!$d(e))throw Error(Z(200));return Wd(null,t,e,!0,r)};Lr.hydrateRoot=function(t,e,r){if(!kv(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=gb;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=mb(e,null,t,1,r??null,i,!1,s,o),t[Ti]=e.current,tu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Hd(e)};Lr.render=function(t,e,r){if(!$d(e))throw Error(Z(200));return Wd(null,t,e,!1,r)};Lr.unmountComponentAtNode=function(t){if(!$d(t))throw Error(Z(40));return t._reactRootContainer?(so(function(){Wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Lr.unstable_batchedUpdates=bv;Lr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$d(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Wd(t,e,r,!1,n)};Lr.version="18.2.0-next-9e3b772b8-20220608";function yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yb)}catch(t){console.error(t)}}yb(),mE.exports=Lr;var WR=mE.exports,t1=WR;qm.createRoot=t1.createRoot,qm.hydrateRoot=t1.hydrateRoot;const VR=F.createContext(null),im={didCatch:!1,error:null};class XR extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=im}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:s,reason:"imperative-api"}),this.setState(im)}}componentDidCatch(e,r){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,e,r)}componentDidUpdate(e,r){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&r.error!==null&&YR(e.resetKeys,i)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(im)}}render(){const{children:e,fallbackRender:r,FallbackComponent:n,fallback:i}=this.props,{didCatch:s,error:o}=this.state;let u=e;if(s){const c={error:o,resetErrorBoundary:this.resetErrorBoundary};if(F.isValidElement(i))u=i;else if(typeof r=="function")u=r(c);else if(n)u=F.createElement(n,c);else throw o}return F.createElement(VR.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},u)}}function YR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((r,n)=>!Object.is(r,e[n]))}var vb={exports:{}},KR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QR=KR,qR=QR;function _b(){}function xb(){}xb.resetWarningCache=_b;var ZR=function(){function t(n,i,s,o,u,c){if(c!==qR){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xb,resetWarningCache:_b};return r.PropTypes=r,r};vb.exports=ZR();var JR=vb.exports;const me=Id(JR);function e2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$g(t,e)}function $g(t,e){return $g=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},$g(t,e)}var _t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},t2={rel:["amphtml","canonical","alternate"]},r2={type:["application/ld+json"]},n2={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]};Object.keys(_t).map(function(t){return _t[t]});var sd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.keys(sd).reduce(function(t,e){return t[sd[e]]=e,t},{});var i2=function(t){return Array.isArray(t)?t.join(""):t},sm=function(t,e){return Array.isArray(t)?t.reduce(function(r,n){return function(i,s){for(var o=Object.keys(i),u=0;u<o.length;u+=1)if(s[o[u]]&&s[o[u]].includes(i[o[u]]))return!0;return!1}(n,e)?r.priority.push(n):r.default.push(n),r},{priority:[],default:[]}):{default:t}},s2=[_t.NOSCRIPT,_t.SCRIPT,_t.STYLE],om=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},r1=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r]!==void 0?r+'="'+t[r]+'"':""+r;return e?e+" "+n:n},"")},n1=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(r,n){return r[sd[n]||n]=t[n],r},e)},Th=function(t,e){return e.map(function(r,n){var i,s=((i={key:n})["data-rh"]=!0,i);return Object.keys(r).forEach(function(o){var u=sd[o]||o;u==="innerHTML"||u==="cssText"?s.dangerouslySetInnerHTML={__html:r.innerHTML||r.cssText}:s[u]=r[o]}),we.createElement(t,s)})},Yr=function(t,e,r){switch(t){case _t.TITLE:return{toComponent:function(){return i=e.titleAttributes,(s={key:n=e.title})["data-rh"]=!0,o=n1(i,s),[we.createElement(_t.TITLE,o,n)];var n,i,s,o},toString:function(){return function(n,i,s,o){var u=r1(s),c=i2(i);return u?"<"+n+' data-rh="true" '+u+">"+om(c,o)+"</"+n+">":"<"+n+' data-rh="true">'+om(c,o)+"</"+n+">"}(t,e.title,e.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return n1(e)},toString:function(){return r1(e)}};default:return{toComponent:function(){return Th(t,e)},toString:function(){return function(n,i,s){return i.reduce(function(o,u){var c=Object.keys(u).filter(function(p){return!(p==="innerHTML"||p==="cssText")}).reduce(function(p,m){var v=u[m]===void 0?m:m+'="'+om(u[m],s)+'"';return p?p+" "+v:v},""),h=u.innerHTML||u.cssText||"",f=s2.indexOf(n)===-1;return o+"<"+n+' data-rh="true" '+c+(f?"/>":">"+h+"</"+n+">")},"")}(t,e,r)}}}},o2=function(t){var e=t.baseTag,r=t.bodyAttributes,n=t.encode,i=t.htmlAttributes,s=t.noscriptTags,o=t.styleTags,u=t.title,c=u===void 0?"":u,h=t.titleAttributes,f=t.linkTags,p=t.metaTags,m=t.scriptTags,v={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var _=function(b){var T=b.linkTags,S=b.scriptTags,E=b.encode,w=sm(b.metaTags,n2),C=sm(T,t2),I=sm(S,r2);return{priorityMethods:{toComponent:function(){return[].concat(Th(_t.META,w.priority),Th(_t.LINK,C.priority),Th(_t.SCRIPT,I.priority))},toString:function(){return Yr(_t.META,w.priority,E)+" "+Yr(_t.LINK,C.priority,E)+" "+Yr(_t.SCRIPT,I.priority,E)}},metaTags:w.default,linkTags:C.default,scriptTags:I.default}}(t);v=_.priorityMethods,f=_.linkTags,p=_.metaTags,m=_.scriptTags}return{priority:v,base:Yr(_t.BASE,e,n),bodyAttributes:Yr("bodyAttributes",r,n),htmlAttributes:Yr("htmlAttributes",i,n),link:Yr(_t.LINK,f,n),meta:Yr(_t.META,p,n),noscript:Yr(_t.NOSCRIPT,s,n),script:Yr(_t.SCRIPT,m,n),style:Yr(_t.STYLE,o,n),title:Yr(_t.TITLE,{title:c,titleAttributes:h},n)}},Fc=[],a2=function(t,e){var r=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(n){r.context.helmet=n},helmetInstances:{get:function(){return r.canUseDOM?Fc:r.instances},add:function(n){(r.canUseDOM?Fc:r.instances).push(n)},remove:function(n){var i=(r.canUseDOM?Fc:r.instances).indexOf(n);(r.canUseDOM?Fc:r.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=o2({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},l2=we.createContext({}),u2=me.shape({setHelmet:me.func,helmetInstances:me.shape({get:me.func,add:me.func,remove:me.func})}),c2=typeof document<"u",Tl=function(t){function e(r){var n;return(n=t.call(this,r)||this).helmetData=new a2(n.props.context,e.canUseDOM),n}return e2(e,t),e.prototype.render=function(){return we.createElement(l2.Provider,{value:this.helmetData.value},this.props.children)},e}(F.Component);Tl.canUseDOM=c2,Tl.propTypes={context:me.shape({helmet:me.shape()}),children:me.node.isRequired},Tl.defaultProps={context:{}},Tl.displayName="HelmetProvider";u2.isRequired;me.object,me.object,me.oneOfType([me.arrayOf(me.node),me.node]),me.string,me.bool,me.bool,me.object,me.arrayOf(me.object),me.arrayOf(me.object),me.arrayOf(me.object),me.func,me.arrayOf(me.object),me.arrayOf(me.object),me.string,me.object,me.string,me.bool,me.object;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const i1="popstate";function h2(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:u}=n.location;return Wg("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:od(i)}return f2(e,r,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d2(){return Math.random().toString(36).substr(2,8)}function s1(t,e){return{usr:t.state,key:t.key,idx:e}}function Wg(t,e,r,n){return r===void 0&&(r=null),cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:r,key:e&&e.key||n||d2()})}function od(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Da(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function f2(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u=Ji.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(cu({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){u=Ji.Pop;let T=f(),S=T==null?null:T-h;h=T,c&&c({action:u,location:b.location,delta:S})}function m(T,S){u=Ji.Push;let E=Wg(b.location,T,S);r&&r(E,T),h=f()+1;let w=s1(E,h),C=b.createHref(E);try{o.pushState(w,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(C)}s&&c&&c({action:u,location:b.location,delta:1})}function v(T,S){u=Ji.Replace;let E=Wg(b.location,T,S);r&&r(E,T),h=f();let w=s1(E,h),C=b.createHref(E);o.replaceState(w,"",C),s&&c&&c({action:u,location:b.location,delta:0})}function _(T){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof T=="string"?T:od(T);return Et(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let b={get action(){return u},get location(){return t(i,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(i1,p),c=T,()=>{i.removeEventListener(i1,p),c=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let S=_(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(T){return o.go(T)}};return b}var o1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o1||(o1={}));function p2(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Da(e):e,i=Nv(n.pathname||"/",r);if(i==null)return null;let s=wb(t);m2(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=b2(s[u],P2(i));return o}function wb(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=cs([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),wb(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:E2(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let c of Eb(s.path))i(s,o,c)}),e}function Eb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Eb(n.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function m2(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:S2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const g2=/^:\w+$/,y2=3,v2=2,_2=1,x2=10,w2=-2,a1=t=>t==="*";function E2(t,e){let r=t.split("/"),n=r.length;return r.some(a1)&&(n+=w2),e&&(n+=v2),r.filter(i=>!a1(i)).reduce((i,s)=>i+(g2.test(s)?y2:s===""?_2:x2),n)}function S2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function b2(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=T2({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h);if(!f)return null;Object.assign(n,f.params);let p=u.route;s.push({params:n,pathname:cs([i,f.pathname]),pathnameBase:k2(cs([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=cs([i,f.pathnameBase]))}return s}function T2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=C2(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,f,p)=>{if(f==="*"){let m=u[p]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[f]=A2(u[p]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:t}}function C2(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Mv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,u)=>(n.push(u),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function P2(t){try{return decodeURI(t)}catch(e){return Mv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function A2(t,e){try{return decodeURIComponent(t)}catch(r){return Mv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Nv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function I2(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Da(t):t;return{pathname:r?r.startsWith("/")?r:R2(r,e):e,search:M2(n),hash:N2(i)}}function R2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function am(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sb(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Da(t):(i=cu({},t),Et(!i.pathname||!i.pathname.includes("?"),am("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),am("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),am("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(n||o==null)u=r;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}u=p>=0?e[p]:"/"}let c=I2(i,u),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const cs=t=>t.join("/").replace(/\/\/+/g,"/"),k2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tb=["post","put","patch","delete"];new Set(Tb);const O2=["get",...Tb];new Set(O2);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ad.apply(this,arguments)}const Dv=F.createContext(null),L2=F.createContext(null),Oa=F.createContext(null),Vd=F.createContext(null),ws=F.createContext({outlet:null,matches:[],isDataRoute:!1}),Cb=F.createContext(null);function B2(t,e){let{relative:r}=e===void 0?{}:e;Tu()||Et(!1);let{basename:n,navigator:i}=F.useContext(Oa),{hash:s,pathname:o,search:u}=Ab(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:cs([n,o])),i.createHref({pathname:c,search:u,hash:s})}function Tu(){return F.useContext(Vd)!=null}function Xd(){return Tu()||Et(!1),F.useContext(Vd).location}function Pb(t){F.useContext(Oa).static||F.useLayoutEffect(t)}function Ov(){let{isDataRoute:t}=F.useContext(ws);return t?Z2():F2()}function F2(){Tu()||Et(!1);let t=F.useContext(Dv),{basename:e,navigator:r}=F.useContext(Oa),{matches:n}=F.useContext(ws),{pathname:i}=Xd(),s=JSON.stringify(Sb(n).map(c=>c.pathnameBase)),o=F.useRef(!1);return Pb(()=>{o.current=!0}),F.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=bb(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:cs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,s,i,t])}const U2=F.createContext(null);function z2(t){let e=F.useContext(ws).outlet;return e&&F.createElement(U2.Provider,{value:t},e)}function Ab(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=F.useContext(ws),{pathname:i}=Xd(),s=JSON.stringify(Sb(n).map(o=>o.pathnameBase));return F.useMemo(()=>bb(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function j2(t,e){return G2(t,e)}function G2(t,e,r){Tu()||Et(!1);let{navigator:n}=F.useContext(Oa),{matches:i}=F.useContext(ws),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Xd(),h;if(e){var f;let b=typeof e=="string"?Da(e):e;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Et(!1),h=b}else h=c;let p=h.pathname||"/",m=u==="/"?p:p.slice(u.length)||"/",v=p2(t,{pathname:m}),_=X2(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:cs([u,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:cs([u,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r);return e&&_?F.createElement(Vd.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ji.Pop}},_):_}function H2(){let t=q2(),e=D2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:i},r):null,s)}const $2=F.createElement(H2,null);class W2 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?F.createElement(ws.Provider,{value:this.props.routeContext},F.createElement(Cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V2(t){let{routeContext:e,match:r,children:n}=t,i=F.useContext(Dv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(ws.Provider,{value:e},n)}function X2(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));u>=0||Et(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;r&&(p=c.route.errorElement||$2);let m=e.concat(s.slice(0,h+1)),v=()=>{let _;return f?_=p:c.route.Component?_=F.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=u,F.createElement(V2,{match:c,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:_})};return r&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?F.createElement(W2,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var Ib=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ib||{}),ld=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ld||{});function Y2(t){let e=F.useContext(Dv);return e||Et(!1),e}function K2(t){let e=F.useContext(L2);return e||Et(!1),e}function Q2(t){let e=F.useContext(ws);return e||Et(!1),e}function Rb(t){let e=Q2(),r=e.matches[e.matches.length-1];return r.route.id||Et(!1),r.route.id}function q2(){var t;let e=F.useContext(Cb),r=K2(ld.UseRouteError),n=Rb(ld.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function Z2(){let{router:t}=Y2(Ib.UseNavigateStable),e=Rb(ld.UseNavigateStable),r=F.useRef(!1);return Pb(()=>{r.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},s)))},[t,e])}function J2(t){return z2(t.context)}function ua(t){Et(!1)}function ek(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ji.Pop,navigator:s,static:o=!1}=t;Tu()&&Et(!1);let u=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof n=="string"&&(n=Da(n));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:v="default"}=n,_=F.useMemo(()=>{let b=Nv(h,u);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:v},navigationType:i}},[u,h,f,p,m,v,i]);return _==null?null:F.createElement(Oa.Provider,{value:c},F.createElement(Vd.Provider,{children:r,value:_}))}function kb(t){let{children:e,location:r}=t;return j2(Vg(e),r)}new Promise(()=>{});function Vg(t,e){e===void 0&&(e=[]);let r=[];return F.Children.forEach(t,(n,i)=>{if(!F.isValidElement(n))return;let s=[...e,i];if(n.type===F.Fragment){r.push.apply(r,Vg(n.props.children,s));return}n.type!==ua&&Et(!1),!n.props.index||!n.props.children||Et(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vg(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xg.apply(this,arguments)}function tk(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nk(t,e){return t.button===0&&(!e||e==="_self")&&!rk(t)}const ik=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],sk="startTransition",l1=OA[sk];function ok(t){let{basename:e,children:r,future:n,window:i}=t,s=F.useRef();s.current==null&&(s.current=h2({window:i,v5Compat:!0}));let o=s.current,[u,c]=F.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},f=F.useCallback(p=>{h&&l1?l1(()=>c(p)):c(p)},[c,h]);return F.useLayoutEffect(()=>o.listen(f),[o,f]),F.createElement(ek,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:o})}const ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u1=F.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:u,target:c,to:h,preventScrollReset:f}=e,p=tk(e,ik),{basename:m}=F.useContext(Oa),v,_=!1;if(typeof h=="string"&&lk.test(h)&&(v=h,ak))try{let E=new URL(window.location.href),w=h.startsWith("//")?new URL(E.protocol+h):new URL(h),C=Nv(w.pathname,m);w.origin===E.origin&&C!=null?h=C+w.search+w.hash:_=!0}catch{}let b=B2(h,{relative:i}),T=uk(h,{replace:o,state:u,target:c,preventScrollReset:f,relative:i});function S(E){n&&n(E),E.defaultPrevented||T(E)}return F.createElement("a",Xg({},p,{href:v||b,onClick:_||s?n:S,ref:r,target:c}))});var c1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(c1||(c1={}));var h1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h1||(h1={}));function uk(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,u=Ov(),c=Xd(),h=Ab(t,{relative:o});return F.useCallback(f=>{if(nk(f,r)){f.preventDefault();let p=n!==void 0?n:od(c)===od(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[c,u,h,n,i,r,t,s,o])}function ck(){return B.jsx("div",{children:"Error!"})}function hk(){return B.jsx("div",{children:"Loading..."})}var co=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(co||{}),Mb=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Mb||{}),Yg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Yg||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),En=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(En||{}),re=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(re||{}),ca=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ca||{}),ve=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ve||{}),Kg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Kg||{}),vi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(vi||{}),Ei=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Ei||{}),ei=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ei||{}),kn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(kn||{}),Xn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Xn||{}),Lv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Lv||{}),Jr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Jr||{}),bt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(bt||{}),xt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(xt||{}),Zn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Zn||{});const dk={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ae={ADAPTER:dk,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var lm=/iPhone/i,d1=/iPod/i,f1=/iPad/i,p1=/\biOS-universal(?:.+)Mac\b/i,um=/\bAndroid(?:.+)Mobile\b/i,m1=/Android/i,ko=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Uc=/Silk/i,ui=/Windows Phone/i,g1=/\bWindows(?:.+)ARM\b/i,y1=/BlackBerry/i,v1=/BB10/i,_1=/Opera Mini/i,x1=/\b(CriOS|Chrome)(?:.+)Mobile/i,w1=/Mobile(?:.+)Firefox\b/i,E1=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function fk(t){return function(e){return e.test(t)}}function S1(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=fk(r),s={apple:{phone:i(lm)&&!i(ui),ipod:i(d1),tablet:!i(lm)&&(i(f1)||E1(e))&&!i(ui),universal:i(p1),device:(i(lm)||i(d1)||i(f1)||i(p1)||E1(e))&&!i(ui)},amazon:{phone:i(ko),tablet:!i(ko)&&i(Uc),device:i(ko)||i(Uc)},android:{phone:!i(ui)&&i(ko)||!i(ui)&&i(um),tablet:!i(ui)&&!i(ko)&&!i(um)&&(i(Uc)||i(m1)),device:!i(ui)&&(i(ko)||i(Uc)||i(um)||i(m1))||i(/\bokhttp\b/i)},windows:{phone:i(ui),tablet:i(g1),device:i(ui)||i(g1)},other:{blackberry:i(y1),blackberry10:i(v1),opera:i(_1),firefox:i(w1),chrome:i(x1),device:i(y1)||i(v1)||i(_1)||i(w1)||i(x1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const pk=S1.default??S1,_i=pk(globalThis.navigator);ae.RETINA_PREFIX=/@([0-9\.]+)x/;ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Nb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function s(c,h,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,m),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],v]:c._events[_].push(v):(c._events[_]=v,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},u.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,_=new Array(v);m<v;m++)_[m]=p[m].fn;return _},u.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,f,p,m,v,_){var b=r?r+h:h;if(!this._events[b])return!1;var T=this._events[b],S=arguments.length,E,w;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,p),!0;case 4:return T.fn.call(T.context,f,p,m),!0;case 5:return T.fn.call(T.context,f,p,m,v),!0;case 6:return T.fn.call(T.context,f,p,m,v,_),!0}for(w=1,E=new Array(S-1);w<S;w++)E[w-1]=arguments[w];T.fn.apply(T.context,E)}else{var C=T.length,I;for(w=0;w<C;w++)switch(T[w].once&&this.removeListener(h,T[w].fn,void 0,!0),S){case 1:T[w].fn.call(T[w].context);break;case 2:T[w].fn.call(T[w].context,f);break;case 3:T[w].fn.call(T[w].context,f,p);break;case 4:T[w].fn.call(T[w].context,f,p,m);break;default:if(!E)for(I=1,E=new Array(S-1);I<S;I++)E[I-1]=arguments[I];T[w].fn.apply(T[w].context,E)}}return!0},u.prototype.on=function(h,f,p){return s(this,h,f,p,!1)},u.prototype.once=function(h,f,p){return s(this,h,f,p,!0)},u.prototype.removeListener=function(h,f,p,m){var v=r?r+h:h;if(!this._events[v])return this;if(!f)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===f&&(!m||_.once)&&(!p||_.context===p)&&o(this,v);else{for(var b=0,T=[],S=_.length;b<S;b++)(_[b].fn!==f||m&&!_[b].once||p&&_[b].context!==p)&&T.push(_[b]);T.length?this._events[v]=T.length===1?T[0]:T:o(this,v)}return this},u.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Nb);var mk=Nb.exports;const Cu=Id(mk);var Bv={exports:{}};Bv.exports=Yd;Bv.exports.default=Yd;function Yd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=Db(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var u,c,h,f,p,m,v;if(n&&(s=xk(t,e,s,r)),t.length>80*r){u=h=t[0],c=f=t[1];for(var _=r;_<i;_+=r)p=t[_],m=t[_+1],p<u&&(u=p),m<c&&(c=m),p>h&&(h=p),m>f&&(f=m);v=Math.max(h-u,f-c),v=v!==0?32767/v:0}return hu(s,o,r,u,c,v,0),o}function Db(t,e,r,n,i){var s,o;if(i===Zg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=b1(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=b1(s,t[s],t[s+1],o);return o&&Kd(o,o.next)&&(fu(o),o=o.next),o}function oo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Kd(r,r.next)||ot(r.prev,r,r.next)===0)){if(fu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function hu(t,e,r,n,i,s,o){if(t){!o&&s&&Tk(t,n,i,s);for(var u=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?yk(t,n,i,s):gk(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),fu(t),t=h.next,u=h.next;continue}if(t=h,t===u){o?o===1?(t=vk(oo(t),e,r),hu(t,e,r,n,i,s,2)):o===2&&_k(t,e,r,n,i,s):hu(oo(t),e,r,n,i,s,1);break}}}}function gk(t){var e=t.prev,r=t,n=t.next;if(ot(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,u=e.y,c=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,p=u<c?u<h?u:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,v=u>c?u>h?u:h:c>h?c:h,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=v&&ea(i,u,s,c,o,h,_.x,_.y)&&ot(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function yk(t,e,r,n){var i=t.prev,s=t,o=t.next;if(ot(i,s,o)>=0)return!1;for(var u=i.x,c=s.x,h=o.x,f=i.y,p=s.y,m=o.y,v=u<c?u<h?u:h:c<h?c:h,_=f<p?f<m?f:m:p<m?p:m,b=u>c?u>h?u:h:c>h?c:h,T=f>p?f>m?f:m:p>m?p:m,S=Qg(v,_,e,r,n),E=Qg(b,T,e,r,n),w=t.prevZ,C=t.nextZ;w&&w.z>=S&&C&&C.z<=E;){if(w.x>=v&&w.x<=b&&w.y>=_&&w.y<=T&&w!==i&&w!==o&&ea(u,f,c,p,h,m,w.x,w.y)&&ot(w.prev,w,w.next)>=0||(w=w.prevZ,C.x>=v&&C.x<=b&&C.y>=_&&C.y<=T&&C!==i&&C!==o&&ea(u,f,c,p,h,m,C.x,C.y)&&ot(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;w&&w.z>=S;){if(w.x>=v&&w.x<=b&&w.y>=_&&w.y<=T&&w!==i&&w!==o&&ea(u,f,c,p,h,m,w.x,w.y)&&ot(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;C&&C.z<=E;){if(C.x>=v&&C.x<=b&&C.y>=_&&C.y<=T&&C!==i&&C!==o&&ea(u,f,c,p,h,m,C.x,C.y)&&ot(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function vk(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Kd(i,s)&&Ob(i,n,n.next,s)&&du(i,s)&&du(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),fu(n),fu(n.next),n=t=s),n=n.next}while(n!==t);return oo(n)}function _k(t,e,r,n,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&Ak(o,u)){var c=Lb(o,u);o=oo(o,o.next),c=oo(c,c.next),hu(o,e,r,n,i,s,0),hu(c,e,r,n,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function xk(t,e,r,n){var i=[],s,o,u,c,h;for(s=0,o=e.length;s<o;s++)u=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=Db(t,u,c,n,!1),h===h.next&&(h.steiner=!0),i.push(Pk(h));for(i.sort(wk),s=0;s<i.length;s++)r=Ek(i[s],r);return r}function wk(t,e){return t.x-e.x}function Ek(t,e){var r=Sk(t,e);if(!r)return e;var n=Lb(r,t);return oo(n,n.next),oo(r,r.next)}function Sk(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,o=r.x<r.next.x?r:r.next,u===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,f=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&ea(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),du(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&bk(o,r)))&&(o=r,p=m)),r=r.next;while(r!==c);return o}function bk(t,e){return ot(t.prev,t,e.prev)<0&&ot(e.next,t,t.next)<0}function Tk(t,e,r,n){var i=t;do i.z===0&&(i.z=Qg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Ck(i)}function Ck(t){var e,r,n,i,s,o,u,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,u=0,e=0;e<h&&(u++,n=n.nextZ,!!n);e++);for(c=h;u>0||c>0&&n;)u!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Qg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Pk(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ea(t,e,r,n,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(n-u)>=(r-o)*(e-u)&&(r-o)*(s-u)>=(i-o)*(n-u)}function Ak(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Ik(t,e)&&(du(t,e)&&du(e,t)&&Rk(t,e)&&(ot(t.prev,t,e.prev)||ot(t,e.prev,e))||Kd(t,e)&&ot(t.prev,t,t.next)>0&&ot(e.prev,e,e.next)>0)}function ot(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Kd(t,e){return t.x===e.x&&t.y===e.y}function Ob(t,e,r,n){var i=jc(ot(t,e,r)),s=jc(ot(t,e,n)),o=jc(ot(r,n,t)),u=jc(ot(r,n,e));return!!(i!==s&&o!==u||i===0&&zc(t,r,e)||s===0&&zc(t,n,e)||o===0&&zc(r,t,n)||u===0&&zc(r,e,n))}function zc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function jc(t){return t>0?1:t<0?-1:0}function Ik(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Ob(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function du(t,e){return ot(t.prev,t,t.next)<0?ot(t,e,t.next)>=0&&ot(t,t.prev,e)>=0:ot(t,e,t.prev)<0||ot(t,t.next,e)<0}function Rk(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Lb(t,e){var r=new qg(t.i,t.x,t.y),n=new qg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function b1(t,e,r,n){var i=new qg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function fu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function qg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Yd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Zg(t,0,s,r));if(i)for(var u=0,c=e.length;u<c;u++){var h=e[u]*r,f=u<c-1?e[u+1]*r:t.length;o-=Math.abs(Zg(t,h,f,r))}var p=0;for(u=0;u<n.length;u+=3){var m=n[u]*r,v=n[u+1]*r,_=n[u+2]*r;p+=Math.abs((t[m]-t[_])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Zg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Yd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var kk=Bv.exports;const Mk=Id(kk);var ud={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */ud.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof kp=="object"&&kp;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,u=2147483647,c=36,h=1,f=26,p=38,m=700,v=72,_=128,b="-",T=/^xn--/,S=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=c-h,I=Math.floor,L=String.fromCharCode,D;function M(R){throw new RangeError(w[R])}function Y(R,q){for(var ne=R.length,Se=[];ne--;)Se[ne]=q(R[ne]);return Se}function X(R,q){var ne=R.split("@"),Se="";ne.length>1&&(Se=ne[0]+"@",R=ne[1]),R=R.replace(E,".");var xe=R.split("."),Ue=Y(xe,q).join(".");return Se+Ue}function K(R){for(var q=[],ne=0,Se=R.length,xe,Ue;ne<Se;)xe=R.charCodeAt(ne++),xe>=55296&&xe<=56319&&ne<Se?(Ue=R.charCodeAt(ne++),(Ue&64512)==56320?q.push(((xe&1023)<<10)+(Ue&1023)+65536):(q.push(xe),ne--)):q.push(xe);return q}function te(R){return Y(R,function(q){var ne="";return q>65535&&(q-=65536,ne+=L(q>>>10&1023|55296),q=56320|q&1023),ne+=L(q),ne}).join("")}function G(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:c}function z(R,q){return R+22+75*(R<26)-((q!=0)<<5)}function ue(R,q,ne){var Se=0;for(R=ne?I(R/m):R>>1,R+=I(R/q);R>C*f>>1;Se+=c)R=I(R/C);return I(Se+(C+1)*R/(R+p))}function se(R){var q=[],ne=R.length,Se,xe=0,Ue=_,Te=v,Fe,Pt,Bt,ut,Pe,Xe,Oe,Fr,Ur;for(Fe=R.lastIndexOf(b),Fe<0&&(Fe=0),Pt=0;Pt<Fe;++Pt)R.charCodeAt(Pt)>=128&&M("not-basic"),q.push(R.charCodeAt(Pt));for(Bt=Fe>0?Fe+1:0;Bt<ne;){for(ut=xe,Pe=1,Xe=c;Bt>=ne&&M("invalid-input"),Oe=G(R.charCodeAt(Bt++)),(Oe>=c||Oe>I((u-xe)/Pe))&&M("overflow"),xe+=Oe*Pe,Fr=Xe<=Te?h:Xe>=Te+f?f:Xe-Te,!(Oe<Fr);Xe+=c)Ur=c-Fr,Pe>I(u/Ur)&&M("overflow"),Pe*=Ur;Se=q.length+1,Te=ue(xe-ut,Se,ut==0),I(xe/Se)>u-Ue&&M("overflow"),Ue+=I(xe/Se),xe%=Se,q.splice(xe++,0,Ue)}return te(q)}function J(R){var q,ne,Se,xe,Ue,Te,Fe,Pt,Bt,ut,Pe,Xe=[],Oe,Fr,Ur,bs;for(R=K(R),Oe=R.length,q=_,ne=0,Ue=v,Te=0;Te<Oe;++Te)Pe=R[Te],Pe<128&&Xe.push(L(Pe));for(Se=xe=Xe.length,xe&&Xe.push(b);Se<Oe;){for(Fe=u,Te=0;Te<Oe;++Te)Pe=R[Te],Pe>=q&&Pe<Fe&&(Fe=Pe);for(Fr=Se+1,Fe-q>I((u-ne)/Fr)&&M("overflow"),ne+=(Fe-q)*Fr,q=Fe,Te=0;Te<Oe;++Te)if(Pe=R[Te],Pe<q&&++ne>u&&M("overflow"),Pe==q){for(Pt=ne,Bt=c;ut=Bt<=Ue?h:Bt>=Ue+f?f:Bt-Ue,!(Pt<ut);Bt+=c)bs=Pt-ut,Ur=c-ut,Xe.push(L(z(ut+bs%Ur,0))),Pt=I(bs/Ur);Xe.push(L(z(Pt,0))),Ue=ue(ne,Fr,Se==xe),ne=0,++Se}++ne,++q}return Xe.join("")}function k(R){return X(R,function(q){return T.test(q)?se(q.slice(4).toLowerCase()):q})}function H(R){return X(R,function(q){return S.test(q)?"xn--"+J(q):q})}if(o={version:"1.4.1",ucs2:{decode:K,encode:te},decode:se,encode:J,toASCII:H,toUnicode:k},n&&i)if(t.exports==n)i.exports=o;else for(D in o)o.hasOwnProperty(D)&&(n[D]=o[D]);else r.punycode=o})(kp)})(ud,ud.exports);var Nk=ud.exports,Dk=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},T1=typeof Symbol<"u"&&Symbol,Ok=Dk,Lk=function(){return typeof T1!="function"||typeof Symbol!="function"||typeof T1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ok()},C1={foo:{}},Bk=Object,Fk=function(){return{__proto__:C1}.foo===C1.foo&&!({__proto__:null}instanceof Bk)},Uk="Function.prototype.bind called on incompatible ",cm=Array.prototype.slice,zk=Object.prototype.toString,jk="[object Function]",Gk=function(e){var r=this;if(typeof r!="function"||zk.call(r)!==jk)throw new TypeError(Uk+r);for(var n=cm.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(cm.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(cm.call(arguments)))},o=Math.max(0,r.length-n.length),u=[],c=0;c<o;c++)u.push("$"+c);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},Hk=Gk,Fv=Function.prototype.bind||Hk,$k=Fv,Wk=$k.call(Function.call,Object.prototype.hasOwnProperty),Ae,ba=SyntaxError,Bb=Function,ha=TypeError,hm=function(t){try{return Bb('"use strict"; return ('+t+").constructor;")()}catch{}},Qs=Object.getOwnPropertyDescriptor;if(Qs)try{Qs({},"")}catch{Qs=null}var dm=function(){throw new ha},Vk=Qs?function(){try{return arguments.callee,dm}catch{try{return Qs(arguments,"callee").get}catch{return dm}}}():dm,Mo=Lk(),Xk=Fk(),Nt=Object.getPrototypeOf||(Xk?function(t){return t.__proto__}:null),Lo={},Yk=typeof Uint8Array>"u"||!Nt?Ae:Nt(Uint8Array),qs={"%AggregateError%":typeof AggregateError>"u"?Ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ae:ArrayBuffer,"%ArrayIteratorPrototype%":Mo&&Nt?Nt([][Symbol.iterator]()):Ae,"%AsyncFromSyncIteratorPrototype%":Ae,"%AsyncFunction%":Lo,"%AsyncGenerator%":Lo,"%AsyncGeneratorFunction%":Lo,"%AsyncIteratorPrototype%":Lo,"%Atomics%":typeof Atomics>"u"?Ae:Atomics,"%BigInt%":typeof BigInt>"u"?Ae:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ae:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ae:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ae:FinalizationRegistry,"%Function%":Bb,"%GeneratorFunction%":Lo,"%Int8Array%":typeof Int8Array>"u"?Ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mo&&Nt?Nt(Nt([][Symbol.iterator]())):Ae,"%JSON%":typeof JSON=="object"?JSON:Ae,"%Map%":typeof Map>"u"?Ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Mo||!Nt?Ae:Nt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ae:Promise,"%Proxy%":typeof Proxy>"u"?Ae:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Mo||!Nt?Ae:Nt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mo&&Nt?Nt(""[Symbol.iterator]()):Ae,"%Symbol%":Mo?Symbol:Ae,"%SyntaxError%":ba,"%ThrowTypeError%":Vk,"%TypedArray%":Yk,"%TypeError%":ha,"%Uint8Array%":typeof Uint8Array>"u"?Ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ae:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ae:WeakSet};if(Nt)try{null.error}catch(t){var Kk=Nt(Nt(t));qs["%Error.prototype%"]=Kk}var Qk=function t(e){var r;if(e==="%AsyncFunction%")r=hm("async function () {}");else if(e==="%GeneratorFunction%")r=hm("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=hm("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Nt&&(r=Nt(i.prototype))}return qs[e]=r,r},P1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Pu=Fv,cd=Wk,qk=Pu.call(Function.call,Array.prototype.concat),Zk=Pu.call(Function.apply,Array.prototype.splice),A1=Pu.call(Function.call,String.prototype.replace),hd=Pu.call(Function.call,String.prototype.slice),Jk=Pu.call(Function.call,RegExp.prototype.exec),eM=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tM=/\\(\\)?/g,rM=function(e){var r=hd(e,0,1),n=hd(e,-1);if(r==="%"&&n!=="%")throw new ba("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ba("invalid intrinsic syntax, expected opening `%`");var i=[];return A1(e,eM,function(s,o,u,c){i[i.length]=u?A1(c,tM,"$1"):o||s}),i},nM=function(e,r){var n=e,i;if(cd(P1,n)&&(i=P1[n],n="%"+i[0]+"%"),cd(qs,n)){var s=qs[n];if(s===Lo&&(s=Qk(n)),typeof s>"u"&&!r)throw new ha("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ba("intrinsic "+e+" does not exist!")},Uv=function(e,r){if(typeof e!="string"||e.length===0)throw new ha("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ha('"allowMissing" argument must be a boolean');if(Jk(/^%?[^%]*%?$/,e)===null)throw new ba("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=rM(e),i=n.length>0?n[0]:"",s=nM("%"+i+"%",r),o=s.name,u=s.value,c=!1,h=s.alias;h&&(i=h[0],Zk(n,qk([0,1],h)));for(var f=1,p=!0;f<n.length;f+=1){var m=n[f],v=hd(m,0,1),_=hd(m,-1);if((v==='"'||v==="'"||v==="`"||_==='"'||_==="'"||_==="`")&&v!==_)throw new ba("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(c=!0),i+="."+m,o="%"+i+"%",cd(qs,o))u=qs[o];else if(u!=null){if(!(m in u)){if(!r)throw new ha("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qs&&f+1>=n.length){var b=Qs(u,m);p=!!b,p&&"get"in b&&!("originalValue"in b.get)?u=b.get:u=u[m]}else p=cd(u,m),u=u[m];p&&!c&&(qs[o]=u)}}return u},Fb={exports:{}};(function(t){var e=Fv,r=Uv,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(p){var m=s(e,i,arguments);if(o&&u){var v=o(m,"length");v.configurable&&u(m,"length",{value:1+c(0,p.length-(arguments.length-1))})}return m};var h=function(){return s(e,n,arguments)};u?u(t.exports,"apply",{value:h}):t.exports.apply=h})(Fb);var iM=Fb.exports,Ub=Uv,zb=iM,sM=zb(Ub("String.prototype.indexOf")),oM=function(e,r){var n=Ub(e,!!r);return typeof n=="function"&&sM(e,".prototype.")>-1?zb(n):n};const aM={},lM=Object.freeze(Object.defineProperty({__proto__:null,default:aM},Symbol.toStringTag,{value:"Module"})),uM=iE(lM);var zv=typeof Map=="function"&&Map.prototype,fm=Object.getOwnPropertyDescriptor&&zv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,dd=zv&&fm&&typeof fm.get=="function"?fm.get:null,I1=zv&&Map.prototype.forEach,jv=typeof Set=="function"&&Set.prototype,pm=Object.getOwnPropertyDescriptor&&jv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,fd=jv&&pm&&typeof pm.get=="function"?pm.get:null,R1=jv&&Set.prototype.forEach,cM=typeof WeakMap=="function"&&WeakMap.prototype,Gl=cM?WeakMap.prototype.has:null,hM=typeof WeakSet=="function"&&WeakSet.prototype,Hl=hM?WeakSet.prototype.has:null,dM=typeof WeakRef=="function"&&WeakRef.prototype,k1=dM?WeakRef.prototype.deref:null,fM=Boolean.prototype.valueOf,pM=Object.prototype.toString,mM=Function.prototype.toString,gM=String.prototype.match,Gv=String.prototype.slice,es=String.prototype.replace,yM=String.prototype.toUpperCase,M1=String.prototype.toLowerCase,jb=RegExp.prototype.test,N1=Array.prototype.concat,Yn=Array.prototype.join,vM=Array.prototype.slice,D1=Math.floor,Jg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,mm=Object.getOwnPropertySymbols,ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ta||"symbol")?Symbol.toStringTag:null,Gb=Object.prototype.propertyIsEnumerable,O1=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function L1(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||jb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-D1(-t):D1(t);if(n!==t){var i=String(n),s=Gv.call(e,i.length+1);return es.call(i,r,"$&_")+"."+es.call(es.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return es.call(e,r,"$&_")}var ty=uM,B1=ty.custom,F1=$b(B1)?B1:null,_M=function t(e,r,n,i){var s=r||{};if(Xi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Xi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Xi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Xi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Xi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Vb(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return u?L1(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return u?L1(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return ry(e)?"[Array]":"[Object]";var p=BM(s,n);if(typeof i>"u")i=[];else if(Wb(i,e)>=0)return"[Circular]";function m(G,z,ue){if(z&&(i=vM.call(i),i.push(z)),ue){var se={depth:s.depth};return Xi(s,"quoteStyle")&&(se.quoteStyle=s.quoteStyle),t(G,se,n+1,i)}return t(G,s,n+1,i)}if(typeof e=="function"&&!U1(e)){var v=AM(e),_=Gc(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(_.length>0?" { "+Yn.call(_,", ")+" }":"")}if($b(e)){var b=Ta?es.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ey.call(e);return typeof e=="object"&&!Ta?fl(b):b}if(DM(e)){for(var T="<"+M1.call(String(e.nodeName)),S=e.attributes||[],E=0;E<S.length;E++)T+=" "+S[E].name+"="+Hb(xM(S[E].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+M1.call(String(e.nodeName))+">",T}if(ry(e)){if(e.length===0)return"[]";var w=Gc(e,m);return p&&!LM(w)?"["+ny(w,p)+"]":"[ "+Yn.call(w,", ")+" ]"}if(EM(e)){var C=Gc(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!Gb.call(e,"cause")?"{ ["+String(e)+"] "+Yn.call(N1.call("[cause]: "+m(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Yn.call(C,", ")+" }"}if(typeof e=="object"&&o){if(F1&&typeof e[F1]=="function"&&ty)return ty(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(IM(e)){var I=[];return I1&&I1.call(e,function(G,z){I.push(m(z,e,!0)+" => "+m(G,e))}),z1("Map",dd.call(e),I,p)}if(MM(e)){var L=[];return R1&&R1.call(e,function(G){L.push(m(G,e))}),z1("Set",fd.call(e),L,p)}if(RM(e))return gm("WeakMap");if(NM(e))return gm("WeakSet");if(kM(e))return gm("WeakRef");if(bM(e))return fl(m(Number(e)));if(CM(e))return fl(m(Jg.call(e)));if(TM(e))return fl(fM.call(e));if(SM(e))return fl(m(String(e)));if(!wM(e)&&!U1(e)){var D=Gc(e,m),M=O1?O1(e)===Object.prototype:e instanceof Object||e.constructor===Object,Y=e instanceof Object?"":"null prototype",X=!M&&nr&&Object(e)===e&&nr in e?Gv.call(Es(e),8,-1):Y?"Object":"",K=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",te=K+(X||Y?"["+Yn.call(N1.call([],X||[],Y||[]),": ")+"] ":"");return D.length===0?te+"{}":p?te+"{"+ny(D,p)+"}":te+"{ "+Yn.call(D,", ")+" }"}return String(e)};function Hb(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function xM(t){return es.call(String(t),/"/g,"&quot;")}function ry(t){return Es(t)==="[object Array]"&&(!nr||!(typeof t=="object"&&nr in t))}function wM(t){return Es(t)==="[object Date]"&&(!nr||!(typeof t=="object"&&nr in t))}function U1(t){return Es(t)==="[object RegExp]"&&(!nr||!(typeof t=="object"&&nr in t))}function EM(t){return Es(t)==="[object Error]"&&(!nr||!(typeof t=="object"&&nr in t))}function SM(t){return Es(t)==="[object String]"&&(!nr||!(typeof t=="object"&&nr in t))}function bM(t){return Es(t)==="[object Number]"&&(!nr||!(typeof t=="object"&&nr in t))}function TM(t){return Es(t)==="[object Boolean]"&&(!nr||!(typeof t=="object"&&nr in t))}function $b(t){if(Ta)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ey)return!1;try{return ey.call(t),!0}catch{}return!1}function CM(t){if(!t||typeof t!="object"||!Jg)return!1;try{return Jg.call(t),!0}catch{}return!1}var PM=Object.prototype.hasOwnProperty||function(t){return t in this};function Xi(t,e){return PM.call(t,e)}function Es(t){return pM.call(t)}function AM(t){if(t.name)return t.name;var e=gM.call(mM.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Wb(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function IM(t){if(!dd||!t||typeof t!="object")return!1;try{dd.call(t);try{fd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function RM(t){if(!Gl||!t||typeof t!="object")return!1;try{Gl.call(t,Gl);try{Hl.call(t,Hl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function kM(t){if(!k1||!t||typeof t!="object")return!1;try{return k1.call(t),!0}catch{}return!1}function MM(t){if(!fd||!t||typeof t!="object")return!1;try{fd.call(t);try{dd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function NM(t){if(!Hl||!t||typeof t!="object")return!1;try{Hl.call(t,Hl);try{Gl.call(t,Gl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function DM(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Vb(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Vb(Gv.call(t,0,e.maxStringLength),e)+n}var i=es.call(es.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,OM);return Hb(i,"single",e)}function OM(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+yM.call(e.toString(16))}function fl(t){return"Object("+t+")"}function gm(t){return t+" { ? }"}function z1(t,e,r,n){var i=n?ny(r,n):Yn.call(r,", ");return t+" ("+e+") {"+i+"}"}function LM(t){for(var e=0;e<t.length;e++)if(Wb(t[e],`
`)>=0)return!1;return!0}function BM(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Yn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Yn.call(Array(e+1),r)}}function ny(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Yn.call(t,","+r)+`
`+e.prev}function Gc(t,e){var r=ry(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Xi(t,i)?e(t[i],t):""}var s=typeof mm=="function"?mm(t):[],o;if(Ta){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var c in t)Xi(t,c)&&(r&&String(Number(c))===c&&c<t.length||Ta&&o["$"+c]instanceof Symbol||(jb.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof mm=="function")for(var h=0;h<s.length;h++)Gb.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var Hv=Uv,La=oM,FM=_M,UM=Hv("%TypeError%"),Hc=Hv("%WeakMap%",!0),$c=Hv("%Map%",!0),zM=La("WeakMap.prototype.get",!0),jM=La("WeakMap.prototype.set",!0),GM=La("WeakMap.prototype.has",!0),HM=La("Map.prototype.get",!0),$M=La("Map.prototype.set",!0),WM=La("Map.prototype.has",!0),$v=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},VM=function(t,e){var r=$v(t,e);return r&&r.value},XM=function(t,e,r){var n=$v(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},YM=function(t,e){return!!$v(t,e)},KM=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new UM("Side channel does not contain "+FM(s))},get:function(s){if(Hc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return zM(e,s)}else if($c){if(r)return HM(r,s)}else if(n)return VM(n,s)},has:function(s){if(Hc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return GM(e,s)}else if($c){if(r)return WM(r,s)}else if(n)return YM(n,s);return!1},set:function(s,o){Hc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Hc),jM(e,s,o)):$c?(r||(r=new $c),$M(r,s,o)):(n||(n={key:{},next:null}),XM(n,s,o))}};return i},QM=String.prototype.replace,qM=/%20/g,ym={RFC1738:"RFC1738",RFC3986:"RFC3986"},Wv={default:ym.RFC3986,formatters:{RFC1738:function(t){return QM.call(t,qM,"+")},RFC3986:function(t){return String(t)}},RFC1738:ym.RFC1738,RFC3986:ym.RFC3986},ZM=Wv,vm=Object.prototype.hasOwnProperty,Hs=Array.isArray,Hn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),JM=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Hs(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Xb=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},e3=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Hs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!vm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Hs(e)&&!Hs(r)&&(i=Xb(e,n)),Hs(e)&&Hs(r)?(r.forEach(function(s,o){if(vm.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return vm.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},t3=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},r3=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},n3=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===ZM.RFC1738&&(h===40||h===41)){u+=o.charAt(c);continue}if(h<128){u=u+Hn[h];continue}if(h<2048){u=u+(Hn[192|h>>6]+Hn[128|h&63]);continue}if(h<55296||h>=57344){u=u+(Hn[224|h>>12]+Hn[128|h>>6&63]+Hn[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),u+=Hn[240|h>>18]+Hn[128|h>>12&63]+Hn[128|h>>6&63]+Hn[128|h&63]}return u},i3=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),c=0;c<u.length;++c){var h=u[c],f=o[h];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:h}),n.push(f))}return JM(r),e},s3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},o3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},a3=function(e,r){return[].concat(e,r)},l3=function(e,r){if(Hs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Yb={arrayToObject:Xb,assign:t3,combine:a3,compact:i3,decode:r3,encode:n3,isBuffer:o3,isRegExp:s3,maybeMap:l3,merge:e3},Kb=KM,Ch=Yb,$l=Wv,u3=Object.prototype.hasOwnProperty,j1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},mi=Array.isArray,c3=Array.prototype.push,Qb=function(t,e){c3.apply(t,mi(e)?e:[e])},h3=Date.prototype.toISOString,G1=$l.default,Jt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ch.encode,encodeValuesOnly:!1,format:G1,formatter:$l.formatters[G1],indices:!1,serializeDate:function(e){return h3.call(e)},skipNulls:!1,strictNullHandling:!1},d3=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},_m={},f3=function t(e,r,n,i,s,o,u,c,h,f,p,m,v,_,b,T){for(var S=e,E=T,w=0,C=!1;(E=E.get(_m))!==void 0&&!C;){var I=E.get(e);if(w+=1,typeof I<"u"){if(I===w)throw new RangeError("Cyclic object value");C=!0}typeof E.get(_m)>"u"&&(w=0)}if(typeof c=="function"?S=c(r,S):S instanceof Date?S=p(S):n==="comma"&&mi(S)&&(S=Ch.maybeMap(S,function(se){return se instanceof Date?p(se):se})),S===null){if(s)return u&&!_?u(r,Jt.encoder,b,"key",m):r;S=""}if(d3(S)||Ch.isBuffer(S)){if(u){var L=_?r:u(r,Jt.encoder,b,"key",m);return[v(L)+"="+v(u(S,Jt.encoder,b,"value",m))]}return[v(r)+"="+v(String(S))]}var D=[];if(typeof S>"u")return D;var M;if(n==="comma"&&mi(S))_&&u&&(S=Ch.maybeMap(S,u)),M=[{value:S.length>0?S.join(",")||null:void 0}];else if(mi(c))M=c;else{var Y=Object.keys(S);M=h?Y.sort(h):Y}for(var X=i&&mi(S)&&S.length===1?r+"[]":r,K=0;K<M.length;++K){var te=M[K],G=typeof te=="object"&&typeof te.value<"u"?te.value:S[te];if(!(o&&G===null)){var z=mi(S)?typeof n=="function"?n(X,te):X:X+(f?"."+te:"["+te+"]");T.set(e,w);var ue=Kb();ue.set(_m,T),Qb(D,t(G,z,n,i,s,o,n==="comma"&&_&&mi(S)?null:u,c,h,f,p,m,v,_,b,ue))}}return D},p3=function(e){if(!e)return Jt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Jt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$l.default;if(typeof e.format<"u"){if(!u3.call($l.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=$l.formatters[n],s=Jt.filter;return(typeof e.filter=="function"||mi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Jt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Jt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Jt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Jt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Jt.encode,encoder:typeof e.encoder=="function"?e.encoder:Jt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Jt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Jt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Jt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Jt.strictNullHandling}},m3=function(t,e){var r=t,n=p3(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):mi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in j1?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var c=j1[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=Kb(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||Qb(o,f3(r[m],m,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var v=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""},Ca=Yb,iy=Object.prototype.hasOwnProperty,g3=Array.isArray,Mt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ca.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},y3=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},qb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},v3="utf8=%26%2310003%3B",_3="utf8=%E2%9C%93",x3=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),u=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===_3?h="utf-8":o[c]===v3&&(h="iso-8859-1"),u=c,c=o.length);for(c=0;c<o.length;++c)if(c!==u){var f=o[c],p=f.indexOf("]="),m=p===-1?f.indexOf("="):p+1,v,_;m===-1?(v=r.decoder(f,Mt.decoder,h,"key"),_=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,m),Mt.decoder,h,"key"),_=Ca.maybeMap(qb(f.slice(m+1),r),function(b){return r.decoder(b,Mt.decoder,h,"value")})),_&&r.interpretNumericEntities&&h==="iso-8859-1"&&(_=y3(_)),f.indexOf("[]=")>-1&&(_=g3(_)?[_]:_),iy.call(n,v)?n[v]=Ca.combine(n[v],_):n[v]=_}return n},w3=function(t,e,r,n){for(var i=n?e:qb(e,r),s=t.length-1;s>=0;--s){var o,u=t[s];if(u==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&u!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},E3=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,f=[];if(h){if(!n.plainObjects&&iy.call(Object.prototype,h)&&!n.allowPrototypes)return;f.push(h)}for(var p=0;n.depth>0&&(c=u.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&iy.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}return c&&f.push("["+s.slice(c.index)+"]"),w3(f,r,n,i)}},S3=function(e){if(!e)return Mt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Mt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Mt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Mt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Mt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Mt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Mt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Mt.comma,decoder:typeof e.decoder=="function"?e.decoder:Mt.decoder,delimiter:typeof e.delimiter=="string"||Ca.isRegExp(e.delimiter)?e.delimiter:Mt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Mt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Mt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Mt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Mt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Mt.strictNullHandling}},b3=function(t,e){var r=S3(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?x3(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],c=E3(u,n[u],r,typeof t=="string");i=Ca.merge(i,c,r)}return r.allowSparse===!0?i:Ca.compact(i)},T3=m3,C3=b3,P3=Wv,A3={formats:P3,parse:C3,stringify:T3},I3=Nk;function Pn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var R3=/^([a-z0-9.+-]+:)/i,k3=/:[0-9]*$/,M3=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,N3=["<",">",'"',"`"," ","\r",`
`,"	"],D3=["{","}","|","\\","^","`"].concat(N3),sy=["'"].concat(D3),H1=["%","/","?",";","#"].concat(sy),$1=["/","?","#"],O3=255,W1=/^[+a-z0-9A-Z_-]{0,63}$/,L3=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,B3={javascript:!0,"javascript:":!0},oy={javascript:!0,"javascript:":!0},da={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ay=A3;function Qd(t,e,r){if(t&&typeof t=="object"&&t instanceof Pn)return t;var n=new Pn;return n.parse(t,e,r),n}Pn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var c=M3.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=ay.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=R3.exec(u);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@/]+@[^@/]+/)){var p=u.substr(0,2)==="//";p&&!(h&&oy[h])&&(u=u.substr(2),this.slashes=!0)}if(!oy[h]&&(p||h&&!da[h])){for(var m=-1,v=0;v<$1.length;v++){var _=u.indexOf($1[v]);_!==-1&&(m===-1||_<m)&&(m=_)}var b,T;m===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",m),T!==-1&&(b=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(b)),m=-1;for(var v=0;v<H1.length;v++){var _=u.indexOf(H1[v]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=u.length),this.host=u.slice(0,m),u=u.slice(m),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var E=this.hostname.split(/\./),v=0,w=E.length;v<w;v++){var C=E[v];if(C&&!C.match(W1)){for(var I="",L=0,D=C.length;L<D;L++)C.charCodeAt(L)>127?I+="x":I+=C[L];if(!I.match(W1)){var M=E.slice(0,v),Y=E.slice(v+1),X=C.match(L3);X&&(M.push(X[1]),Y.unshift(X[2])),Y.length&&(u="/"+Y.join(".")+u),this.hostname=M.join(".");break}}}this.hostname.length>O3?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=I3.toASCII(this.hostname));var K=this.port?":"+this.port:"",te=this.hostname||"";this.host=te+K,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!B3[f])for(var v=0,w=sy.length;v<w;v++){var G=sy[v];if(u.indexOf(G)!==-1){var z=encodeURIComponent(G);z===G&&(z=escape(G)),u=u.split(G).join(z)}}var ue=u.indexOf("#");ue!==-1&&(this.hash=u.substr(ue),u=u.slice(0,ue));var se=u.indexOf("?");if(se!==-1?(this.search=u.substr(se),this.query=u.substr(se+1),e&&(this.query=ay.parse(this.query)),u=u.slice(0,se)):e&&(this.search="",this.query={}),u&&(this.pathname=u),da[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var K=this.pathname||"",J=this.search||"";this.path=K+J}return this.href=this.format(),this};function F3(t){return typeof t=="string"&&(t=Qd(t)),t instanceof Pn?t.format():Pn.prototype.format.call(t)}Pn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=ay.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||da[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+r+o+n};function U3(t,e){return Qd(t,!1,!0).resolve(e)}Pn.prototype.resolve=function(t){return this.resolveObject(Qd(t,!1,!0)).format()};Pn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Pn;e.parse(t,!1,!0),t=e}for(var r=new Pn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var c=o[u];c!=="protocol"&&(r[c]=t[c])}return da[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!da[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!oy[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=b||_||r.host&&t.pathname,S=T,E=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!da[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(E[0]===""?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),T=T&&(w[0]===""||E[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=w;else if(w.length)E||(E=[]),E.pop(),E=E.concat(w),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=E.shift(),r.hostname=r.host;var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=E.slice(-1)[0],D=(r.host||t.host||E.length>1)&&(L==="."||L==="..")||L==="",M=0,Y=E.length;Y>=0;Y--)L=E[Y],L==="."?E.splice(Y,1):L===".."?(E.splice(Y,1),M++):M&&(E.splice(Y,1),M--);if(!T&&!S)for(;M--;M)E.unshift("..");T&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),D&&E.join("/").substr(-1)!=="/"&&E.push("");var X=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(C){r.hostname=X?"":E.length?E.shift():"",r.host=r.hostname;var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)}return T=T||r.host&&E.length,T&&!X&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Pn.prototype.parseHost=function(){var t=this.host,e=k3.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var z3=Qd,j3=U3,G3=F3;const H3={parse:z3,format:G3,resolve:j3};function hn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function pl(t){return t.split("?")[0].split("#")[0]}function $3(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function W3(t,e,r){return t.replace(new RegExp($3(e),"g"),r)}function V3(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}const tr={toPosix(t){return W3(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){hn(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=pl(this.toPosix(e??ae.ADAPTER.getBaseUrl())),i=pl(this.toPosix(r??this.rootname(n)));return hn(t),t=this.toPosix(t),t.startsWith("/")?tr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),hn(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=V3(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return hn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(hn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(hn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){hn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){hn(t),e&&hn(e),t=pl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){hn(t),t=pl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){hn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=pl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,c=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}u===-1&&(c=!1,u=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},V1={};function Ie(t,e,r=3){if(V1[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),V1[e]=!0}let xm;function X3(){return typeof xm>"u"&&(xm=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ae.ADAPTER.getWebGLRenderingContext())return!1;const n=ae.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),xm}var Y3={grad:.9,turn:360,rad:360/(2*Math.PI)},ci=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ot=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},en=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Zb=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},X1=function(t){return{r:en(t.r,0,255),g:en(t.g,0,255),b:en(t.b,0,255),a:en(t.a)}},wm=function(t){return{r:Ot(t.r),g:Ot(t.g),b:Ot(t.b),a:Ot(t.a,3)}},K3=/^#([0-9a-f]{3,8})$/i,Wc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Jb=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),u=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},eT=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),u=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,u,o,o,c,n][h],g:255*[c,n,n,u,o,o][h],b:255*[o,o,c,n,n,u][h],a:i}},Y1=function(t){return{h:Zb(t.h),s:en(t.s,0,100),l:en(t.l,0,100),a:en(t.a)}},K1=function(t){return{h:Ot(t.h),s:Ot(t.s),l:Ot(t.l),a:Ot(t.a,3)}},Q1=function(t){return eT((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Wl=function(t){return{h:(e=Jb(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},Q3=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q3=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Z3=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,J3=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ly={string:[[function(t){var e=K3.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ot(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ot(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Z3.exec(t)||J3.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:X1({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Q3.exec(t)||q3.exec(t);if(!e)return null;var r,n,i=Y1({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Y3[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Q1(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ci(e)&&ci(r)&&ci(n)?X1({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ci(e)||!ci(r)||!ci(n))return null;var o=Y1({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return Q1(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ci(e)||!ci(r)||!ci(n))return null;var o=function(u){return{h:Zb(u.h),s:en(u.s,0,100),v:en(u.v,0,100),a:en(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return eT(o)},"hsv"]]},q1=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},eN=function(t){return typeof t=="string"?q1(t.trim(),ly.string):typeof t=="object"&&t!==null?q1(t,ly.object):[null,void 0]},Em=function(t,e){var r=Wl(t);return{h:r.h,s:en(r.s+100*e,0,100),l:r.l,a:r.a}},Sm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Z1=function(t,e){var r=Wl(t);return{h:r.h,s:r.s,l:en(r.l+100*e,0,100),a:r.a}},uy=function(){function t(e){this.parsed=eN(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ot(Sm(this.rgba),2)},t.prototype.isDark=function(){return Sm(this.rgba)<.5},t.prototype.isLight=function(){return Sm(this.rgba)>=.5},t.prototype.toHex=function(){return e=wm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Wc(Ot(255*s)):"","#"+Wc(r)+Wc(n)+Wc(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return wm(this.rgba)},t.prototype.toRgbString=function(){return e=wm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return K1(Wl(this.rgba))},t.prototype.toHslString=function(){return e=K1(Wl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=Jb(this.rgba),{h:Ot(e.h),s:Ot(e.s),v:Ot(e.v),a:Ot(e.a,3)};var e},t.prototype.invert=function(){return $n({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),$n(Em(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),$n(Em(this.rgba,-e))},t.prototype.grayscale=function(){return $n(Em(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),$n(Z1(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),$n(Z1(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?$n({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ot(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Wl(this.rgba);return typeof e=="number"?$n({h:e,s:r.s,l:r.l,a:r.a}):Ot(r.h)},t.prototype.isEqual=function(e){return this.toHex()===$n(e).toHex()},t}(),$n=function(t){return t instanceof uy?t:new uy(t)},J1=[],tN=function(t){t.forEach(function(e){J1.indexOf(e)<0&&(e(uy,ly),J1.push(e))})};function rN(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,m="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var _ in r){var b=(u=f,c=s[_],Math.pow(u.r-c.r,2)+Math.pow(u.g-c.g,2)+Math.pow(u.b-c.b,2));b<p&&(p=b,m=_)}return m}},e.string.push([function(o){var u=o.toLowerCase(),c=u==="transparent"?"#0000":r[u];return c?new t(c).toRgb():null},"name"])}tN([rN]);const fa=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof fa)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=fa.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=fa.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=$n(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let Ge=fa;Ge.shared=new fa;Ge.temp=new fa;Ge.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function nN(t){return Ie("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ge.shared.setValue(t).toHex()}function iN(t){return Ie("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ge.shared.setValue(t).toNumber()}function sN(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const tT=sN();function rT(t,e){return tT[e?1:0][t]}function oN(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function nT(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function pd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function ew(t){return!(t&t-1)&&!!t}function tw(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function pa(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function ts(t){return t===0?0:t<0?-1:1}let aN=0;function ao(){return++aN}const iT=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let cy=iT;cy.EMPTY=new iT(0,0,0,0);const rw={},Wn=Object.create(null),$i=Object.create(null);class lN{constructor(e,r,n){this._canvas=ae.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ae.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function nw(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function iw(t,e,r,n,i){const s=4*e;for(let o=n,u=n*s+4*r;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function uN(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,u=0,c=e-1,h=r-1;for(;u<r&&nw(s,e,u);)++u;if(u===r)return cy.EMPTY;for(;nw(s,e,h);)--h;for(;iw(s,e,o,u,h);)++o;for(;iw(s,e,c,u,h);)--c;return++c,++h,new cy(o,u,c,h)}function cN(t){const e=uN(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Vc;function hN(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Vc||(Vc=document.createElement("a")),Vc.href=t;const r=H3.parse(Vc.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function ps(t,e=1){var n;const r=(n=ae.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var le=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(le||{});const hy=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},sw=(t,e)=>hy(t).priority??e,ge={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(hy).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(hy).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>sw(s,r)-sw(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class dy{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const dN=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function fN(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function pN(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=dN.replace(/%forloop%/gi,fN(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const bm=0,Tm=1,Cm=2,Pm=3,Am=4,Im=5;class ki{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<bm)}set blend(e){!!(this.data&1<<bm)!==e&&(this.data^=1<<bm)}get offsets(){return!!(this.data&1<<Tm)}set offsets(e){!!(this.data&1<<Tm)!==e&&(this.data^=1<<Tm)}get culling(){return!!(this.data&1<<Cm)}set culling(e){!!(this.data&1<<Cm)!==e&&(this.data^=1<<Cm)}get depthTest(){return!!(this.data&1<<Pm)}set depthTest(e){!!(this.data&1<<Pm)!==e&&(this.data^=1<<Pm)}get depthMask(){return!!(this.data&1<<Im)}set depthMask(e){!!(this.data&1<<Im)!==e&&(this.data^=1<<Im)}get clockwiseFrontFace(){return!!(this.data&1<<Am)}set clockwiseFrontFace(e){!!(this.data&1<<Am)!==e&&(this.data^=1<<Am)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new ki;return e.depthTest=!1,e.blend=!0,e}}const fy=[];function sT(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=fy.length-1;n>=0;--n){const i=fy[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class An{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,u,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let p=0,m=f.length;p<m;p++)f[p][h](e,r,n,i,s,o,u,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(An.prototype,{dispatch:{value:An.prototype.emit},run:{value:An.prototype.emit}});class pu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new An("setRealSize"),this.onUpdate=new An("update"),this.onError=new An("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Au extends pu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===kn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const mN={scaleMode:vi.NEAREST,format:re.RGBA,alphaMode:kn.NPM},Bo=class extends Cu{constructor(t=null,e=null){super(),e=Object.assign({},Bo.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:u,wrapMode:c,format:h,type:f,target:p,resolution:m,resourceOptions:v}=e;t&&!(t instanceof pu)&&(t=sT(t,v),t.internal=!0),this.resolution=m||ae.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=h,this.type=f,this.target=p,this.alphaMode=r,this.uid=ao(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=ew(this.realWidth)&&ew(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete $i[this.cacheId],delete Wn[this.cacheId],this.cacheId=null),this.dispose(),Bo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ae.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ao()}`}i=t._pixiId}let s=$i[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Bo(t,e),s.cacheId=i,Bo.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new Au(t,{width:e,height:r}),s=t instanceof Float32Array?ve.FLOAT:ve.UNSIGNED_BYTE;return new Bo(i,Object.assign({},mN,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),$i[e]&&$i[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),$i[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=$i[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete $i[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete $i[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Ee=Bo;Ee.defaultOptions={mipmap:ei.POW2,anisotropicLevel:0,scaleMode:vi.LINEAR,wrapMode:Ei.CLAMP,alphaMode:kn.UNPACK,target:ca.TEXTURE_2D,format:re.RGBA,type:ve.UNSIGNED_BYTE};Ee._globalBatch=0;class py{constructor(){this.texArray=null,this.blend=0,this.type=En.TRIANGLES,this.start=0,this.size=0,this.data=null}}let gN=0;class mt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=gN++,this.disposeRunner=new An("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Zn.ELEMENT_ARRAY_BUFFER:Zn.ARRAY_BUFFER}get index(){return this.type===Zn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new mt(e)}}class md{constructor(e,r=0,n=!1,i=ve.FLOAT,s,o,u,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new md(e,r,n,i,s)}}const yN={Float32Array,Uint32Array,Int32Array,Uint8Array};function vN(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,u=0;for(let c=0;c<t.length;c++){const h=e[c],f=t[c],p=nT(f);i[p]||(i[p]=new yN[p](s)),o=i[p];for(let m=0;m<f.length;m++){const v=(m/h|0)*n+u,_=m%h;o[v+_]=f[m]}u+=h}return new Float32Array(s)}const ow={5126:4,5123:2,5121:1};let _N=0;const xN={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ms{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=_N++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new An("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,u,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof mt||(r instanceof Array&&(r=new Float32Array(r)),r=new mt(r));const h=e.split("|");if(h.length>1){for(let p=0;p<h.length;p++)this.addAttribute(h[p],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new md(f,n,i,s,o,u,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof mt||(e instanceof Array&&(e=new Uint16Array(e)),e=new mt(e)),e.type=Zn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new mt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*ow[s.type]/4),s.buffer=0}for(n.data=vN(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ms;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new mt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new md(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Zn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ms,n=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let u=0;u<o.buffers.length;u++)n[u]=new xN[nT(o.buffers[u].data)](i[u]),r.buffers[u]=new mt(n[u]);for(let u=0;u<e.length;u++){o=e[u];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Zn.ELEMENT_ARRAY_BUFFER;let u=0,c=0,h=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===f&&(c+=m.size*ow[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let v=0;v<m.length;v++)r.indexBuffer.data[v+h]+=u;u+=e[p].buffers[f].data.length/c,h+=m.length}}return r}}class oT extends ms{constructor(e=!1){super(),this._buffer=new mt(null,e,!1),this._indexBuffer=new mt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ve.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ve.FLOAT).addAttribute("aColor",this._buffer,4,!0,ve.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ve.FLOAT).addIndex(this._indexBuffer)}}const gd=Math.PI*2,wN=180/Math.PI,EN=Math.PI/180;var Ht=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ht||{});class Me{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Xc=[new Me,new Me,new Me,new Me];class Ce{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ht.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ce(0,0,0,0)}clone(){return new Ce(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const X=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>X}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const u=Xc[0].set(e.left,e.top),c=Xc[1].set(e.left,e.bottom),h=Xc[2].set(e.right,e.top),f=Xc[3].set(e.right,e.bottom);if(h.x<=u.x||c.y<=u.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(u,u),r.apply(c,c),r.apply(h,h),r.apply(f,f),Math.max(u.x,c.x,h.x,f.x)<=n||Math.min(u.x,c.x,h.x,f.x)>=i||Math.max(u.y,c.y,h.y,f.y)<=s||Math.min(u.y,c.y,h.y,f.y)>=o))return!1;const m=p*(c.y-u.y),v=p*(u.x-c.x),_=m*n+v*s,b=m*i+v*s,T=m*n+v*o,S=m*i+v*o;if(Math.max(_,b,T,S)<=m*u.x+v*u.y||Math.min(_,b,T,S)>=m*f.x+v*f.y)return!1;const E=p*(u.y-h.y),w=p*(h.x-u.x),C=E*n+w*s,I=E*i+w*s,L=E*n+w*o,D=E*i+w*o;return!(Math.max(C,I,L,D)<=E*u.x+w*u.y||Math.min(C,I,L,D)>=E*f.x+w*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Vv{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Ht.CIRC}clone(){return new Vv(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Xv{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Ht.ELIP}clone(){return new Xv(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ce(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class ma{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Ht.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new ma(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(h-u)*((r-c)/(f-c))+u&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class Yv{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Ht.RREC}clone(){return new Yv(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class tt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Me;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Me;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,u,c,h){return this.a=Math.cos(u+h)*s,this.b=Math.sin(u+h)*s,this.c=-Math.sin(u-c)*o,this.d=Math.cos(u-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(u+c);return h<1e-5||Math.abs(gd-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new tt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new tt}static get TEMP_MATRIX(){return new tt}}const Us=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],js=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],my=[],aT=[],Yc=Math.sign;function SN(){for(let t=0;t<16;t++){const e=[];my.push(e);for(let r=0;r<16;r++){const n=Yc(Us[t]*Us[r]+js[t]*zs[r]),i=Yc(zs[t]*Us[r]+Gs[t]*zs[r]),s=Yc(Us[t]*js[r]+js[t]*Gs[r]),o=Yc(zs[t]*js[r]+Gs[t]*Gs[r]);for(let u=0;u<16;u++)if(Us[u]===n&&zs[u]===i&&js[u]===s&&Gs[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new tt;e.set(Us[t],zs[t],js[t],Gs[t],0,0),aT.push(e)}}SN();const it={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Us[t],uY:t=>zs[t],vX:t=>js[t],vY:t=>Gs[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>my[t][e],sub:(t,e)=>my[t][it.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?it.S:it.N:Math.abs(e)*2<=Math.abs(t)?t>0?it.E:it.W:e>0?t>0?it.SE:it.SW:t>0?it.NE:it.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=aT[it.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class xi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new xi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const lT=class{constructor(){this.worldTransform=new tt,this.localTransform=new tt,this.position=new xi(this.onChange,this,0,0),this.scale=new xi(this.onChange,this,1,1),this.pivot=new xi(this.onChange,this,0,0),this.skew=new xi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let qd=lT;qd.IDENTITY=new lT;var bN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,TN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function aw(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Rm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function uT(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Rm(2*e);case"bvec3":return Rm(3*e);case"bvec4":return Rm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ga=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],CN={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},PN={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function AN(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let c=0;c<ga.length;c++)if(ga[c].test(s,o)){r.push(ga[c].code(i,o)),u=!0;break}if(!u){const h=(s.size===1&&!s.isArray?CN:PN)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const cT={};let No=cT;function IN(){if(No===cT||No!=null&&No.isContextLost()){const t=ae.ADAPTER.createCanvas();let e;ae.PREFER_ENV>=co.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),No=e}return No}let Kc;function RN(){if(!Kc){Kc=Jr.MEDIUM;const t=IN();t&&t.getShaderPrecisionFormat&&(Kc=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Jr.HIGH:Jr.MEDIUM)}return Kc}function lw(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),u=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);u[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function kN(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||lw(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||lw(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const MN={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function hT(t){return MN[t]}let Qc=null;const uw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function dT(t,e){if(!Qc){const r=Object.keys(uw);Qc={};for(let n=0;n<r.length;++n){const i=r[n];Qc[t[i]]=uw[i]}}return Qc[e]}function cw(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Jr.HIGH&&r!==Jr.HIGH&&(n=Jr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Jr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ml;function NN(){if(typeof ml=="boolean")return ml;try{ml=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ml=!1}return ml}let DN=0;const qc={},Fo=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=DN++,this.vertexSrc=t||Fo.defaultVertexSrc,this.fragmentSrc=e||Fo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),qc[r]?(qc[r]++,r+=`-${qc[r]}`):qc[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=cw(this.vertexSrc,Fo.defaultVertexPrecision,Jr.HIGH),this.fragmentSrc=cw(this.fragmentSrc,Fo.defaultFragmentPrecision,RN())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return TN}static get defaultFragmentSrc(){return bN}static from(t,e,r){const n=t+e;let i=rw[n];return i||(rw[n]=i=new Fo(t,e,r)),i}};let Sn=Fo;Sn.defaultVertexPrecision=Jr.HIGH;Sn.defaultFragmentPrecision=_i.apple.device?Jr.HIGH:Jr.MEDIUM;let ON=0;class In{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ON++,this.static=!!r,this.ubo=!!n,e instanceof mt?(this.buffer=e,this.buffer.type=Zn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new mt(new Float32Array(1)),this.buffer.type=Zn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new In(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new In(e,r,n)}static uboFrom(e,r){return new In(e,r??!0,!0)}}class Jn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof In?this.uniformGroup=r:this.uniformGroup=new In(r):this.uniformGroup=new In({}),this.disposeRunner=new An("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Sn.from(e,r);return new Jn(i,n)}}class LN{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=In.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Sn(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new tt,default:this.defaultGroupCache[e]};return new Jn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class gy{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function BN(){return!_i.apple.device}function FN(t){let e=!0;const r=ae.ADAPTER.getNavigator();if(_i.tablet||_i.phone){if(_i.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(_i.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Zd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var UN=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,zN=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const fn=class extends Zd{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=oT,this.vertexSize=6,this.state=ki.for2d(),this.size=fn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??FN(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??BN(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Ie("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return zN}static get defaultFragmentTemplate(){return UN}setShaderGenerator({vertex:t=fn.defaultVertexSrc,fragment:e=fn.defaultFragmentTemplate}={}){this.shaderGenerator=new LN(t,e)}contextChange(){const t=this.renderer.gl;ae.PREFER_ENV===co.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),fn.defaultMaxTextures),this.maxTextures=pN(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=fn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new py);for(;e.length<n;)e.push(new gy);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=fn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Ee._globalBatch,u=0,c=r[0],h=0;n.copyBoundTextures(i,e);for(let f=0;f<this._bufferSize;++f){const p=t[f];t[f]=null,p._batchEnabled!==o&&(c.count>=e&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,f),h=f,c=r[++u],++o),p._batchEnabled=o,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,this._bufferSize),++u,++o);for(let f=0;f<i.length;f++)i[f]=null;Ee._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,u=fn._drawCallPool;let c=this._dcIndex,h=this._aIndex,f=this._iIndex,p=u[c];p.start=this._iIndex,p.texArray=t;for(let m=e;m<r;++m){const v=n[m],_=v._texture.baseTexture,b=tT[_.alphaMode?1:0][v.blendMode];n[m]=null,e<m&&p.blend!==b&&(p.size=f-p.start,e=m,p=u[++c],p.texArray=t,p.start=f),this.packInterleavedGeometry(v,i,s,h,f),h+=v.vertexData.length/2*o,f+=v.indices.length,p.blend=b}e<r&&(p.size=f-p.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;fn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=fn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:u,size:c,start:h,blend:f}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,r.set(this.state),e.drawElements(u,c,e.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),fn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=pd(Math.ceil(t/8)),r=tw(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new dy(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=pd(Math.ceil(t/12)),r=tw(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,u=n/this.vertexSize,c=t.uvs,h=t.indices,f=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),v=Ge.shared.setValue(t._tintRGB).toPremultiplied(m,t._texture.baseTexture.alphaMode>0);for(let _=0;_<f.length;_+=2)o[n++]=f[_],o[n++]=f[_+1],o[n++]=c[_],o[n++]=c[_+1],s[n++]=v,o[n++]=p;for(let _=0;_<h.length;_++)r[i++]=u+h[_]}};let xn=fn;xn.defaultBatchSize=4096;xn.extension={name:"batch",type:le.RendererPlugin};xn._drawCallPool=[];xn._textureArrayPool=[];ge.add(xn);var jN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,GN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Cl=class extends Jn{constructor(t,e,r){const n=Sn.from(t||Cl.defaultVertexSrc,e||Cl.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Cl.defaultResolution,this.multisample=Cl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ki}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return GN}static get defaultFragmentSrc(){return jN}};let $t=Cl;$t.defaultResolution=1;$t.defaultMultisample=xt.NONE;class Jd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ge(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Jd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};Jd.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"background"};ge.add(Jd);class fT{constructor(e){this.renderer=e,this.emptyRenderer=new Zd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:u}=e;let c=0;for(let h=0;h<u;h++){const f=s[h],p=f._batchLocation;if(p>=0&&p<i&&r[p]===f){o[h]=p;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}fT.extension={type:le.RendererSystem,name:"batch"};ge.add(fT);let hw=0;class ef{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=hw++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=hw++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ae.PREFER_ENV>=co.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ef.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};ef.extension={type:le.RendererSystem,name:"context"};ge.add(ef);class HN extends Au{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===kn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class yy{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new An("disposeFramebuffer"),this.multisample=xt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ee(null,{scaleMode:vi.NEAREST,resolution:1,mipmap:ei.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ee(new HN(null,{width:this.width,height:this.height}),{scaleMode:vi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ei.OFF,format:re.DEPTH_COMPONENT,type:ve.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class pT extends Ee{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=xt.NONE),super(null,e),this.mipmap=ei.OFF,this.valid=!0,this._clear=new Ge([0,0,0,0]),this.framebuffer=new yy(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class gs extends pu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=hN(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===kn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class mT extends gs{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;gs.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ae.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===kn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const u=s[o];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class gT{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,u=e.height/2/s,c=e.x/i+o,h=e.y/s+u;n=it.add(n,it.NW),this.x0=c+o*it.uX(n),this.y0=h+u*it.uY(n),n=it.add(n,2),this.x1=c+o*it.uX(n),this.y1=h+u*it.uY(n),n=it.add(n,2),this.x2=c+o*it.uX(n),this.y2=h+u*it.uY(n),n=it.add(n,2),this.x3=c+o*it.uX(n),this.y3=h+u*it.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const dw=new gT;function Zc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class oe extends Cu{constructor(e,r,n,i,s,o,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ce(0,0,1,1)),e instanceof oe&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=dw,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Me(o.x,o.y):new Me(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Wn[r.url]&&oe.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,oe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new oe(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===dw&&(this._uvs=new gT),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ee){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${ao()}`,Ee.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${ao()}`}s=e._pixiId}let o=Wn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ee)?(r.resolution||(r.resolution=ps(e)),o=new oe(new Ee(e,r)),o.baseTexture.cacheId=s,Ee.addToCache(o.baseTexture,s),oe.addToCache(o,s)):!o&&e instanceof Ee&&(o=new oe(e),oe.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=oe.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new oe(Ee.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ee(e,Object.assign({scaleMode:Ee.defaultOptions.scaleMode,resolution:ps(r)},i)),{resource:o}=s;o instanceof mT&&(o.url=r);const u=new oe(s);return n||(n=r),Ee.addToCache(u.baseTexture,n),oe.addToCache(u,n),n!==r&&(Ee.addToCache(u.baseTexture,r),oe.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(c=>{u.baseTexture.once("loaded",()=>c(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Wn[r]&&Wn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Wn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Wn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Wn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Wn[e.textureCacheIds[r]]===e&&delete Wn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(o||u){const c=o&&u?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return oe._EMPTY||(oe._EMPTY=new oe(new Ee),Zc(oe._EMPTY),Zc(oe._EMPTY.baseTexture)),oe._EMPTY}static get WHITE(){if(!oe._WHITE){const e=ae.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),oe._WHITE=new oe(Ee.from(e)),Zc(oe._WHITE),Zc(oe._WHITE.baseTexture)}return oe._WHITE}}class ho extends oe{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ho(new pT(e))}}class yT{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=xt.NONE){const i=new pT(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ho(i)}getOptimalTexture(e,r,n=1,i=xt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=pd(e),r=pd(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||xt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}yT.SCREEN_KEY=-1;class $N extends ms{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class vT extends ms{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new mt(this.vertices),this.uvBuffer=new mt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class WN{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=xt.NONE,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.bindingSourceFrame=new Ce,this.bindingDestinationFrame=new Ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Jc=[new Me,new Me,new Me,new Me],km=new tt;class _T{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new yT,this.statePool=[],this.quad=new $N,this.quadUv=new vT,this.tempRect=new Ce,this.activeState={},this.globalUniforms=new In({outputFrame:new Ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new WN,o=this.renderer.renderTexture;let u=r[0].resolution,c=r[0].multisample,h=r[0].padding,f=r[0].autoFit,p=r[0].legacy??!0;for(let _=1;_<r.length;_++){const b=r[_];u=Math.min(u,b.resolution),c=Math.min(c,b.multisample),h=this.useMaxPadding?Math.max(h,b.padding):h+b.padding,f=f&&b.autoFit,p=p||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const m=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(km.copyFrom(n.projection.transform).invert(),m),f?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=r.sourceFrame.width*s[2]-.5*o[2],u[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Xn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[p].apply(this,h,f,Xn.CLEAR,r);const m=h;h=f,f=m}n[p].apply(this,h,c.renderTexture,Xn.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Xn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Xn.CLEAR||r===Xn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(En.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(En.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(tt.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=xt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||xt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Jc[0],i=Jc[1],s=Jc[2],o=Jc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=u,r.y=c,r.width=h-u,r.height=f-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:u,c,d:h}=s;if((Math.abs(u)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?km.copyFrom(s):km.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}_T.extension={type:le.RendererSystem,name:"filter"};ge.add(_T);class VN{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=xt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const XN=new Ce;class xT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new yy(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ae.PREFER_ENV===co.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,u=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,u)}else{const o=e.width>>n,u=e.height>>n;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Yg.COLOR|Yg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new VN(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let c=0;c<o;c++){const h=s[c],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,f._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+c))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=xt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=xt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[u];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new yy(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=XN,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ce}destroy(){this.renderer=null}}xT.extension={type:le.RendererSystem,name:"framebuffer"};ge.add(xT);const Mm={5126:4,5123:2,5121:1};class wT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ae.PREFER_ENV===co.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,c)=>n.drawElementsInstancedANGLE(i,s,o,u,c),e.drawArraysInstanced=(i,s,o,u)=>n.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const c=this.getSignature(e,u),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[c];if(f)return h[u.id]=f,f;const p=e.buffers,m=e.attributes,v={},_={};for(const b in p)v[b]=0,_[b]=0;for(const b in m)!m[b].size&&u.attributeData[b]?m[b].size=u.attributeData[b].size:m[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[b].buffer]+=m[b].size*Mm[m[b].type];for(const b in m){const T=m[b],S=T.size;T.stride===void 0&&(v[T.buffer]===S*Mm[T.type]?T.stride=0:T.stride=v[T.buffer]),T.start===void 0&&(T.start=_[T.buffer],_[T.buffer]+=S*Mm[T.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let b=0;b<p.length;b++){const T=p[b];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,u),h[u.id]=f,h[c]=f,i.bindVertexArray(null),o.unbind(Zn.ARRAY_BUFFER),f}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in u){const f=u[h],p=o[f.buffer],m=p._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(p),c=m);const v=r.attributeData[h].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,c=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*u,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}wT.extension={type:le.RendererSystem,name:"geometry"};ge.add(wT);const fw=new tt;class Kv{constructor(e,r){this._texture=e,this.mapCoord=new tt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(fw.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(fw));const o=r.baseTexture,u=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return u[0]=(r._frame.x+c+h)/o.width,u[1]=(r._frame.y+c+h)/o.height,u[2]=(r._frame.x+r._frame.width-c+h)/o.width,u[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var YN=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,KN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class QN extends $t{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||KN,r||YN,n),this.maskSprite=i,this.maskMatrix=new tt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Kv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class qN{constructor(e=null){this.type=bt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=$t.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=bt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class ET{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new qN;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==bt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case bt.SCISSOR:this.renderer.scissor.push(n);break;case bt.STENCIL:this.renderer.stencil.push(n);break;case bt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case bt.COLOR:this.pushColorMask(n);break}n.type===bt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case bt.SCISSOR:this.renderer.scissor.pop(r);break;case bt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case bt.SPRITE:this.popSpriteMask(r);break;case bt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===bt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=bt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=bt.SCISSOR:e.type=bt.STENCIL:e.type=bt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new QN]));const s=this.renderer,o=s.renderTexture;let u,c;if(o.current){const f=o.current;u=e.resolution||f.resolution,c=e.multisample??f.multisample}else u=e.resolution||s.resolution,c=e.multisample??s.multisample;i[0].resolution=u,i[0].multisample=c,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}ET.extension={type:le.RendererSystem,name:"mask"};ge.add(ET);class ST{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const pw=new tt,mw=[],Ph=class extends ST{constructor(t){super(t),this.glConst=ae.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,mw.pop()??new Ce);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Ph.isMatrixRotated(e.worldTransform)||Ph.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Ph.isMatrixRotated(i)||(i=i?pw.copyFrom(i):pw.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&mw.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let bT=Ph;bT.extension={type:le.RendererSystem,name:"scissor"};ge.add(bT);class TT extends ST{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}TT.extension={type:le.RendererSystem,name:"stencil"};ge.add(TT);class CT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ie("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ie("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ie("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}CT.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"_plugin"};ge.add(CT);class PT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new tt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}PT.extension={type:le.RendererSystem,name:"projection"};ge.add(PT);const ZN=new qd;class AT{constructor(e){this.renderer=e,this._tempMatrix=new tt}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ho.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=ZN,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,o}destroy(){}}AT.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"textureGenerator"};ge.add(AT);const Ds=new Ce,gl=new Ce;class IT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.viewportFrame=new Ce}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,r||(Ds.width=e.frame.width,Ds.height=e.frame.height,r=Ds),n||(gl.x=e.frame.x,gl.y=e.frame.y,gl.width=r.width,gl.height=r.height,n=gl),o=s.framebuffer):(u=i.resolution,r||(Ds.width=i._view.screen.width,Ds.height=i._view.screen.height,r=Ds),n||(n=Ds,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*u,c.y=n.y*u,c.width=n.width*u,c.height=n.height*u,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ge.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:c,y:h,width:f,height:p}=this.viewportFrame;c=Math.round(c),h=Math.round(h),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}IT.extension={type:le.RendererSystem,name:"renderTexture"};ge.add(IT);class JN{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function eD(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=dT(e,s.type),u={type:o,name:s.name,size:hT(o),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function tD(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),c=dT(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:u,value:uT(c,s.size)}}return r}function rD(t,e){var c;const r=aw(t,t.VERTEX_SHADER,e.vertexSrc),n=aw(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(c=e.extra)==null?void 0:c.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||kN(t,i,r,n),e.attributeData=eD(i,t),e.uniformData=tD(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((f,p)=>f>p?1:-1);for(let f=0;f<h.length;f++)e.attributeData[h[f]].location=f,t.bindAttribLocation(i,f,h[f]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const f=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:uT(f.type,f.size)}}return new JN(i,o)}function nD(t,e,r,n,i){r.buffer.update(i)}const iD={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},RT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function sD(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=RT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function oD(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function aD(t,e){if(!t.autoManage)return{size:0,syncFunc:nD};const r=oD(t.uniforms,e),{uboElements:n,size:i}=sD(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const u=n[o],c=t.uniforms[u.data.name],h=u.data.name;let f=!1;for(let p=0;p<ga.length;p++){const m=ga[p];if(m.codeUbo&&m.test(u.data,c)){s.push(`offset = ${u.offset/4};`,ga[p].codeUbo(u.data.name,c)),f=!0;break}}if(!f)if(u.data.size>1){const p=hT(u.data.type),m=Math.max(RT[u.data.type]/16,1),v=p/m,_=(4-v%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=iD[u.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${u.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let lD=0;const eh={textureCount:0,uboCount:0};class kT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=lD++}systemCheck(){if(!NN())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(eh.textureCount=0,eh.uboCount=0,this.syncUniformGroup(e.uniformGroup,eh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=AN(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,eh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=aD(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(u.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=rD(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}kT.extension={type:le.RendererSystem,name:"shader"};ge.add(kT);class tf{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}tf.defaultOptions={hello:!1};tf.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"startup"};ge.add(tf);function uD(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const cD=0,hD=1,dD=2,fD=3,pD=4,mD=5,vy=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[cD]=this.setBlend,this.map[hD]=this.setOffset,this.map[dD]=this.setCullFace,this.map[fD]=this.setDepthTest,this.map[pD]=this.setFrontFace,this.map[mD]=this.setDepthMask,this.checks=[],this.defaultState=new ki,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=uD(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(vy.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(vy.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let MT=vy;MT.extension={type:le.RendererSystem,name:"state"};ge.add(MT);class gD extends Cu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new An(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ah=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Ah.defaultMaxIdle,this.checkCountMax=Ah.defaultCheckCountMax,this.mode=Ah.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Lv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let wn=Ah;wn.defaultMode=Lv.AUTO;wn.defaultMaxIdle=60*60;wn.defaultCheckCountMax=60*10;wn.extension={type:le.RendererSystem,name:"textureGC"};ge.add(wn);class Nm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ve.UNSIGNED_BYTE,this.internalFormat=re.RGBA,this.samplerType=0}}function yD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ve.UNSIGNED_BYTE]:{[re.RGBA]:t.RGBA8,[re.RGB]:t.RGB8,[re.RG]:t.RG8,[re.RED]:t.R8,[re.RGBA_INTEGER]:t.RGBA8UI,[re.RGB_INTEGER]:t.RGB8UI,[re.RG_INTEGER]:t.RG8UI,[re.RED_INTEGER]:t.R8UI,[re.ALPHA]:t.ALPHA,[re.LUMINANCE]:t.LUMINANCE,[re.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.BYTE]:{[re.RGBA]:t.RGBA8_SNORM,[re.RGB]:t.RGB8_SNORM,[re.RG]:t.RG8_SNORM,[re.RED]:t.R8_SNORM,[re.RGBA_INTEGER]:t.RGBA8I,[re.RGB_INTEGER]:t.RGB8I,[re.RG_INTEGER]:t.RG8I,[re.RED_INTEGER]:t.R8I},[ve.UNSIGNED_SHORT]:{[re.RGBA_INTEGER]:t.RGBA16UI,[re.RGB_INTEGER]:t.RGB16UI,[re.RG_INTEGER]:t.RG16UI,[re.RED_INTEGER]:t.R16UI,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ve.SHORT]:{[re.RGBA_INTEGER]:t.RGBA16I,[re.RGB_INTEGER]:t.RGB16I,[re.RG_INTEGER]:t.RG16I,[re.RED_INTEGER]:t.R16I},[ve.UNSIGNED_INT]:{[re.RGBA_INTEGER]:t.RGBA32UI,[re.RGB_INTEGER]:t.RGB32UI,[re.RG_INTEGER]:t.RG32UI,[re.RED_INTEGER]:t.R32UI,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ve.INT]:{[re.RGBA_INTEGER]:t.RGBA32I,[re.RGB_INTEGER]:t.RGB32I,[re.RG_INTEGER]:t.RG32I,[re.RED_INTEGER]:t.R32I},[ve.FLOAT]:{[re.RGBA]:t.RGBA32F,[re.RGB]:t.RGB32F,[re.RG]:t.RG32F,[re.RED]:t.R32F,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ve.HALF_FLOAT]:{[re.RGBA]:t.RGBA16F,[re.RGB]:t.RGB16F,[re.RG]:t.RG16F,[re.RED]:t.R16F},[ve.UNSIGNED_SHORT_5_6_5]:{[re.RGB]:t.RGB565},[ve.UNSIGNED_SHORT_4_4_4_4]:{[re.RGBA]:t.RGBA4},[ve.UNSIGNED_SHORT_5_5_5_1]:{[re.RGBA]:t.RGB5_A1},[ve.UNSIGNED_INT_2_10_10_10_REV]:{[re.RGBA]:t.RGB10_A2,[re.RGBA_INTEGER]:t.RGB10_A2UI},[ve.UNSIGNED_INT_10F_11F_11F_REV]:{[re.RGB]:t.R11F_G11F_B10F},[ve.UNSIGNED_INT_5_9_9_9_REV]:{[re.RGB]:t.RGB9_E5},[ve.UNSIGNED_INT_24_8]:{[re.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ve.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[re.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ve.UNSIGNED_BYTE]:{[re.RGBA]:t.RGBA,[re.RGB]:t.RGB,[re.ALPHA]:t.ALPHA,[re.LUMINANCE]:t.LUMINANCE,[re.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.UNSIGNED_SHORT_5_6_5]:{[re.RGB]:t.RGB},[ve.UNSIGNED_SHORT_4_4_4_4]:{[re.RGBA]:t.RGBA},[ve.UNSIGNED_SHORT_5_5_5_1]:{[re.RGBA]:t.RGBA}},e}class NT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ee,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=yD(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Nm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Nm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Kg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Nm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===ve.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Kg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,u.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&pa(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ei.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ei.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==ei.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===vi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===vi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===vi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===vi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}NT.extension={type:le.RendererSystem,name:"texture"};ge.add(NT);class DT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const c=u._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}DT.extension={type:le.RendererSystem,name:"transformFeedback"};ge.add(DT);class rf{constructor(e){this.renderer=e}init(e){this.screen=new Ce(0,0,e.width,e.height),this.element=e.view||ae.ADAPTER.createCanvas(),this.resolution=e.resolution||ae.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}rf.defaultOptions={width:800,height:600,resolution:ae.RESOLUTION,autoDensity:!1};rf.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"_view"};ge.add(rf);ae.PREFER_ENV=co.WEBGL2;ae.STRICT_TEXTURE_CACHE=!1;ae.RENDER_OPTIONS={...ef.defaultOptions,...Jd.defaultOptions,...rf.defaultOptions,...tf.defaultOptions};Object.defineProperties(ae,{WRAP_MODE:{get(){return Ee.defaultOptions.wrapMode},set(t){Ie("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ee.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ee.defaultOptions.scaleMode},set(t){Ie("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ee.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ee.defaultOptions.mipmap},set(t){Ie("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ee.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ee.defaultOptions.anisotropicLevel},set(t){Ie("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ee.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ie("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),$t.defaultResolution},set(t){$t.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ie("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),$t.defaultMultisample},set(t){$t.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return xn.defaultMaxTextures},set(t){Ie("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),xn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return xn.defaultBatchSize},set(t){Ie("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),xn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return xn.canUploadSameBuffer},set(t){Ie("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),xn.canUploadSameBuffer=t}},GC_MODE:{get(){return wn.defaultMode},set(t){Ie("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),wn.defaultMode=t}},GC_MAX_IDLE:{get(){return wn.defaultMaxIdle},set(t){Ie("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),wn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return wn.defaultCheckCountMax},set(t){Ie("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),wn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Sn.defaultVertexPrecision},set(t){Ie("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Sn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Sn.defaultFragmentPrecision},set(t){Ie("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Sn.defaultFragmentPrecision=t}}});var ys=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ys||{});class Dm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Ir=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Dm(null,null,1/0),this.deltaMS=1/Ir.targetFPMS,this.elapsedMS=1/Ir.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=ys.NORMAL){return this._addListener(new Dm(t,e,r))}addOnce(t,e,r=ys.NORMAL){return this._addListener(new Dm(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ir.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Ir.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ir._shared){const t=Ir._shared=new Ir;t.autoStart=!0,t._protected=!0}return Ir._shared}static get system(){if(!Ir._system){const t=Ir._system=new Ir;t.autoStart=!0,t._protected=!0}return Ir._system}};let yt=Ir;yt.targetFPMS=.06;Object.defineProperties(ae,{TARGET_FPMS:{get(){return yt.targetFPMS},set(t){Ie("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),yt.targetFPMS=t}}});class OT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ys.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?yt.shared:new yt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}OT.extension=le.Application;ge.add(OT);const LT=[];ge.handleByList(le.Renderer,LT);function vD(t){for(const e of LT)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var _D=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const wD=_D,BT=xD;class FT{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=xt.HIGH?this.multisample=xt.HIGH:r>=xt.MEDIUM?this.multisample=xt.MEDIUM:r>=xt.LOW?this.multisample=xt.LOW:this.multisample=xt.NONE}destroy(){}}FT.extension={type:le.RendererSystem,name:"_multisample"};ge.add(FT);class ED{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class UT{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new ED(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}UT.extension={type:le.RendererSystem,name:"buffer"};ge.add(UT);class zT{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,u;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}zT.extension={type:le.RendererSystem,name:"objectRenderer"};ge.add(zT);const _y=class extends gD{constructor(t){super(),this.type=Mb.WEBGL,t=Object.assign({},ae.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new In({projectionMatrix:new tt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:_y.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Ie("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=_y.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:X3()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ie("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ie("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ie("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ie("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Ie("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Ie("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Ie("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Ie("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Ba=_y;Ba.extension={type:le.Renderer,priority:1};Ba.__plugins={};Ba.__systems={};ge.handleByMap(le.RendererPlugin,Ba.__plugins);ge.handleByMap(le.RendererSystem,Ba.__systems);ge.add(Ba);class jT extends pu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ee;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof pu?this.addResourceAt(e[n],n):this.addResourceAt(sT(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class SD extends jT{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ca.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class bD extends gs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Pl=class extends jT{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Pl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Pl.SIDES;o++)this.items[o].target=ca.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=ca.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=ca.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Pl.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Pl.SIDES}};let GT=Pl;GT.SIDES=6;class ta extends gs{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=ta.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ae.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===kn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ta._EMPTY=ta._EMPTY??ae.ADAPTER.createCanvas(0,0),ta._EMPTY}}const Ih=class extends gs{constructor(t,e){e=e||{},super(ae.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Ih.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;gs.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${ao()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Ih.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Ih.SVG_XML.test(t)}};let mu=Ih;mu.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;mu.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const xy=class extends gs{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];gs.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:u}=t[i];o=o||t[i];const c=o.split("?").shift().toLowerCase(),h=c.slice(c.lastIndexOf(".")+1);u=u||xy.MIME_TYPES[h]||`video/${h}`,s.src=o,s.type=u,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=yt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(yt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(yt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(yt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(yt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(yt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||xy.TYPES.includes(e)}};let Qv=xy;Qv.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Qv.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};fy.push(ta,mT,bD,Qv,mu,Au,GT,SD);class yd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ce.EMPTY:(e=e||new Ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:u,ty:c}=e,h=n*r.x+s*r.y+u,f=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,u=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,_=this.maxX,b=this.maxY,T=o*r+c*n+f,S=u*r+h*n+p;m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,T=o*i+c*n+f,S=u*i+h*n+p,m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,T=o*r+c*s+f,S=u*r+h*s+p,m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,T=o*i+c*s+f,S=u*i+h*s+p,m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,this.minX=m,this.minY=v,this.maxX=_,this.maxY=b}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],f=e[c+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,u=f>u?f:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const u=e.a,c=e.b,h=e.c,f=e.d,p=e.tx,m=e.ty;let v=this.minX,_=this.minY,b=this.maxX,T=this.maxY;for(let S=n;S<i;S+=2){const E=r[S],w=r[S+1],C=u*E+h*w+p,I=f*w+c*E+m;v=Math.min(v,C-s),b=Math.max(b,C+s),_=Math.min(_,I-o),T=Math.max(T,I+o)}this.minX=v,this.minY=_,this.maxX=b,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const u=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const u=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class rt extends Cu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new qd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new yd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(rt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ce),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new yd);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,u=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TD),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*wN}set angle(e){this.transform.rotation=e*EN}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class TD extends rt{constructor(){super(...arguments),this.sortDirty=null}}rt.prototype.displayObjectUpdateTransform=rt.prototype.updateTransform;const CD=new tt;function PD(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const wy=class extends rt{constructor(){super(),this.children=[],this.sortableChildren=wy.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);pa(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,pa(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,pa(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(PD),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==wy.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=CD.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const u=this.children[s],c=u.cullable;u.cullable=c||!this.cullArea,u.render(t),u.cullable=c}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<e.length;u++)e[u].enabled&&this._enabledFilters.push(e[u])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==bt.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,c=this.children.length;u<c;++u)this.children[u].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let ir=wy;ir.defaultSortableChildren=!1;ir.prototype.containerUpdateTransform=ir.prototype.updateTransform;Object.defineProperties(ae,{SORTABLE_CHILDREN:{get(){return ir.defaultSortableChildren},set(t){Ie("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ir.defaultSortableChildren=t}}});const yl=new Me,AD=new Uint16Array([0,1,2,0,2,3]);class ni extends ir{constructor(e){super(),this._anchor=new xi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ge(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||oe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=AD,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ae.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ts(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ts(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,c=r.ty,h=this.vertexData,f=e.trim,p=e.orig,m=this._anchor;let v=0,_=0,b=0,T=0;if(f?(_=f.x-m._x*p.width,v=_+f.width,T=f.y-m._y*p.height,b=T+f.height):(_=-m._x*p.width,v=_+p.width,T=-m._y*p.height,b=T+p.height),h[0]=n*_+s*T+u,h[1]=o*T+i*_+c,h[2]=n*v+s*T+u,h[3]=o*T+i*v+c,h[4]=n*v+s*b+u,h[5]=o*b+i*v+c,h[6]=n*_+s*b+u,h[7]=o*b+i*_+c,this._roundPixels){const S=ae.RESOLUTION;for(let E=0;E<h.length;++E)h[E]=Math.round(h[E]*S)/S}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,c=s.c,h=s.d,f=s.tx,p=s.ty,m=-i._x*n.width,v=m+n.width,_=-i._y*n.height,b=_+n.height;r[0]=o*m+c*_+f,r[1]=h*_+u*m+p,r[2]=o*v+c*_+f,r[3]=h*_+u*v+p,r[4]=o*v+c*b+f,r[5]=h*b+u*v+p,r[6]=o*m+c*b+f,r[7]=h*b+u*m+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new yd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,yl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return yl.x>=i&&yl.x<i+r&&(s=-n*this.anchor.y,yl.y>=s&&yl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof oe?e:oe.from(e,r);return new ni(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=ts(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=ts(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||oe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const HT=new tt;rt.prototype._cacheAsBitmap=!1;rt.prototype._cacheData=null;rt.prototype._cacheAsBitmapResolution=null;rt.prototype._cacheAsBitmapMultisample=null;class ID{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(rt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new ID),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});rt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};rt.prototype._initCachedDisplayObject=function(e){var m,v;if((m=this._cacheData)!=null&&m.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((v=this.filters)!=null&&v.length){const _=this.filters[0].padding;n.pad(_)}n.ceil(ae.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,c=ho.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),h=`cacheAsBitmap_${ao()}`;this._cacheData.textureCacheId=h,Ee.addToCache(c.baseTexture,h),oe.addToCache(c,h);const f=this.transform.localTransform.copyTo(HT).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const p=new ni(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(n.x/n.width),p.anchor.y=-(n.y/n.height),p.alpha=r,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};rt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};rt.prototype._initCachedDisplayObjectCanvas=function(e){var f;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(ae.RESOLUTION);const o=ho.create({width:r.width,height:r.height}),u=`cacheAsBitmap_${ao()}`;this._cacheData.textureCacheId=u,Ee.addToCache(o.baseTexture,u),oe.addToCache(o,u);const c=HT;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new ni(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};rt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};rt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};rt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ee.removeFromCache(this._cacheData.textureCacheId),oe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};rt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};rt.prototype.name=null;ir.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};rt.prototype.getGlobalPosition=function(e=new Me,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var RD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class kD extends $t{constructor(e=1){super(wD,RD,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const MD={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ND=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function DD(t){const e=MD[t],r=e.length;let n=ND,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<t;u++){let c=s.replace("%index%",u.toString());o=u,u>=r&&(o=t-u-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const OD=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function LD(t,e){const r=Math.ceil(t/2);let n=OD,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Ey extends $t{constructor(e,r=8,n=4,i=$t.defaultResolution,s=5){const o=LD(s,e),u=DD(s);super(o,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let u=r,c=s;this.state.blend=!1,e.applyFilter(this,u,c,Xn.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(u,Xn.BLIT),this.uniforms.uSampler=c;const f=c;c=u,u=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class BD extends $t{constructor(e=8,r=4,n=$t.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Ey(!0,e,r,n,i),this.blurYFilter=new Ey(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=e.getFilterTexture();this.blurXFilter.apply(e,r,u,Xn.CLEAR),this.blurYFilter.apply(e,u,n,i),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var FD=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Sy extends $t{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(BT,FD,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ge.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),c=n+(1-n)*o,h=o*(1-n)-u*i,f=o*(1-n)+u*i,p=o*(1-n)+u*i,m=n+o*(1-n),v=o*(1-n)-u*i,_=o*(1-n)-u*i,b=o*(1-n)+u*i,T=n+o*(1-n),S=[c,h,f,0,0,p,m,v,0,0,_,b,T,0,0,0,0,0,1,0];this._loadMatrix(S,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ge.shared,[u,c,h]=o.setValue(n).toArray(),[f,p,m]=o.setValue(i).toArray(),v=[.3,.59,.11,0,0,u,c,h,e,0,f,p,m,r,0,u-f,c-p,h-m,0,0];this._loadMatrix(v,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Sy.prototype.grayscale=Sy.prototype.greyscale;var UD=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,zD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class jD extends $t{constructor(e,r){const n=new tt;e.renderable=!1,super(zD,UD,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Me(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var GD=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,HD=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class $D extends $t{constructor(){super(HD,GD)}}var WD=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class VD extends $t{constructor(e=.5,r=Math.random()){super(BT,WD,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const gw={AlphaFilter:kD,BlurFilter:BD,BlurFilterPass:Ey,ColorMatrixFilter:Sy,DisplacementFilter:jD,FXAAFilter:$D,NoiseFilter:VD};Object.entries(gw).forEach(([t,e])=>{Object.defineProperty(gw,t,{get(){return Ie("7.1.0",`filters.${t} has moved to ${t}`),e}})});class XD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(yt.system.add(this.tickerUpdate,this,ys.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(yt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Qi=new XD;class Iu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Iu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Me,this.page=new Me,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class vd extends Iu{constructor(){super(...arguments),this.client=new Me,this.movement=new Me,this.offset=new Me,this.global=new Me,this.screen=new Me}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,u,c,h,f,p,m,v,_,b){throw new Error("Method not implemented.")}}class pn extends vd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Pa extends vd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Pa.DOM_DELTA_PIXEL=0;Pa.DOM_DELTA_LINE=1;Pa.DOM_DELTA_PAGE=2;const YD=2048,KD=new Me,Om=new Me;class QD{constructor(e){this.dispatch=new Cu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Qi.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,KD.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<YD&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Qi.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const m=f[p],v=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const _=e.isInteractive();(v.length>0||_)&&(_&&this._allInteractiveElements.push(e),v.push(e)),this._hitElements.length===0&&(this._hitElements=v),u=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:u?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Qi.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const f=c[h],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),u=e.isInteractive();return o&&i(e,n)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Om),!e.hitArea.contains(Om.x,Om.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const _=this.clonePointerEvent(r,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==s&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(p)}const o=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),u&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),u&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),u&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let u=s;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(n,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===u.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=u.target,c.timeStamp=r,u.detail=c.clickCount,u.pointerType==="mouse"){const h=u.button===2;this.dispatchEvent(u,h?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Pa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(pn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Pa);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(pn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof pn&&r instanceof pn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof vd&&r instanceof vd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const qD=1,ZD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},by=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new QD(null),Qi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new pn(null),this.rootWheelEvent=new Pa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...by.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,by._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Qi.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Qi.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Qi.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Qi.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=qD),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=ZD[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let gu=by;gu.extension={name:"events",type:[le.RendererSystem,le.CanvasRendererSystem]};gu.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};ge.add(gu);function yw(t){return t==="dynamic"||t==="static"}const JD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??yw(gu.defaultEventMode)},set interactive(t){Ie("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??gu.defaultEventMode},set eventMode(t){this._internalInteractive=yw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Iu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};rt.mixin(JD);const eO={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};rt.mixin(eO);const tO=9,th=100,rO=0,nO=0,vw=2,_w=1,iO=-1e3,sO=-1e3,oO=2;class $T{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_i.tablet||_i.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${th}px`,r.style.height=`${th}px`,r.style.position="absolute",r.style.top=`${rO}px`,r.style.left=`${nO}px`,r.style.zIndex=vw.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${_w}px`,e.style.height=`${_w}px`,e.style.position="absolute",e.style.top=`${iO}px`,e.style.left=`${sO}px`,e.style.zIndex=oO.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(_i.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:u,resolution:c}=this.renderer,h=i/o*c,f=s/u*c;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${u}px`;for(let m=0;m<this.children.length;m++){const v=this.children[m];if(v.renderId!==this.renderId)v._accessibleActive=!1,pa(this.children,m,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,m--;else{p=v._accessibleDiv;let _=v.hitArea;const b=v.worldTransform;v.hitArea?(p.style.left=`${(b.tx+_.x*b.a)*h}px`,p.style.top=`${(b.ty+_.y*b.d)*f}px`,p.style.width=`${_.width*b.a*h}px`,p.style.height=`${_.height*b.d*f}px`):(_=v.getBounds(),this.capHitArea(_),p.style.left=`${_.x*h}px`,p.style.top=`${_.y*f}px`,p.style.width=`${_.width*h}px`,p.style.height=`${_.height*f}px`,p.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&p.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==p.title||v.tabIndex!==p.tabIndex)&&(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${th}px`,r.style.height=`${th}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=vw.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Iu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===tO&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}$T.extension={name:"accessibility",type:[le.RendererPlugin,le.CanvasRendererPlugin]};ge.add($T);const Ty=class{constructor(t){this.stage=new ir,t=Object.assign({forceCanvas:!1},t),this.renderer=vD(t),Ty._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=Ty._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Ru=Ty;Ru._plugins=[];ge.handleByList(le.Application,Ru._plugins);class WT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}WT.extension=le.Application;ge.add(WT);const xw={loader:le.LoadParser,resolver:le.ResolveParser,cache:le.CacheParser,detection:le.DetectionParser};ge.handle(le.Asset,t=>{const e=t.ref;Object.entries(xw).filter(([r])=>!!e[r]).forEach(([r,n])=>ge.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(xw).filter(r=>!!e[r]).forEach(r=>ge.remove(e[r]))});class aO{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ku(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function fo(t,e){const r=t.split("?")[0],n=tr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Si=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),Cy=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function VT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const u=s[o];r<e.length-1?VT(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function lO(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),VT(t,i,0,r,n)}else n.push(t);return n}const _d=t=>!Array.isArray(t);class uO{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Si(e);let i;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof oe){const u=r;n.forEach(c=>{u.baseTexture!==oe.EMPTY.baseTexture&&Ee.addToCache(u.baseTexture,c),oe.addToCache(u,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const vl=new uO;class cO{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((u=h.testParse)==null?void 0:u.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=_d(e),o=Si(e,h=>({src:h})),u=o.length,c=o.map(async h=>{const f=tr.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/u)}catch(p){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const n=Si(e,i=>({src:i})).map(async i=>{var u,c;const s=tr.toAbsolute(i.src),o=this.promiseCache[s];if(o){const h=await o.promise;(c=(u=o.parser)==null?void 0:u.unload)==null||c.call(u,h,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var ii=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ii||{});const hO=".json",dO="application/json",fO={extension:{type:le.LoadParser,priority:ii.Low},name:"loadJson",test(t){return ku(t,dO)||fo(t,hO)},async load(t){return await(await ae.ADAPTER.fetch(t)).json()}};ge.add(fO);const pO=".txt",mO="text/plain",gO={name:"loadTxt",extension:{type:le.LoadParser,priority:ii.Low},test(t){return ku(t,mO)||fo(t,pO)},async load(t){return await(await ae.ADAPTER.fetch(t)).text()}};ge.add(gO);const yO=["normal","bold","100","200","300","400","500","600","700","800","900"],vO=[".ttf",".otf",".woff",".woff2"],_O=["font/ttf","font/otf","font/woff","font/woff2"],xO=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function wO(t){const e=tr.extname(t),i=tr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1));let s=i.length>0;for(const u of i)if(!u.match(xO)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const EO={extension:{type:le.LoadParser,priority:ii.Low},name:"loadWebFont",test(t){return ku(t,_O)||fo(t,vO)},async load(t,e){var n,i,s;const r=ae.ADAPTER.getFontFaceSet();if(r){const o=[],u=((n=e.data)==null?void 0:n.family)??wO(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>yO.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<c.length;f++){const p=c[f],m=new FontFace(u,`url(${encodeURI(t)})`,{...h,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ae.ADAPTER.getFontFaceSet().delete(e))}};ge.add(EO);let ww=0,Lm;const SO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",bO={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${SO}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},TO={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Bm;class CO{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([bO.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Lm===void 0&&(Lm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Lm&&(Bm||(Bm=URL.createObjectURL(new Blob([TO.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Bm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[ww]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:ww++,id:n})}}const Ew=new CO;function nf(t,e,r){const n=new oe(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const PO=[".jpeg",".jpg",".png",".webp",".avif"],AO=["image/jpeg","image/png","image/webp","image/avif"];async function IO(t){const e=await ae.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const sf={name:"loadTextures",extension:{type:le.LoadParser,priority:ii.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ku(t,AO)||fo(t,PO)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Ew.isImageBitmapSupported()?n=await Ew.loadImageBitmap(t):n=await IO(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new Ee(n,{resolution:ps(t),...e.data});return i.resource.src=t,nf(i,r,t)},unload(t){t.destroy(!0)}};ge.add(sf);const RO=".svg",kO="image/svg+xml",MO={extension:{type:le.LoadParser,priority:ii.High},name:"loadSVG",test(t){return ku(t,kO)||fo(t,RO)},async testParse(t){return mu.test(t)},async parse(t,e,r){var o;const n=new mu(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new Ee(n,{resolution:ps(t),...e==null?void 0:e.data});return i.resource.src=t,nf(i,r,t)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload:sf.unload};ge.add(MO);class NO{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Si(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=lO(r):r=[r]);const s=r.map(o=>{let u=o;if(typeof o=="string"){let c=!1;for(let h=0;h<this._parsers.length;h++){const f=this._parsers[h];if(f.test(o)){u=f.parse(o),c=!0;break}}c||(u={src:o})}return u.format||(u.format=u.src.split(".").pop()),u.alias||(u.alias=i),(this._basePath||this._rootPath)&&(u.src=tr.toAbsolute(u.src,this._basePath,this._rootPath)),u.src=this._appendDefaultSearchParams(u.src),u.data=u.data??n,u});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=_d(e);e=Si(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const c in o){const h=o[c];u[this._extractAssetIdFromBundle(i,c)]=h}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=_d(e);e=Si(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),u=s[0];o==null||o.priority.forEach(c=>{o.params[c].forEach(h=>{const f=s.filter(p=>p[c]?p[c]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??u}else{let s=i;(this._basePath||this._rootPath)&&(s=tr.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class DO{constructor(){this._detections=[],this._initialized=!1,this.resolver=new NO,this.loader=new cO,this.cache=vl,this._backgroundLoader=new aO(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,u;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const c=(u=e.texturePreference)==null?void 0:u.format;i=typeof c=="string"?[c]:c;for(const h of this._detections)await h.test()||(i=await h.remove(i))}else for(const c of this._detections)await c.test()&&(i=await c.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=_d(e),i=Si(e).map(u=>typeof u!="string"?(this.resolver.add(u.src,u),u.src):(this.resolver.hasKey(u)||this.resolver.add(u,u),u)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,c=0;const h=()=>{r==null||r(++u/c)},f=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(v=>{s[p]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return vl.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=vl.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((u,c)=>{const h=s[u.src],f=[u.src];u.alias&&f.push(...u.alias),o[i[c]]=h,vl.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=Si(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Si(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{vl.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return sf.config.preferWorkers}set preferWorkers(e){Ie("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Qe=new DO;ge.handleByList(le.LoadParser,Qe.loader.parsers).handleByList(le.ResolveParser,Qe.resolver.parsers).handleByList(le.CacheParser,Qe.cache.parsers).handleByList(le.DetectionParser,Qe.detections);const OO={extension:le.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof oe),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};ge.add(OO);const LO={extension:{type:le.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ae.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ge.add(LO);const BO={extension:{type:le.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ae.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ge.add(BO);const Sw=["png","jpg","jpeg"],FO={extension:{type:le.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Sw],remove:async t=>t.filter(e=>!Sw.includes(e))};ge.add(FO);const UO={extension:le.ResolveParser,test:sf.test,parse:t=>{var e;return{resolution:parseFloat(((e=ae.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};ge.add(UO);var Rr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Rr||{});const xd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let hi,Uo;function bw(){Uo={s3tc:hi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:hi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:hi.getExtension("WEBGL_compressed_texture_etc"),etc1:hi.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:hi.getExtension("WEBGL_compressed_texture_pvrtc")||hi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:hi.getExtension("WEBGL_compressed_texture_atc"),astc:hi.getExtension("WEBGL_compressed_texture_astc")}}const zO={extension:{type:le.DetectionParser,priority:2},test:async()=>{const e=ae.ADAPTER.createCanvas().getContext("webgl");return e?(hi=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Uo||bw();const e=[];for(const r in Uo)Uo[r]&&e.push(r);return[...e,...t]},remove:async t=>(Uo||bw(),t.filter(e=>!(e in Uo)))};ge.add(zO);class jO extends Au{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new dy(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new dy(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Zs extends jO{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Zs._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Zs._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,u=this.levels;o<u;o++){const{levelID:c,levelWidth:h,levelHeight:f,levelBuffer:p}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,c,this.format,h,f,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Zs._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,u){const c=new Array(n);let h=e.byteOffset,f=o,p=u,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*xd[r];for(let b=0;b<n;b++)c[b]={levelID:b,levelWidth:n>1?f:m,levelHeight:n>1?p:v,levelBuffer:new Uint8Array(e.buffer,h,_)},h+=_,f=f>>1||1,p=p>>1||1,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*xd[r];return c}}const Fm=4,rh=124,GO=32,Tw=20,HO=542327876,nh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},$O={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ih={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},WO=1,VO=2,XO=4,YO=64,KO=512,QO=131072,qO=827611204,ZO=861165636,JO=894720068,eL=808540228,tL=4,rL={[qO]:Rr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[ZO]:Rr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[JO]:Rr.COMPRESSED_RGBA_S3TC_DXT5_EXT},nL={70:Rr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Rr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Rr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Rr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Rr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Rr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Rr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Rr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Rr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function iL(t){const e=new Uint32Array(t);if(e[0]!==HO)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,rh/Uint32Array.BYTES_PER_ELEMENT),i=n[nh.HEIGHT],s=n[nh.WIDTH],o=n[nh.MIPMAP_COUNT],u=new Uint32Array(t,nh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,GO/Uint32Array.BYTES_PER_ELEMENT),c=u[WO];if(c&XO){const h=u[$O.FOURCC];if(h!==eL){const w=rL[h],C=Fm+rh,I=new Uint8Array(t,C);return[new Zs(I,{format:w,width:s,height:i,levels:o})]}const f=Fm+rh,p=new Uint32Array(e.buffer,f,Tw/Uint32Array.BYTES_PER_ELEMENT),m=p[ih.DXGI_FORMAT],v=p[ih.RESOURCE_DIMENSION],_=p[ih.MISC_FLAG],b=p[ih.ARRAY_SIZE],T=nL[m];if(T===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(_===tL)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const S=new Array,E=Fm+rh+Tw;if(b===1)S.push(new Uint8Array(t,E));else{const w=xd[T];let C=0,I=s,L=i;for(let M=0;M<o;M++){const Y=Math.max(1,I+3&-4),X=Math.max(1,L+3&-4),K=Y*X*w;C+=K,I=I>>>1,L=L>>>1}let D=E;for(let M=0;M<b;M++)S.push(new Uint8Array(t,D,C)),D+=C}return S.map(w=>new Zs(w,{format:T,width:s,height:i,levels:o}))}throw c&YO?new Error("DDSParser does not support uncompressed texture data."):c&KO?new Error("DDSParser does not supported YUV uncompressed texture data."):c&QO?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&VO?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Cw=[171,75,84,88,32,49,49,187,13,10,26,10],sL=67305985,dn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Py=64,Pw={[ve.UNSIGNED_BYTE]:1,[ve.UNSIGNED_SHORT]:2,[ve.INT]:4,[ve.UNSIGNED_INT]:4,[ve.FLOAT]:4,[ve.HALF_FLOAT]:8},oL={[re.RGBA]:4,[re.RGB]:3,[re.RG]:2,[re.RED]:1,[re.LUMINANCE]:1,[re.LUMINANCE_ALPHA]:2,[re.ALPHA]:1},aL={[ve.UNSIGNED_SHORT_4_4_4_4]:2,[ve.UNSIGNED_SHORT_5_5_5_1]:2,[ve.UNSIGNED_SHORT_5_6_5]:2};function lL(t,e,r=!1){const n=new DataView(e);if(!uL(t,n))return null;const i=n.getUint32(dn.ENDIANNESS,!0)===sL,s=n.getUint32(dn.GL_TYPE,i),o=n.getUint32(dn.GL_FORMAT,i),u=n.getUint32(dn.GL_INTERNAL_FORMAT,i),c=n.getUint32(dn.PIXEL_WIDTH,i),h=n.getUint32(dn.PIXEL_HEIGHT,i)||1,f=n.getUint32(dn.PIXEL_DEPTH,i)||1,p=n.getUint32(dn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(dn.NUMBER_OF_FACES,i),v=n.getUint32(dn.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(dn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const b=4,T=4,S=c+3&-4,E=h+3&-4,w=new Array(p);let C=c*h;s===0&&(C=S*E);let I;if(s!==0?Pw[s]?I=Pw[s]*oL[o]:I=aL[s]:I=xd[u],I===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const L=r?hL(n,_,i):null;let M=C*I,Y=c,X=h,K=S,te=E,G=Py+_;for(let z=0;z<v;z++){const ue=n.getUint32(G,i);let se=G+4;for(let J=0;J<p;J++){let k=w[J];k||(k=w[J]=new Array(v)),k[z]={levelID:z,levelWidth:v>1||s!==0?Y:K,levelHeight:v>1||s!==0?X:te,levelBuffer:new Uint8Array(e,se,M)},se+=M}G+=ue+4,G=G%4!==0?G+4-G%4:G,Y=Y>>1||1,X=X>>1||1,K=Y+b-1&~(b-1),te=X+T-1&~(T-1),M=K*te*I}return s!==0?{uncompressed:w.map(z=>{let ue=z[0].levelBuffer,se=!1;return s===ve.FLOAT?ue=new Float32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4):s===ve.UNSIGNED_INT?(se=!0,ue=new Uint32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)):s===ve.INT&&(se=!0,ue=new Int32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)),{resource:new Au(ue,{width:z[0].levelWidth,height:z[0].levelHeight}),type:s,format:se?cL(o):o}}),kvData:L}:{compressed:w.map(z=>new Zs(null,{format:u,width:c,height:h,levels:v,levelBuffers:z})),kvData:L}}function uL(t,e){for(let r=0;r<Cw.length;r++)if(e.getUint8(r)!==Cw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function cL(t){switch(t){case re.RGBA:return re.RGBA_INTEGER;case re.RGB:return re.RGB_INTEGER;case re.RG:return re.RG_INTEGER;case re.RED:return re.RED_INTEGER;default:return t}}function hL(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(Py+i,r),o=Py+i+4,u=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,f),i+=4+s+u}return n}const dL={extension:{type:le.LoadParser,priority:ii.High},name:"loadDDS",test(t){return fo(t,".dds")},async load(t,e,r){const i=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),o=iL(i).map(u=>{const c=new Ee(u,{mipmap:ei.OFF,alphaMode:kn.NO_PREMULTIPLIED_ALPHA,resolution:ps(t),...e.data});return nf(c,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ge.add(dL);const fL={extension:{type:le.LoadParser,priority:ii.High},name:"loadKTX",test(t){return fo(t,".ktx")},async load(t,e,r){const i=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:u}=lL(t,i),c=s??o,h={mipmap:ei.OFF,alphaMode:kn.NO_PREMULTIPLIED_ALPHA,resolution:ps(t),...e.data},f=c.map(p=>{c===o&&Object.assign(h,{type:p.type,format:p.format});const m=new Ee(p,h);return m.ktxKeyValueData=u,nf(m,r,t)});return f.length===1?f[0]:f},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ge.add(fL);const pL={extension:le.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=ae.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ae.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};ge.add(pL);const mL=new Ce,gL=4,Al=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>i(u.result),u.onerror=s,u.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const u=new FileReader;u.onload=()=>s(u.result),u.onerror=o,u.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&Al._flipY(r,n,i),Al._unpremultiplyAlpha(r);const o=new lN(n,i,1),u=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(u,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&Al._flipY(r,n,i),Al._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof ho?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const p=s.framebuffer.glFramebuffers[r.CONTEXT_UID];p.blitFramebuffer&&r.framebuffer.bind(p.blitFramebuffer)}}else n=r.resolution,e||(e=mL,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const u=Math.round(e.width*n),c=Math.round(e.height*n),h=new Uint8Array(gL*u*c),f=r.gl;return f.readPixels(Math.round(e.x*n),Math.round(e.y*n),u,c,f.RGBA,f.UNSIGNED_BYTE,h),o&&(s==null||s.destroy(!0)),{pixels:h,width:u,height:c,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const u=o*n,c=(r-o-1)*n;s.set(t.subarray(u,u+n)),t.copyWithin(u,c,c+n),t.set(s,c)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let XT=Al;XT.extension={name:"extract",type:le.RendererSystem};ge.add(XT);const wd={build(t){const e=t.points;let r,n,i,s,o,u;if(t.type===Ht.CIRC){const _=t.shape;r=_.x,n=_.y,o=u=_.radius,i=s=0}else if(t.type===Ht.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,u=_.height,i=s=0}else{const _=t.shape,b=_.width/2,T=_.height/2;r=_.x+b,n=_.y+T,o=u=Math.max(0,Math.min(_.radius,Math.min(b,T))),i=b-o,s=T-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+u)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,p=c*4+(i?2:0)+2,m=p,v=h;{const _=i+o,b=s,T=r+_,S=r-_,E=n+b;if(e[f++]=T,e[f++]=E,e[--p]=E,e[--p]=S,s){const w=n-b;e[m++]=S,e[m++]=w,e[--v]=w,e[--v]=T}}for(let _=1;_<c;_++){const b=Math.PI/2*(_/c),T=i+Math.cos(b)*o,S=s+Math.sin(b)*u,E=r+T,w=r-T,C=n+S,I=n-S;e[f++]=E,e[f++]=C,e[--p]=C,e[--p]=w,e[m++]=w,e[m++]=I,e[--v]=I,e[--v]=E}{const _=i,b=s+u,T=r+_,S=r-_,E=n+b,w=n-b;e[f++]=T,e[f++]=E,e[--v]=w,e[--v]=T,i&&(e[f++]=S,e[f++]=E,e[--v]=w,e[--v]=S)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let u,c;if(t.type!==Ht.RREC){const f=t.shape;u=f.x,c=f.y}else{const f=t.shape;u=f.x+f.width/2,c=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*u+h.c*c+h.tx:u,t.matrix?h.b*u+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Aw(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const u=t[i],c=t[i+1];n+=(u-s)*(c+o),s=u,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,u=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[u],t[h]]=[t[h],t[u]]}}}const YT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Aw(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];Aw(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const u=Mk(r,o,2);if(!u)return;const c=i.length/2;for(let h=0;h<u.length;h+=3)s.push(u[h]+c),s.push(u[h+1]+c),s.push(u[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},yL={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},vL={build(t){wd.build(t)},triangulate(t,e){wd.triangulate(t,e)}};var yn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(yn||{}),Xs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Xs||{});const Aa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Iw{static curveTo(e,r,n,i,s,o){const u=o[o.length-2],h=o[o.length-1]-r,f=u-e,p=i-r,m=n-e,v=Math.abs(h*m-f*p);if(v<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const _=h*h+f*f,b=p*p+m*m,T=h*p+f*m,S=s*Math.sqrt(_)/v,E=s*Math.sqrt(b)/v,w=S*T/_,C=E*T/b,I=S*m+E*f,L=S*p+E*h,D=f*(E+w),M=h*(E+w),Y=m*(S+C),X=p*(S+C),K=Math.atan2(M-L,D-I),te=Math.atan2(X-L,Y-I);return{cx:I+e,cy:L+r,radius:s,startAngle:K,endAngle:te,anticlockwise:f*p>m*h}}static arc(e,r,n,i,s,o,u,c,h){const f=u-o,p=Aa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/gd)*40),m=f/(p*2),v=m*2,_=Math.cos(m),b=Math.sin(m),T=p-1,S=T%1/T;for(let E=0;E<=T;++E){const w=E+S*E,C=m+o+v*w,I=Math.cos(C),L=-Math.sin(C);h.push((_*I+b*L)*s+n,(_*-L+b*I)*s+i)}}}class _L{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class qv{static curveLength(e,r,n,i,s,o,u,c){let f=0,p=0,m=0,v=0,_=0,b=0,T=0,S=0,E=0,w=0,C=0,I=e,L=r;for(let D=1;D<=10;++D)p=D/10,m=p*p,v=m*p,_=1-p,b=_*_,T=b*_,S=T*e+3*b*p*n+3*_*m*s+v*u,E=T*r+3*b*p*i+3*_*m*o+v*c,w=I-S,C=L-E,I=S,L=E,f+=Math.sqrt(w*w+C*C);return f}static curveTo(e,r,n,i,s,o,u){const c=u[u.length-2],h=u[u.length-1];u.length-=2;const f=Aa._segmentsCount(qv.curveLength(c,h,e,r,n,i,s,o));let p=0,m=0,v=0,_=0,b=0;u.push(c,h);for(let T=1,S=0;T<=f;++T)S=T/f,p=1-S,m=p*p,v=m*p,_=S*S,b=_*S,u.push(v*c+3*m*S*e+3*p*_*n+b*s,v*h+3*m*S*r+3*p*_*i+b*o)}}function Rw(t,e,r,n,i,s,o,u){const c=t-r*i,h=e-n*i,f=t+r*s,p=e+n*s;let m,v;o?(m=n,v=-r):(m=-n,v=r);const _=c+m,b=h+v,T=f+m,S=p+v;return u.push(_,b,T,S),2}function Os(t,e,r,n,i,s,o,u){const c=r-t,h=n-e;let f=Math.atan2(c,h),p=Math.atan2(i-t,s-e);u&&f<p?f+=Math.PI*2:!u&&f>p&&(p+=Math.PI*2);let m=f;const v=p-f,_=Math.abs(v),b=Math.sqrt(c*c+h*h),T=(15*_*Math.sqrt(b)/Math.PI>>0)+1,S=v/T;if(m+=S,u){o.push(t,e,r,n);for(let E=1,w=m;E<T;E++,w+=S)o.push(t,e,t+Math.sin(w)*b,e+Math.cos(w)*b);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let E=1,w=m;E<T;E++,w+=S)o.push(t+Math.sin(w)*b,e+Math.cos(w)*b,t,e);o.push(i,s,t,e)}return T*2}function xL(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Me(n[0],n[1]),u=new Me(n[n.length-2],n[n.length-1]),c=r.type!==Ht.POLY||r.closeStroke,h=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const J=(o.x+u.x)*.5,k=(u.y+o.y)*.5;n.unshift(J,k),n.push(J,k)}const f=e.points,p=n.length/2;let m=n.length;const v=f.length/2,_=s.width/2,b=_*_,T=s.miterLimit*s.miterLimit;let S=n[0],E=n[1],w=n[2],C=n[3],I=0,L=0,D=-(E-C),M=S-w,Y=0,X=0,K=Math.sqrt(D*D+M*M);D/=K,M/=K,D*=_,M*=_;const te=s.alignment,G=(1-te)*2,z=te*2;c||(s.cap===Xs.ROUND?m+=Os(S-D*(G-z)*.5,E-M*(G-z)*.5,S-D*G,E-M*G,S+D*z,E+M*z,f,!0)+2:s.cap===Xs.SQUARE&&(m+=Rw(S,E,D,M,G,z,!0,f))),f.push(S-D*G,E-M*G,S+D*z,E+M*z);for(let J=1;J<p-1;++J){S=n[(J-1)*2],E=n[(J-1)*2+1],w=n[J*2],C=n[J*2+1],I=n[(J+1)*2],L=n[(J+1)*2+1],D=-(E-C),M=S-w,K=Math.sqrt(D*D+M*M),D/=K,M/=K,D*=_,M*=_,Y=-(C-L),X=w-I,K=Math.sqrt(Y*Y+X*X),Y/=K,X/=K,Y*=_,X*=_;const k=w-S,H=E-C,R=w-I,q=L-C,ne=k*R+H*q,Se=H*R-q*k,xe=Se<0;if(Math.abs(Se)<.001*Math.abs(ne)){f.push(w-D*G,C-M*G,w+D*z,C+M*z),ne>=0&&(s.join===yn.ROUND?m+=Os(w,C,w-D*G,C-M*G,w-Y*G,C-X*G,f,!1)+4:m+=2,f.push(w-Y*z,C-X*z,w+Y*G,C+X*G));continue}const Ue=(-D+S)*(-M+C)-(-D+w)*(-M+E),Te=(-Y+I)*(-X+C)-(-Y+w)*(-X+L),Fe=(k*Te-R*Ue)/Se,Pt=(q*Ue-H*Te)/Se,Bt=(Fe-w)*(Fe-w)+(Pt-C)*(Pt-C),ut=w+(Fe-w)*G,Pe=C+(Pt-C)*G,Xe=w-(Fe-w)*z,Oe=C-(Pt-C)*z,Fr=Math.min(k*k+H*H,R*R+q*q),Ur=xe?G:z,bs=Fr+Ur*Ur*b,gf=Bt<=bs;let po=s.join;if(po===yn.MITER&&Bt/b>T&&(po=yn.BEVEL),gf)switch(po){case yn.MITER:{f.push(ut,Pe,Xe,Oe);break}case yn.BEVEL:{xe?f.push(ut,Pe,w+D*z,C+M*z,ut,Pe,w+Y*z,C+X*z):f.push(w-D*G,C-M*G,Xe,Oe,w-Y*G,C-X*G,Xe,Oe),m+=2;break}case yn.ROUND:{xe?(f.push(ut,Pe,w+D*z,C+M*z),m+=Os(w,C,w+D*z,C+M*z,w+Y*z,C+X*z,f,!0)+4,f.push(ut,Pe,w+Y*z,C+X*z)):(f.push(w-D*G,C-M*G,Xe,Oe),m+=Os(w,C,w-D*G,C-M*G,w-Y*G,C-X*G,f,!1)+4,f.push(w-Y*G,C-X*G,Xe,Oe));break}}else{switch(f.push(w-D*G,C-M*G,w+D*z,C+M*z),po){case yn.MITER:{xe?f.push(Xe,Oe,Xe,Oe):f.push(ut,Pe,ut,Pe),m+=2;break}case yn.ROUND:{xe?m+=Os(w,C,w+D*z,C+M*z,w+Y*z,C+X*z,f,!0)+2:m+=Os(w,C,w-D*G,C-M*G,w-Y*G,C-X*G,f,!1)+2;break}}f.push(w-Y*G,C-X*G,w+Y*z,C+X*z),m+=2}}S=n[(p-2)*2],E=n[(p-2)*2+1],w=n[(p-1)*2],C=n[(p-1)*2+1],D=-(E-C),M=S-w,K=Math.sqrt(D*D+M*M),D/=K,M/=K,D*=_,M*=_,f.push(w-D*G,C-M*G,w+D*z,C+M*z),c||(s.cap===Xs.ROUND?m+=Os(w-D*(G-z)*.5,C-M*(G-z)*.5,w-D*G,C-M*G,w+D*z,C+M*z,f,!1)+2:s.cap===Xs.SQUARE&&(m+=Rw(w,C,D,M,G,z,!1,f)));const ue=e.indices,se=Aa.epsilon*Aa.epsilon;for(let J=v;J<m+v-2;++J)S=f[J*2],E=f[J*2+1],w=f[(J+1)*2],C=f[(J+1)*2+1],I=f[(J+2)*2],L=f[(J+2)*2+1],!(Math.abs(S*(C-L)+w*(L-E)+I*(E-C))<se)&&ue.push(J,J+1,J+2)}function wL(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Ht.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,c=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),u.push(f,f+1),f++;s&&u.push(f,h)}function kw(t,e){t.lineStyle.native?wL(t,e):xL(t,e)}class Zv{static curveLength(e,r,n,i,s,o){const u=e-2*n+s,c=r-2*i+o,h=2*n-2*e,f=2*i-2*r,p=4*(u*u+c*c),m=4*(u*h+c*f),v=h*h+f*f,_=2*Math.sqrt(p+m+v),b=Math.sqrt(p),T=2*p*b,S=2*Math.sqrt(v),E=m/b;return(T*_+b*m*(_-S)+(4*v*p-m*m)*Math.log((2*b+E+_)/(E+S)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],u=s[s.length-1],c=Aa._segmentsCount(Zv.curveLength(o,u,e,r,n,i));let h=0,f=0;for(let p=1;p<=c;++p){const m=p/c;h=o+(e-o)*m,f=u+(r-u)*m,s.push(h+(e+(n-e)*m-h)*m,f+(r+(i-r)*m-f)*m)}}}const Um={[Ht.POLY]:YT,[Ht.CIRC]:wd,[Ht.ELIP]:wd,[Ht.RECT]:yL,[Ht.RREC]:vL},Mw=[],sh=[];class Ed{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Ed(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Do=new Me,KT=class extends oT{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new yd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),sh.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Mw.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Ed(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Ed(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Do):Do.copyFrom(t),n.shape.contains(Do.x,Do.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Do.x,Do.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let u=this.shapeIndex;u<e.length;u++){this.shapeIndex++;const c=e[u],h=c.fillStyle,f=c.lineStyle;Um[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(h.visible||f.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const v=m===0?h:f;if(!v.visible)continue;const _=v.texture.baseTexture,b=this.indices.length,T=this.points.length/2;_.wrapMode=Ei.REPEAT,m===0?this.processFill(c):this.processLine(c);const S=this.points.length/2-T;S!==0&&(r&&!this._compareStyles(n,v)&&(r.end(b,T),r=null),r||(r=Mw.pop()||new _L,r.begin(v,b,T),this.batches.push(r),n=v),this.addUvs(this.points,t,v.texture,T,S,v.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<KT.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Ee._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),sh.push(this.drawCalls[f]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=sh.pop();n||(n=new py,n.texArray=new gy),n.texArray.count=0,n.start=0,n.size=0,n.type=En.TRIANGLES;let i=0,s=null,o=0,u=!1,c=En.TRIANGLES,h=0;this.drawCalls.push(n);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,v=p.style,_=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,c=u?En.LINES:En.TRIANGLES,s=null,i=m,t++),s!==_&&(s=_,_._batchEnabled!==t&&(i===m&&(t++,i=0,n.size>0&&(n=sh.pop(),n||(n=new py,n.texArray=new gy),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),_.touched=1,_._batchEnabled=t,_._batchLocation=i,_.wrapMode=Ei.REPEAT,n.texArray.elements[n.texArray.count++]=_,i++)),n.size+=p.size,h+=p.size,o=_._batchLocation,this.addColors(e,v.color,v.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,o,p.attribSize,p.attribStart)}Ee._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let u=0;for(let c=0;c<t.length/2;c++)s[u++]=t[c*2],s[u++]=t[c*2+1],s[u++]=e[c*2],s[u++]=e[c*2+1],o[u++]=r[c],s[u++]=n[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?YT.triangulate(t,this):Um[t.type].triangulate(t,this)}processLine(t){kw(t,this);for(let e=0;e<t.holes.length;e++)kw(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Um[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=Ge.shared.setValue(e).toLittleEndianNumber(),o=Ge.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let u=0;u<n;u++)t[i+u]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const u=e.length,c=r.frame;for(;o<i;){let f=t[(n+o)*2],p=t[(n+o)*2+1];if(s){const m=s.a*f+s.c*p+s.tx;p=s.b*f+s.d*p+s.ty,f=m}o++,e.push(f/c.width,p/c.height)}const h=r.baseTexture;(c.width<h.width||c.height<h.height)&&this.adjustUvs(e,r,u,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,u=e.frame,c=u.width/i.width,h=u.height/i.height;let f=u.x/u.width,p=u.y/u.height,m=Math.floor(t[r]+s),v=Math.floor(t[r+1]+s);for(let _=r+2;_<o;_+=2)m=Math.min(m,Math.floor(t[_]+s)),v=Math.min(v,Math.floor(t[_+1]+s));f-=m,p-=v;for(let _=r;_<o;_+=2)t[_]=(t[_]+f)*c,t[_+1]=(t[_+1]+p)*h}};let QT=KT;QT.BATCHABLE_SIZE=100;class of{constructor(){this.color=16777215,this.alpha=1,this.texture=oe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new of;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=oe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Jv extends of{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Xs.BUTT,this.join=yn.MITER,this.miterLimit=10}clone(){const e=new Jv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const zm={},Rh=class extends ir{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new of,this._lineStyle=new Jv,this._matrix=null,this._holeMode=!1,this.state=ki.for2d(),this._geometry=t||new QT,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ge(16777215),this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Rh(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:oe.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Xs.BUTT,join:yn.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ma,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ma,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),Zv.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),qv.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=Iw.curveTo(t,e,r,n,i,s);if(o){const{cx:u,cy:c,radius:h,startAngle:f,endAngle:p,anticlockwise:m}=o;this.arc(u,c,h,f,p,m)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=gd:s&&n<=i&&(n+=gd),i-n===0)return this;const u=t+Math.cos(n)*r,c=e+Math.sin(n)*r,h=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const p=Math.abs(f[f.length-2]-u),m=Math.abs(f[f.length-1]-c);p<h&&m<h||f.push(u,c)}else this.moveTo(u,c),f=this.currentPath.points;return Iw.arc(u,c,t,e,r,n,i,s,f),this}beginFill(t=0,e){return this.beginTextureFill({texture:oe.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Ge.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:oe.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Ce(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new Yv(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Vv(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Xv(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new ma(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ht.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),h={vertexData:o,blendMode:e,indices:c,uvs:u,_batchRGB:Ge.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Ge.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,u=s.length;o<u;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let u=0;u<o;u++)t.texture.bind(r.elements[u],u);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!zm[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let u=0;u<n;u++)i[u]=u;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new tt,default:In.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;zm[r]=new Jn(o,s)}e=zm[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Rh._TEMP_POINT),this._geometry.containsPoint(Rh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Ge.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,u=e.ty,c=this._geometry.points,h=this.vertexData;let f=0;for(let p=0;p<c.length;p+=2){const m=c[p],v=c[p+1];h[f++]=r*m+i*v+o,h[f++]=s*v+n*m+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Js=Rh;Js.curves=Aa;Js._TEMP_POINT=new Me;class EL{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const jm=new Me,Nw=new ma,qT=class extends ir{constructor(t,e,r,n=En.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||ki.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ae.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===En.TRIANGLES&&e.length<qT.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,c=i.d,h=i.tx,f=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const v=r[m*2],_=r[m*2+1];p[m*2]=s*v+u*_+h,p[m*2+1]=o*v+c*_+f}if(this._roundPixels){const m=ae.RESOLUTION;for(let v=0;v<p.length;++v)p[v]=Math.round(p[v]*m)/m}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new EL(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,jm);const e=this.geometry.getBuffer("aVertexPosition").data,r=Nw.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const u=n[o]*2,c=n[o+1]*2,h=n[o+2]*2;if(r[0]=e[u],r[1]=e[u+1],r[2]=e[c],r[3]=e[c+1],r[4]=e[h],r[5]=e[h+1],Nw.contains(jm.x,jm.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ia=qT;Ia.BATCHABLE_SIZE=100;class af extends ms{constructor(e,r,n){super();const i=new mt(e),s=new mt(r,!0),o=new mt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ve.FLOAT).addAttribute("aTextureCoord",s,2,!1,ve.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var SL=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,bL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class yu extends Jn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:tt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Sn.from(bL,SL),n),this._colorDirty=!1,this.uvMatrix=new Kv(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Ge(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;Ge.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class TL extends af{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,c=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,m=f/this.segWidth|0;r.push(p*u,m*c),n.push(p/s,m/o)}const h=s*o;for(let f=0;f<h;f++){const p=f%s,m=f/s|0,v=m*this.segWidth+p,_=m*this.segWidth+p+1,b=(m+1)*this.segWidth+p,T=(m+1)*this.segWidth+p+1;i.push(v,_,b,_,T,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class CL extends af{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,c=e[0];const h=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const _=c.x-e[m].x,b=c.y-e[m].y,T=Math.sqrt(_*_+b*b);c=e[m],u+=T/h}else u=m/(f-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let p=0;for(let m=0;m<f-1;m++){const v=m*2;o[p++]=v,o[p++]=v+1,o[p++]=v+2,o[p++]=v+2,o[p++]=v+1,o[p++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,u=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<u;h++){const f=e[h],p=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[p]=f.x+i,o[p+1]=f.y+s,o[p+2]=f.x-i,o[p+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class PL extends Ia{constructor(e,r,n){const i=new TL(e.width,e.height,r,n),s=new yu(oe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const oh=10;class AL extends PL{constructor(e,r,n,i,s){var o,u,c,h;super(oe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??oh,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??oh,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??oh,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??oh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class IL extends Ia{constructor(e=oe.EMPTY,r,n,i,s){const o=new af(r,n,i);o.getBuffer("aVertexPosition").static=!1;const u=new yu(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class RL extends Ia{constructor(e,r,n=0){const i=new CL(e.height,r,n),s=new yu(e);n>0&&(e.baseTexture.wrapMode=Ei.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class kL extends ir{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_e.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Ge(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Dw{constructor(e,r,n){this.geometry=new ms,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ve.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new mt(oN(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new mt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new mt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var ML=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,NL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class ZT extends Zd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new tt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ve.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Jn.from(NL,ML,{}),this.state=ki.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=rT(e.blendMode,h),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Ge.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,_=0;v<o;v+=i,_+=1){let b=o-v;b>i&&(b=i),_>=u.length&&u.push(this._generateOneMoreBuffer(e));const T=u[_];T.uploadDynamic(r,v,b);const S=e._bufferUpdateIDs[_]||0;m=m||T._updateID<S,m&&(T._updateID=e._updateID,T.uploadStatic(r,v,b)),s.geometry.bind(T.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Dw(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Dw(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let u=0,c=0,h=0,f=0;for(let p=0;p<n;++p){const m=e[r+p],v=m._texture,_=m.scale.x,b=m.scale.y,T=v.trim,S=v.orig;T?(c=T.x-m.anchor.x*S.width,u=c+T.width,f=T.y-m.anchor.y*S.height,h=f+T.height):(u=S.width*(1-m.anchor.x),c=S.width*-m.anchor.x,h=S.height*(1-m.anchor.y),f=S.height*-m.anchor.y),i[o]=c*_,i[o+1]=f*b,i[o+s]=u*_,i[o+s+1]=f*b,i[o+s*2]=u*_,i[o+s*2+1]=h*b,i[o+s*3]=c*_,i[o+s*3+1]=h*b,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let u=0;u<n;u++){const c=e[r+u].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let u=0;u<n;u++){const c=e[r+u].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let u=0;u<n;++u){const c=e[r+u]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let u=0;u<n;++u){const c=e[r+u],h=Ge.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ZT.extension={name:"particle",type:le.RendererPlugin};ge.add(ZT);var lf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(lf||{});const ah={willReadFrequently:!0},pe=class{static get experimentalLetterSpacingSupported(){let t=pe._experimentalLetterSpacingSupported;if(t!==void 0){const e=ae.ADAPTER.getCanvasRenderingContext2D().prototype;t=pe._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,u,c){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=c}static measureText(t,e,r,n=pe._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=pe.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",ah);o.font=i;const c=(r?pe.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let f=0;for(let _=0;_<c.length;_++){const b=pe._measureText(c[_],e.letterSpacing,o);h[_]=b,f=Math.max(f,b)}let p=f+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);const m=e.lineHeight||s.fontSize+e.strokeThickness;let v=Math.max(m,s.fontSize+e.strokeThickness*2)+(c.length-1)*(m+e.leading);return e.dropShadow&&(v+=e.dropShadowDistance),new pe(t,e,p,v,c,h,m+e.leading,f,s)}static _measureText(t,e,r){let n=!1;pe.experimentalLetterSpacingSupported&&(pe.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(pe.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=pe._canvas){const n=r.getContext("2d",ah);let i=0,s="",o="";const u=Object.create(null),{letterSpacing:c,whiteSpace:h}=e,f=pe.collapseSpaces(h),p=pe.collapseNewlines(h);let m=!f;const v=e.wordWrapWidth+c,_=pe.tokenize(t);for(let b=0;b<_.length;b++){let T=_[b];if(pe.isNewline(T)){if(!p){o+=pe.addLine(s),m=!f,s="",i=0;continue}T=" "}if(f){const E=pe.isBreakingSpace(T),w=pe.isBreakingSpace(s[s.length-1]);if(E&&w)continue}const S=pe.getFromCache(T,c,u,n);if(S>v)if(s!==""&&(o+=pe.addLine(s),s="",i=0),pe.canBreakWords(T,e.breakWords)){const E=pe.wordWrapSplit(T);for(let w=0;w<E.length;w++){let C=E[w],I=C,L=1;for(;E[w+L];){const M=E[w+L];if(!pe.canBreakChars(I,M,T,w,e.breakWords))C+=M;else break;I=M,L++}w+=L-1;const D=pe.getFromCache(C,c,u,n);D+i>v&&(o+=pe.addLine(s),m=!1,s="",i=0),s+=C,i+=D}}else{s.length>0&&(o+=pe.addLine(s),s="",i=0);const E=b===_.length-1;o+=pe.addLine(T,!E),m=!1,s="",i=0}else S+i>v&&(m=!1,o+=pe.addLine(s),s="",i=0),(s.length>0||!pe.isBreakingSpace(T)||m)&&(s+=T,i+=S)}return o+=pe.addLine(s,!1),o}static addLine(t,e=!0){return t=pe.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=pe._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!pe.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:pe._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:pe._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(pe.isBreakingSpace(i,s)||pe.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return pe.graphemeSegmenter(t)}static measureFont(t){if(pe._fonts[t])return pe._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=pe._canvas,n=pe._context;n.font=t;const i=pe.METRICS_STRING+pe.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(pe.BASELINE_SYMBOL).width);const u=Math.ceil(pe.HEIGHT_MULTIPLIER*o);if(o=o*pe.BASELINE_MULTIPLIER|0,s===0||u===0)return pe._fonts[t]=e,e;r.width=s,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const c=n.getImageData(0,0,s,u).data,h=c.length,f=s*4;let p=0,m=0,v=!1;for(p=0;p<o;++p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){v=!0;break}if(!v)m+=f;else break}for(e.ascent=o-p,m=h-f,v=!1,p=u;p>o;--p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){v=!0;break}if(!v)m-=f;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,pe._fonts[t]=e,e}static clearMetrics(t=""){t?delete pe._fonts[t]:pe._fonts={}}static get _canvas(){if(!pe.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",ah);if(r!=null&&r.measureText)return pe.__canvas=e,e;t=ae.ADAPTER.createCanvas()}catch{t=ae.ADAPTER.createCanvas()}t.width=t.height=10,pe.__canvas=t}return pe.__canvas}static get _context(){return pe.__context||(pe.__context=pe._canvas.getContext("2d",ah)),pe.__context}};let Gt=pe;Gt.METRICS_STRING="|ÉqÅ";Gt.BASELINE_SYMBOL="M";Gt.BASELINE_MULTIPLIER=1.4;Gt.HEIGHT_MULTIPLIER=2;Gt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();Gt.experimentalLetterSpacing=!1;Gt._fonts={};Gt._newlines=[10,13];Gt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const DL=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Il=class{constructor(t){this.styleID=0,this.reset(),Hm(this,t,t)}clone(){const t={};return Hm(t,this,Il.defaultStyle),new Il(t)}reset(){Hm(this,Il.defaultStyle,Il.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Gm(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Gm(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){OL(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Gm(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!DL.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Ai=Il;Ai.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:lf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Gm(t){const e=Ge.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function OL(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Hm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const LL={texture:!0,children:!1,baseTexture:!0},Ay=class extends ni{constructor(t,e,r){let n=!1;r||(r=ae.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=oe.from(r);i.orig=new Ce,i.trim=new Ce,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Ay.defaultResolution??ae.RESOLUTION,this._autoResolution=Ay.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Gt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Ie("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Gt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=Gt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,u=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,f=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let p,m;const v=e.dropShadow?2:1;for(let _=0;_<v;++_){const b=e.dropShadow&&_===0,T=b?Math.ceil(Math.max(1,s)+e.padding*2):0,S=T*this._resolution;if(b){r.fillStyle="black",r.strokeStyle="black";const w=e.dropShadowColor,C=e.dropShadowBlur*this._resolution,I=e.dropShadowDistance*this._resolution;r.shadowColor=Ge.shared.setValue(w).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=C,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*I,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*I+S}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let E=(u-f.fontSize)/2;u-f.fontSize<0&&(E=0);for(let w=0;w<o.length;w++)p=e.strokeThickness/2,m=e.strokeThickness/2+w*u+f.ascent+E,e.align==="right"?p+=h-c[w]:e.align==="center"&&(p+=(h-c[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[w],p+e.padding,m+e.padding-T,!0),e.fill&&this.drawLetterSpacing(o[w],p+e.padding,m+e.padding-T)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(Gt.experimentalLetterSpacingSupported&&(Gt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let u=e;const c=Gt.graphemeSegmenter(t);let h=this.context.measureText(t).width,f=0;for(let p=0;p<c.length;++p){const m=c[p];n?this.context.strokeText(m,u,r):this.context.fillText(m,u,r);let v="";for(let _=p+1;_<c.length;++_)v+=c[_];f=this.context.measureText(v).width,u+=h-f+s,h=f}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=cN(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,u=this.canvas.width/this._resolution-s-o*2,c=this.canvas.height/this._resolution-s-o*2,h=n.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=h.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(h.unshift(n[0]),f.unshift(0),h.push(n[n.length-1]),f.push(1),t.fillGradientType===lf.LINEAR_VERTICAL){i=this.context.createLinearGradient(u/2,o,u/2,c+o);const p=r.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<e.length;m++){const v=r.lineHeight*(m-1)+p,_=r.lineHeight*m;let b=_;m>0&&v>_&&(b=(_+v)/2);const T=_+p,S=r.lineHeight*(m+1);let E=T;m+1<e.length&&S<T&&(E=(T+S)/2);const w=(E-b)/c;for(let C=0;C<h.length;C++){let I=0;typeof f[C]=="number"?I=f[C]:I=C/h.length;let L=Math.min(1,Math.max(0,b/c+I*w));L=Number(L.toFixed(5)),i.addColorStop(L,h[C])}}}else{i=this.context.createLinearGradient(o,c/2,u+o,c/2);const p=h.length+1;let m=1;for(let v=0;v<h.length;v++){let _;typeof f[v]=="number"?_=f[v]:_=m/p,i.addColorStop(_,h[v]),m++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},LL,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ts(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ts(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Ai?this._style=t:this._style=new Ai(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let uf=Ay;uf.defaultAutoResolution=!0;class BL{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function FL(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof oe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function UL(t,e){if(t.baseTexture instanceof Ee){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function zL(t,e){if(t._texture&&t._texture instanceof oe){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function jL(t,e){return e instanceof uf?(e.updateText(!0),!0):!1}function GL(t,e){if(e instanceof Ai){const r=e.toFontString();return Gt.measureFont(r),!0}return!1}function HL(t,e){if(t instanceof uf){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function $L(t,e){return t instanceof Ai?(e.includes(t)||e.push(t),!0):!1}const JT=class{constructor(t){this.limiter=new BL(JT.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(HL),this.registerFindHook($L),this.registerFindHook(FL),this.registerFindHook(UL),this.registerFindHook(zL),this.registerUploadHook(jL),this.registerUploadHook(GL)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,yt.system.addOnce(this.tick,this,ys.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)yt.system.addOnce(this.tick,this,ys.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ir)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&yt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Sd=JT;Sd.uploadsPerFrame=4;Object.defineProperties(ae,{UPLOADS_PER_FRAME:{get(){return Sd.uploadsPerFrame},set(t){Ie("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Sd.uploadsPerFrame=t}}});function eC(t,e){return e instanceof Ee?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function WL(t,e){if(!(e instanceof Js))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&eC(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function VL(t,e){return t instanceof Js?(e.push(t),!0):!1}class tC extends Sd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(VL),this.registerUploadHook(eC),this.registerUploadHook(WL)}}tC.extension={name:"prepare",type:le.RendererSystem};ge.add(tC);class vu extends ni{constructor(e,r=!0){super(e[0]instanceof oe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(yt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(yt.shared.add(this.update,this,ys.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(oe.from(e[n]));return new vu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(oe.from(e[n]));return new vu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof oe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(yt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(yt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const _l=new Me;class e0 extends ni{constructor(e,r=100,n=100){super(e),this.tileTransform=new qd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Kv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,_l);const r=this._width,n=this._height,i=-r*this.anchor._x;if(_l.x>=i&&_l.x<i+r){const s=-n*this.anchor._y;if(_l.y>=s&&_l.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof oe?e:oe.from(e,r);return new e0(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var XL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,YL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,KL=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Ow=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,QL=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const lh=new tt;class rC extends Zd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new vT,this.state=ki.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Jn.from(Ow,QL,r),this.shader=e.context.webGLVersion>1?Jn.from(YL,XL,r):Jn.from(Ow,KL,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const u=e._texture,c=u.baseTexture,h=c.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&u.frame.width===c.width&&u.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==Ei.CLAMP:c.wrapMode===Ei.CLAMP&&(c.wrapMode=Ei.REPEAT));const v=m?this.simpleShader:this.shader,_=u.width,b=u.height,T=e._width,S=e._height;lh.set(f.a*_/T,f.b*_/S,f.c*b/T,f.d*b/S,f.tx/T,f.ty/S),lh.invert(),m?lh.prepend(p.mapCoord):(v.uniforms.uMapCoord=p.mapCoord.toArray(!0),v.uniforms.uClampFrame=p.uClampFrame,v.uniforms.uClampOffset=p.uClampOffset),v.uniforms.uTransform=lh.toArray(!0),v.uniforms.uColor=Ge.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=rT(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}rC.extension={name:"tilingSprite",type:le.RendererPlugin};ge.add(rC);const Rl=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof oe?t:null,this.baseTexture=t instanceof Ee?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=ps(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Rl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Rl.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,u=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,h=new Ce(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?o=new Ce(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ce(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(u=new Ce(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new oe(this.baseTexture,o,h,u,i.rotated?2:0,i.anchor,i.borders),oe.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Rl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Rl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let bd=Rl;bd.BATCH_SIZE=1e3;const qL=["jpg","png","jpeg","avif","webp"];function nC(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=tr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const u=nC([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,u)})}return n}const ZL={extension:le.Asset,cache:{test:t=>t instanceof bd,getCacheableAssets:(t,e)=>nC(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&qL.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ae.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:le.LoadParser,priority:ii.Normal},async testParse(t,e){return tr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var h,f;let n=tr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=Cy(i,e.src);const o=(await r.load([i]))[i],u=new bd(o.baseTexture,t,e.src);await u.parse();const c=(h=t==null?void 0:t.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(c)){const p=[];for(const v of c){if(typeof v!="string")continue;let _=n+v;(f=e.data)!=null&&f.ignoreMultiPack||(_=Cy(_,e.src),p.push(r.load({src:_,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(p);u.linkedSheets=m,m.forEach(v=>{v.linkedSheets=[u].concat(u.linkedSheets.filter(_=>_!==v))})}return u},unload(t){t.destroy(!0)}}};ge.add(ZL);class Td{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class kh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in u){const f=u[h].split("="),p=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),_=isNaN(v)?m:v;c[p]=_}n[o].push(c)}const i=new Td;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Iy{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Td,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<u.length;h++)r.kerning.push({first:parseInt(u[h].getAttribute("first"),10),second:parseInt(u[h].getAttribute("second"),10),amount:parseInt(u[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class Ry{static test(e){return typeof e=="string"&&e.includes("<font>")?Iy.test(ae.ADAPTER.parseXML(e)):!1}static parse(e){return Iy.parse(ae.ADAPTER.parseXML(e))}}const $m=[kh,Iy,Ry];function JL(t){for(let e=0;e<$m.length;e++)if($m[e].test(t))return $m[e];return null}function eB(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-c-h*2,p=t.height/n-c-h*2,m=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const _=m.length+1;for(let b=1;b<_;++b)v.push(b/_)}if(m.unshift(o[0]),v.unshift(0),m.push(o[o.length-1]),v.push(1),r.fillGradientType===lf.LINEAR_VERTICAL){u=e.createLinearGradient(f/2,h,f/2,p+h);let _=0;const T=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let S=0;S<i.length;S++){const E=s.lineHeight*S;for(let w=0;w<m.length;w++){let C=0;typeof v[w]=="number"?C=v[w]:C=w/m.length;const I=E/p+C*T;let L=Math.max(_,I);L=Math.min(L,1),u.addColorStop(L,m[w]),_=L}}}else{u=e.createLinearGradient(h,p/2,f+h,p/2);const _=m.length+1;let b=1;for(let T=0;T<m.length;T++){let S;typeof v[T]=="number"?S=v[T]:S=b/_,u.addColorStop(S,m[T]),b++}}return u}function tB(t,e,r,n,i,s,o){const u=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=eB(t,e,o,s,[u],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=Ge.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,h,f+r.lineHeight-c.descent),o.fill&&e.fillText(u,h,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Mh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function iC(t){return Array.from?Array.from(t):t.split("")}function rB(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,c=o;u<=c;u++)e.push(String.fromCharCode(u))}else e.push(...iC(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const mn=class{constructor(t,e,r){var h;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,u=ps(s.file),c={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/u,this.chars={},this.pageTextures=c;for(let f=0;f<t.page.length;f++){const{id:p,file:m}=t.page[f];c[p]=e instanceof Array?e[f]:e[m],o!=null&&o.fieldType&&o.fieldType!=="none"&&(c[p].baseTexture.alphaMode=kn.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=ei.OFF)}for(let f=0;f<t.char.length;f++){const{id:p,page:m}=t.char[f];let{x:v,y:_,width:b,height:T,xoffset:S,yoffset:E,xadvance:w}=t.char[f];v/=u,_/=u,b/=u,T/=u,S/=u,E/=u,w/=u;const C=new Ce(v+c[m].frame.x/u,_+c[m].frame.y/u,b,T);this.chars[p]={xOffset:S,yOffset:E,xAdvance:w,kerning:{},texture:new oe(c[m].baseTexture,C),page:m}}for(let f=0;f<t.kerning.length;f++){let{first:p,second:m,amount:v}=t.kerning[f];p/=u,m/=u,v/=u,this.chars[m]&&(this.chars[m].kerning[p]=v)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof Td)n=t;else{const s=JL(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof oe&&(e=[e]);const i=new mn(n,e,r);return mn.available[i.font]=i,i}static uninstall(t){const e=mn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete mn.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:u,...c}=Object.assign({},mn.defaultOptions,r),h=rB(n),f=e instanceof Ai?e:new Ai(e),p=o,m=new Td;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let v=0,_=0,b,T,S,E=0;const w=[];for(let I=0;I<h.length;I++){b||(b=ae.ADAPTER.createCanvas(),b.width=o,b.height=u,T=b.getContext("2d"),S=new Ee(b,{resolution:s,...c}),w.push(new oe(S)),m.page.push({id:w.length-1,file:""}));const L=h[I],D=Gt.measureText(L,f,!1,b),M=D.width,Y=Math.ceil(D.height),X=Math.ceil((f.fontStyle==="italic"?2:1)*M);if(_>=u-Y*s){if(_===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--I,b=null,T=null,S=null,_=0,v=0,E=0;continue}if(E=Math.max(Y+D.fontProperties.descent,E),X*s+v>=p){if(v===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--I,_+=E*s,_=Math.ceil(_),v=0,E=0;continue}tB(b,T,D,v,_,s,f);const K=Mh(D.text);m.char.push({id:K,page:w.length-1,x:v/s,y:_/s,width:X,height:Y,xoffset:0,yoffset:0,xadvance:M-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),v+=(X+2*i)*s,v=Math.ceil(v)}for(let I=0,L=h.length;I<L;I++){const D=h[I];for(let M=0;M<L;M++){const Y=h[M],X=T.measureText(D).width,K=T.measureText(Y).width,G=T.measureText(D+Y).width-(X+K);G&&m.kerning.push({first:Mh(D),second:Mh(Y),amount:G})}}const C=new mn(m,w,!0);return mn.available[t]!==void 0&&mn.uninstall(t),mn.available[t]=C,C}};let vr=mn;vr.ALPHA=[["a","z"],["A","Z"]," "];vr.NUMERIC=[["0","9"]];vr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];vr.ASCII=[[" ","~"]];vr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:mn.ALPHANUMERIC};vr.available={};var nB=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,iB=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Lw=[],Bw=[],Fw=[],sC=class extends ir{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:u}=Object.assign({},sC.styleDefaults,e);if(!vr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Ge(n),this._font=void 0,this._fontName=o,this._fontSize=u,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new xi(()=>{this.dirty=!0},this,0,0),this._roundPixels=ae.ROUND_PIXELS,this.dirty=!0,this._resolution=ae.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var X;const t=vr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new Me,i=[],s=[],o=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=iC(u),h=this._maxWidth*t.size/e,f=t.distanceFieldType==="none"?Lw:Bw;let p=null,m=0,v=0,_=0,b=-1,T=0,S=0,E=0,w=0;for(let K=0;K<c.length;K++){const te=c[K],G=Mh(te);if(/(?:\s)/.test(te)&&(b=K,T=m,w++),te==="\r"||te===`
`){s.push(m),o.push(-1),v=Math.max(v,m),++_,++S,n.x=0,n.y+=t.lineHeight,p=null,w=0;continue}const z=t.chars[G];if(!z)continue;p&&z.kerning[p]&&(n.x+=z.kerning[p]);const ue=Fw.pop()||{texture:oe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Me};ue.texture=z.texture,ue.line=_,ue.charCode=G,ue.position.x=Math.round(n.x+z.xOffset+this._letterSpacing/2),ue.position.y=Math.round(n.y+z.yOffset),ue.prevSpaces=w,i.push(ue),m=ue.position.x+Math.max(z.xAdvance-z.xOffset,z.texture.orig.width),n.x+=z.xAdvance+this._letterSpacing,E=Math.max(E,z.yOffset+z.texture.height),p=G,b!==-1&&h>0&&n.x>h&&(++S,pa(i,1+b-S,1+K-b),K=b,b=-1,s.push(T),o.push(i.length>0?i[i.length-1].prevSpaces:0),v=Math.max(v,T),_++,n.x=0,n.y+=t.lineHeight,p=null,w=0)}const C=c[c.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(m=T),s.push(m),v=Math.max(v,m),o.push(-1));const I=[];for(let K=0;K<=_;K++){let te=0;this._align==="right"?te=v-s[K]:this._align==="center"?te=(v-s[K])/2:this._align==="justify"&&(te=o[K]<0?0:(v-s[K])/o[K]),I.push(te)}const L=i.length,D={},M=[],Y=this._activePagesMeshData;f.push(...Y);for(let K=0;K<L;K++){const te=i[K].texture,G=te.baseTexture.uid;if(!D[G]){let z=f.pop();if(!z){const se=new af;let J,k;t.distanceFieldType==="none"?(J=new yu(oe.EMPTY),k=_e.NORMAL):(J=new yu(oe.EMPTY,{program:Sn.from(iB,nB),uniforms:{uFWidth:0}}),k=_e.NORMAL_NPM);const H=new Ia(se,J);H.blendMode=k,z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;const{_textureCache:ue}=this;ue[G]=ue[G]||new oe(te.baseTexture),z.mesh.texture=ue[G],z.mesh.tint=this._tintColor.value,M.push(z),D[G]=z}D[G].total++}for(let K=0;K<Y.length;K++)M.includes(Y[K])||this.removeChild(Y[K].mesh);for(let K=0;K<M.length;K++)M[K].mesh.parent!==this&&this.addChild(M[K].mesh);this._activePagesMeshData=M;for(const K in D){const te=D[K],G=te.total;if(!(((X=te.indices)==null?void 0:X.length)>6*G)||te.vertices.length<Ia.BATCHABLE_SIZE*2)te.vertices=new Float32Array(4*2*G),te.uvs=new Float32Array(4*2*G),te.indices=new Uint16Array(6*G);else{const z=te.total,ue=te.vertices;for(let se=z*4*2;se<ue.length;se++)ue[se]=0}te.mesh.size=6*G}for(let K=0;K<L;K++){const te=i[K];let G=te.position.x+I[te.line]*(this._align==="justify"?te.prevSpaces:1);this._roundPixels&&(G=Math.round(G));const z=G*r,ue=te.position.y*r,se=te.texture,J=D[se.baseTexture.uid],k=se.frame,H=se._uvs,R=J.index++;J.indices[R*6+0]=0+R*4,J.indices[R*6+1]=1+R*4,J.indices[R*6+2]=2+R*4,J.indices[R*6+3]=0+R*4,J.indices[R*6+4]=2+R*4,J.indices[R*6+5]=3+R*4,J.vertices[R*8+0]=z,J.vertices[R*8+1]=ue,J.vertices[R*8+2]=z+k.width*r,J.vertices[R*8+3]=ue,J.vertices[R*8+4]=z+k.width*r,J.vertices[R*8+5]=ue+k.height*r,J.vertices[R*8+6]=z,J.vertices[R*8+7]=ue+k.height*r,J.uvs[R*8+0]=H.x0,J.uvs[R*8+1]=H.y0,J.uvs[R*8+2]=H.x1,J.uvs[R*8+3]=H.y1,J.uvs[R*8+4]=H.x2,J.uvs[R*8+5]=H.y2,J.uvs[R*8+6]=H.x3,J.uvs[R*8+7]=H.y3}this._textWidth=v*r,this._textHeight=(n.y+t.lineHeight)*r;for(const K in D){const te=D[K];if(this.anchor.x!==0||this.anchor.y!==0){let se=0;const J=this._textWidth*this.anchor.x,k=this._textHeight*this.anchor.y;for(let H=0;H<te.total;H++)te.vertices[se++]-=J,te.vertices[se++]-=k,te.vertices[se++]-=J,te.vertices[se++]-=k,te.vertices[se++]-=J,te.vertices[se++]-=k,te.vertices[se++]-=J,te.vertices[se++]-=k}this._maxLineHeight=E*r;const G=te.mesh.geometry.getBuffer("aVertexPosition"),z=te.mesh.geometry.getBuffer("aTextureCoord"),ue=te.mesh.geometry.getIndex();G.data=te.vertices,z.data=te.uvs,ue.data=te.indices,G.update(),z.update(),ue.update()}for(let K=0;K<i.length;K++)Fw.push(i[K]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=vr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:u}=this.worldTransform,c=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+u*u),f=(Math.abs(c)+Math.abs(h))/2,p=this.fontSize/n,m=t._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=f*e*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=vr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!vr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??vr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=vr.available[this._fontName].distanceFieldType==="none"?Lw:Bw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=oe.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let oC=sC;oC.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const sB=[".xml",".fnt"],oB={extension:{type:le.LoadParser,priority:ii.Normal},name:"loadBitmapFont",test(t){return sB.includes(tr.extname(t).toLowerCase())},async testParse(t){return kh.test(t)||Ry.test(t)},async parse(t,e,r){const n=kh.test(t)?kh.parse(t):Ry.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let p=tr.join(tr.dirname(i),f);p=Cy(p,i),o.push(p)}const u=await r.load(o),c=o.map(h=>u[h]);return vr.install(n,c,!0)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ge.add(oB);const zo=class extends Ai{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new zo(Object.keys(zo.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete zo.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=zo;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ae.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),u=new FileReader;u.onload=()=>i([o,u.result]),u.onerror=s,u.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:tr.basename(t,tr.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=iN(t)),typeof t=="number"?nN(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,zo.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=ae.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Vl=zo;Vl.availableFonts={};Vl.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const jo=class extends ni{constructor(t="",e={}){super(oe.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=oe.from(r,{scaleMode:ae.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Ce,n.trim=new Ce,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),u=document.createElementNS(i,"foreignObject"),c=document.createElementNS(s,"div"),h=document.createElementNS(s,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",o.appendChild(u),this.maxWidth=jo.defaultMaxWidth,this.maxHeight=jo.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=o,this._foreignObject=u,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=r,this._loadImage=new Image,this._autoResolution=jo.defaultAutoResolution,this._resolution=jo.defaultResolution??ae.RESOLUTION,this.text=t,this.style=e}measureText(t){var u,c;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(n)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const u=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},jo.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=ts(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=ts(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Vl?(this.ownsStyle=!1,this._style=t):t instanceof Ai?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Vl.from(t)):(this.ownsStyle=!0,this._style=new Vl(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let cf=jo;cf.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};cf.defaultMaxWidth=2024;cf.defaultMaxHeight=2024;cf.defaultAutoResolution=!0;const aC="/assets/images/my-profile-character-front.png",lC="/assets/images/my-profile-character-rear.png",uC="/assets/images/my-profile-character-side.png",cC="/assets/images/my-profile-clock.png",hC="/assets/images/my-profile-desk.png",dC="/assets/images/my-profile-door.png",fC="/assets/images/my-profile-drawer.png",pC="/assets/images/my-profile-laptop.png",mC="/assets/images/my-profile-office.png",gC="/assets/images/my-profile-papers.png",hf="/assets/images/my-profile-plant.png",yC="/assets/images/my-profile-record.png",df="/assets/images/my-profile-shelf.png",vC="/assets/images/my-profile-stand.png",_C="/assets/images/my-profile-vase.png",xC="/assets/images/my-profile-window.png",aB=[aC,lC,uC,cC,hC,dC,fC,pC,mC,gC,hf,yC,df,vC,_C,xC],ff=F.createContext({});function lB({children:t}){const[e,r]=F.useState(0),[n,i]=F.useState(!1),s=F.useCallback(async()=>{await Qe.load(aB,o=>{r(o)})},[]);return B.jsx(ff.Provider,{value:{preload:s,progress:e,loadComplete:n,setLoadComplete:i},children:t})}function uB({children:t}){return B.jsx(F.Suspense,{fallback:B.jsx(hk,{}),children:B.jsx(XR,{fallback:B.jsx(ck,{}),children:B.jsx(Tl,{children:B.jsx(lB,{children:B.jsx(ok,{children:t})})})})})}function wC(){return B.jsx("div",{className:"bg-pico-1 w-screen h-screen flex",children:B.jsx("div",{className:"layout w-[80vmin] h-[60vmin] m-auto relative",children:B.jsx(J2,{})})})}var pf={exports:{}};function Dr(t){return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}function EC(t){var e=function(r,n){if(Dr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Dr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Dr(e)==="symbol"?e:String(e)}function pt(t,e,r){return(e=EC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ii(t){return function(e){if(Array.isArray(e))return Wm(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Wm(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wm(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var cB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dB=function(t){return t==null};function kl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Ii(t);else{if(t===null||Dr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!dB(r)&&!isNaN(r)}).map(Number)}function Uw(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Vm(t){return t instanceof Me||t instanceof xi}var Cd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Xm(t,e,r){if(Vm(t[e])&&Vm(r))t[e].copyFrom(r);else if(Vm(t[e])){var n=kl(r);dt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Dr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Oo,SC=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},bC=function(t){return function(){return!t.apply(void 0,arguments)}},ky="children",fB=(pt(Oo={},ky,!0),pt(Oo,"parent",!0),pt(Oo,"worldAlpha",!0),pt(Oo,"worldTransform",!0),pt(Oo,"worldVisible",!0),Oo),My={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},ti=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var c,h;u==null||(c=u.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,c){if(r.hasOwnProperty(u))return dt(c.typeofs.some(function(h){return Dr(r[u])===h})||c.instanceofs.some(function(h){return r[u]instanceof h}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return dt(r.texture instanceof oe,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,oe]});dt(!!s,"".concat(t," could not get texture from props"));var o=oe.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},pB=bC(SC([].concat(Ii(Object.keys(fB)),Ii(Cd))));function ri(t,e,r){var n=!1;if(dt(rt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Dr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Cd.length;o++){var u=Cd[o];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var f=c[h];e[f]!==r[f]&&(n=!0,Xm(t,f,r[f]))}return n}for(var p=c.filter(pB),m=0;m<p.length;m++){var v=p[m],_=r[v];r[v]!==e[v]&&(n=!0),_!==void 0?Xm(t,v,_):v in My?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(_," for"),t),n=!0,Xm(t,v,My[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(_," for"),t)}return n}var mB=function(t,e){var r=e.text,n=e.style;return new oC(r,n)},gB=function(){return new ir};function Ss(t,e){if(t==null)return{};var r,n,i=function(o,u){if(o==null)return{};var c,h,f={},p=Object.keys(o);for(h=0;h<p.length;h++)c=p[h],u.indexOf(c)>=0||(f[c]=o[c]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var yB=["draw","geometry"],vB=function(t,e){var r=e.geometry;dt(!r||r instanceof Js,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Js(r.geometry):new Js;return n.applyProps=function(i,s,o){var u=o.draw;o.geometry;var c=ri(i,s,Ss(o,yB));return s.draw!==u&&typeof u=="function"&&(c=!0,u.call(n,n)),c},n},_B=["image","texture"],xB=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,f=ti("NineSlicePlane",t,e),p=new AL(f,n,s,u,h);return p.applyProps=function(m,v,_){var b=_.image,T=_.texture,S=ri(m,v,Ss(_,_B));return(b||T)&&(T!==v.texture&&(S=!0),m.texture=ti("NineSlicePlane",t,_)),S},p};function zw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zw(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wB=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,c=uh(uh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=uh(uh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new kL(n,c,s,u);return f.willUnmount=function(p,m,v){p.destroy(h)},f},EB=["image","texture"],SB=function(t,e){var r=new ni(ti("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,u=s.texture,c=ri(n,i,Ss(s,EB));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=ti("Sprite",t,s)),c},r},bB=["textures","isPlaying","initialFrame"],TB=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(h){return h.map(function(f){return dt(f instanceof oe||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},c=n?vu.fromImages(n):new vu(u(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,f,p){var m=p.textures,v=p.isPlaying,_=p.initialFrame,b=ri(h,f,Ss(p,bB));if(m&&f.textures!==m&&(h.textures=u(m),b=!0),v!==f.isPlaying||_!==f.initialFrame){var T=typeof _=="number"?_:c.currentFrame||0;c[v?"gotoAndPlay":"gotoAndStop"](T),b=!0}return b},c},CB=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new uf(n,s);return o?(u.updateText(),new ni(u.texture)):u},PB=["tileScale","tilePosition","image","texture"],AB=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=ti("TilingSprite",t,e),u=new e0(o,n,s);return u.applyProps=function(c,h,f){var p=f.tileScale,m=f.tilePosition,v=f.image,_=f.texture,b=ri(c,h,Ss(f,PB));if(m){var T,S=kl(m);(T=c.tilePosition).set.apply(T,Ii(S)),b=!Uw(kl(h.tilePosition),S)||b}if(p){var E,w=kl(p);(E=c.tileScale).set.apply(E,Ii(w)),b=!Uw(kl(h.tileScale),w)||b}return(v||_)&&(_!==h.texture&&(b=!0),c.texture=ti("Sprite",t,f)),b},u},IB=["image","texture"],RB=function(t,e){var r=ti("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?En.TRIANGLES:o,c=new IL(r,n,i,s,u);return c.applyProps=function(h,f,p){var m=p.image,v=p.texture,_=ri(h,f,Ss(p,IB));return(m||v)&&(v!==f.texture&&(_=!0),h.texture=ti("Mesh",t,p)),_},c},kB=["image","texture"],MB=function(t,e){var r=ti("SimpleRope",t,e),n=e.points,i=new RL(r,n);return i.applyProps=function(s,o,u){var c=u.image,h=u.texture,f=Ss(u,kB);dt(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=ri(s,o,f);return(c||h)&&(h!==o.texture&&(p=!0),s.texture=ti("SimpleRope",t,u)),p},i},NB=Object.freeze({__proto__:null,BitmapText:mB,Container:gB,Graphics:vB,NineSlicePlane:xB,ParticleContainer:wB,Sprite:SB,Text:CB,TilingSprite:AB,SimpleMesh:RB,SimpleRope:MB,AnimatedSprite:TB});function jw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jw(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var br={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},DB=Object.keys(br).reduce(function(t,e){return Gw(Gw({},t),{},pt({},e,NB[e]))},{}),TC={};function OB(t,e){return dt(!!t,"Expect type to be defined, got `%s`",t),dt(!br[t],"Component `%s` could not be created, already exists in default components.",t),TC[t]=e,t}var Hw,$w,Ww,Vw,Ny={},Dy={},LB={get exports(){return Dy},set exports(t){Dy=t}},Xw={};function BB(){return $w||($w=1,LB.exports=(Hw||(Hw=1,function(t){function e(k,H){var R=k.length;k.push(H);e:for(;0<R;){var q=R-1>>>1,ne=k[q];if(!(0<i(ne,H)))break e;k[q]=H,k[R]=ne,R=q}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var H=k[0],R=k.pop();if(R!==H){k[0]=R;e:for(var q=0,ne=k.length,Se=ne>>>1;q<Se;){var xe=2*(q+1)-1,Ue=k[xe],Te=xe+1,Fe=k[Te];if(0>i(Ue,R))Te<ne&&0>i(Fe,Ue)?(k[q]=Fe,k[Te]=R,q=Te):(k[q]=Ue,k[xe]=R,q=xe);else{if(!(Te<ne&&0>i(Fe,R)))break e;k[q]=Fe,k[Te]=R,q=Te}}}return H}function i(k,H){var R=k.sortIndex-H.sortIndex;return R!==0?R:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,p=null,m=3,v=!1,_=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function w(k){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else{if(!(H.startTime<=k))break;n(h),H.sortIndex=H.expirationTime,e(c,H)}H=r(h)}}function C(k){if(b=!1,w(k),!_)if(r(c)!==null)_=!0,se(I);else{var H=r(h);H!==null&&J(C,H.startTime-k)}}function I(k,H){_=!1,b&&(b=!1,S(Y),Y=-1),v=!0;var R=m;try{for(w(H),p=r(c);p!==null&&(!(p.expirationTime>H)||k&&!te());){var q=p.callback;if(typeof q=="function"){p.callback=null,m=p.priorityLevel;var ne=q(p.expirationTime<=H);H=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===r(c)&&n(c),w(H)}else n(c);p=r(c)}if(p!==null)var Se=!0;else{var xe=r(h);xe!==null&&J(C,xe.startTime-H),Se=!1}return Se}finally{p=null,m=R,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,D=!1,M=null,Y=-1,X=5,K=-1;function te(){return!(t.unstable_now()-K<X)}function G(){if(M!==null){var k=t.unstable_now();K=k;var H=!0;try{H=M(!0,k)}finally{H?L():(D=!1,M=null)}}else D=!1}if(typeof E=="function")L=function(){E(G)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ue=z.port2;z.port1.onmessage=G,L=function(){ue.postMessage(null)}}else L=function(){T(G,0)};function se(k){M=k,D||(D=!0,L())}function J(k,H){Y=T(function(){k(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,se(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var R=m;m=H;try{return k()}finally{m=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var R=m;m=k;try{return H()}finally{m=R}},t.unstable_scheduleCallback=function(k,H,R){var q=t.unstable_now();switch(R=typeof R=="object"&&R!==null&&typeof(R=R.delay)=="number"&&0<R?q+R:q,k){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return k={id:f++,callback:H,priorityLevel:k,startTime:R,expirationTime:ne=R+ne,sortIndex:-1},R>q?(k.sortIndex=R,e(h,k),r(c)===null&&k===r(h)&&(b?(S(Y),Y=-1):b=!0,J(C,R-q))):(k.sortIndex=ne,e(c,k),_||v||(_=!0,se(I))),k},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(k){var H=m;return function(){var R=m;m=H;try{return k.apply(this,arguments)}finally{m=R}}}}(Xw)),Xw)),Dy}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function FB(){return Vw||(Vw=1,Ww=function(t){var e={},r=we,n=BB(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C=Symbol.iterator;function I(a){return a===null||typeof a!="object"?null:typeof(a=C&&a[C]||a["@@iterator"])=="function"?a:null}function L(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case _:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case S:return(l=a.displayName||null)!==null?l:L(a.type)||"Memo";case E:l=a._payload,a=a._init;try{return L(a(l))}catch{}}return null}function D(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(l);case 8:return l===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function M(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Y(a){if(M(a)!==a)throw Error(s(188))}function X(a){var l=a.alternate;if(!l){if((l=M(a))===null)throw Error(s(188));return l!==a?null:a}for(var d=a,g=l;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if((g=y.return)!==null){d=g;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return Y(y),a;if(x===g)return Y(y),l;x=x.sibling}throw Error(s(188))}if(d.return!==g.return)d=y,g=x;else{for(var P=!1,A=y.child;A;){if(A===d){P=!0,d=y,g=x;break}if(A===g){P=!0,g=y,d=x;break}A=A.sibling}if(!P){for(A=x.child;A;){if(A===d){P=!0,d=x,g=y;break}if(A===g){P=!0,g=x,d=y;break}A=A.sibling}if(!P)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:l}function K(a){return(a=X(a))!==null?te(a):null}function te(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=te(a);if(l!==null)return l;a=a.sibling}return null}function G(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=G(a);if(l!==null)return l}a=a.sibling}return null}var z,ue=Array.isArray,se=t.getPublicInstance,J=t.getRootHostContext,k=t.getChildHostContext,H=t.prepareForCommit,R=t.resetAfterCommit,q=t.createInstance,ne=t.appendInitialChild,Se=t.finalizeInitialChildren,xe=t.prepareUpdate,Ue=t.shouldSetTextContent,Te=t.createTextInstance,Fe=t.scheduleTimeout,Pt=t.cancelTimeout,Bt=t.noTimeout,ut=t.isPrimaryRenderer,Pe=t.supportsMutation,Xe=t.supportsPersistence,Oe=t.supportsHydration,Fr=t.getInstanceFromNode,Ur=t.preparePortalMount,bs=t.getCurrentEventPriority,gf=t.detachDeletedInstance,po=t.supportsMicrotasks,QC=t.scheduleMicrotask,Fa=t.supportsTestSelectors,qC=t.findFiberRoot,ZC=t.getBoundingRect,JC=t.getTextContent,Ua=t.isHiddenSubtree,eP=t.matchAccessibilityRole,tP=t.setFocusIfFocusable,rP=t.setupIntersectionObserver,nP=t.appendChild,iP=t.appendChildToContainer,sP=t.commitTextUpdate,oP=t.commitMount,aP=t.commitUpdate,lP=t.insertBefore,uP=t.insertInContainerBefore,cP=t.removeChild,hP=t.removeChildFromContainer,n0=t.resetTextContent,dP=t.hideInstance,fP=t.hideTextInstance,pP=t.unhideInstance,mP=t.unhideTextInstance,gP=t.clearContainer,yP=t.cloneInstance,i0=t.createContainerChildSet,s0=t.appendChildToContainerChildSet,vP=t.finalizeContainerChildren,yf=t.replaceContainerChildren,o0=t.cloneHiddenInstance,a0=t.cloneHiddenTextInstance,_P=t.canHydrateInstance,xP=t.canHydrateTextInstance,wP=t.canHydrateSuspenseInstance,l0=t.isSuspenseInstancePending,vf=t.isSuspenseInstanceFallback,EP=t.getSuspenseInstanceFallbackErrorDetails,SP=t.registerSuspenseInstanceRetry,Mu=t.getNextHydratableSibling,bP=t.getFirstHydratableChild,TP=t.getFirstHydratableChildWithinContainer,CP=t.getFirstHydratableChildWithinSuspenseInstance,PP=t.hydrateInstance,AP=t.hydrateTextInstance,IP=t.hydrateSuspenseInstance,RP=t.getNextHydratableInstanceAfterSuspenseInstance,kP=t.commitHydratedContainer,MP=t.commitHydratedSuspenseInstance,NP=t.clearSuspenseBoundary,DP=t.clearSuspenseBoundaryFromContainer,OP=t.shouldDeleteUnhydratedTailInstances,LP=t.didNotMatchHydratedContainerTextInstance,BP=t.didNotMatchHydratedTextInstance;function za(a){if(z===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+a}var _f=!1;function xf(a,l){if(!a||_f)return"";_f=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(j){var g=j}Reflect.construct(a,[],l)}else{try{l.call()}catch(j){g=j}a.call(l.prototype)}else{try{throw Error()}catch(j){g=j}a()}}catch(j){if(j&&g&&typeof j.stack=="string"){for(var y=j.stack.split(`
`),x=g.stack.split(`
`),P=y.length-1,A=x.length-1;1<=P&&0<=A&&y[P]!==x[A];)A--;for(;1<=P&&0<=A;P--,A--)if(y[P]!==x[A]){if(P!==1||A!==1)do if(P--,0>--A||y[P]!==x[A]){var O=`
`+y[P].replace(" at new "," at ");return a.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",a.displayName)),O}while(1<=P&&0<=A);break}}}finally{_f=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?za(a):""}var FP=Object.prototype.hasOwnProperty,wf=[],mo=-1;function Mi(a){return{current:a}}function qe(a){0>mo||(a.current=wf[mo],wf[mo]=null,mo--)}function We(a,l){mo++,wf[mo]=a.current,a.current=l}var Ni={},Xt=Mi(Ni),fr=Mi(!1),Ts=Ni;function go(a,l){var d=a.type.contextTypes;if(!d)return Ni;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y,x={};for(y in d)x[y]=l[y];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=x),x}function Tr(a){return(a=a.childContextTypes)!=null}function Ef(){qe(fr),qe(Xt)}function u0(a,l,d){if(Xt.current!==Ni)throw Error(s(168));We(Xt,l),We(fr,d)}function c0(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;for(var y in g=g.getChildContext())if(!(y in l))throw Error(s(108,D(a)||"Unknown",y));return i({},d,g)}function Nu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ni,Ts=Xt.current,We(Xt,a),We(fr,fr.current),!0}function h0(a,l,d){var g=a.stateNode;if(!g)throw Error(s(169));d?(a=c0(a,l,Ts),g.__reactInternalMemoizedMergedChildContext=a,qe(fr),qe(Xt),We(Xt,a)):qe(fr),We(fr,d)}var sn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(UP(a)/zP|0)|0},UP=Math.log,zP=Math.LN2,Sf=64,bf=4194304;function ja(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Du(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,x=a.pingedLanes,P=268435455&d;if(P!==0){var A=P&~y;A!==0?g=ja(A):(x&=P)!==0&&(g=ja(x))}else(P=d&~y)!==0?g=ja(P):x!==0&&(g=ja(x));if(g===0)return 0;if(l!==0&&l!==g&&!(l&y)&&((y=g&-g)>=(x=l&-l)||y===16&&4194240&x))return l;if(4&g&&(g|=16&d),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=g;0<l;)y=1<<(d=31-sn(l)),g|=a[d],l&=~y;return g}function jP(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function Tf(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function d0(){var a=Sf;return!(4194240&(Sf<<=1))&&(Sf=64),a}function Cf(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Ga(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-sn(l)]=d}function Pf(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-sn(d),y=1<<g;y&l|a[g]&l&&(a[g]|=l),d&=~y}}var Le=0;function f0(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Af=n.unstable_scheduleCallback,p0=n.unstable_cancelCallback,GP=n.unstable_shouldYield,HP=n.unstable_requestPaint,At=n.unstable_now,If=n.unstable_ImmediatePriority,$P=n.unstable_UserBlockingPriority,m0=n.unstable_NormalPriority,WP=n.unstable_IdlePriority,Ou=null,Mn=null,on=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},si=null,Lu=!1,Rf=!1;function g0(a){si===null?si=[a]:si.push(a)}function Nn(){if(!Rf&&si!==null){Rf=!0;var a=0,l=Le;try{var d=si;for(Le=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}si=null,Lu=!1}catch(y){throw si!==null&&(si=si.slice(a+1)),Af(If,Nn),y}finally{Le=l,Rf=!1}}return null}var yo=[],vo=0,Bu=null,Fu=0,zr=[],jr=0,Cs=null,Dn=1,oi="";function Ps(a,l){yo[vo++]=Fu,yo[vo++]=Bu,Bu=a,Fu=l}function y0(a,l,d){zr[jr++]=Dn,zr[jr++]=oi,zr[jr++]=Cs,Cs=a;var g=Dn;a=oi;var y=32-sn(g)-1;g&=~(1<<y),d+=1;var x=32-sn(l)+y;if(30<x){var P=y-y%5;x=(g&(1<<P)-1).toString(32),g>>=P,y-=P,Dn=1<<32-sn(l)+y|d<<y|g,oi=x+a}else Dn=1<<x|d<<y|g,oi=a}function kf(a){a.return!==null&&(Ps(a,1),y0(a,1,0))}function Mf(a){for(;a===Bu;)Bu=yo[--vo],yo[vo]=null,Fu=yo[--vo],yo[vo]=null;for(;a===Cs;)Cs=zr[--jr],zr[jr]=null,oi=zr[--jr],zr[jr]=null,Dn=zr[--jr],zr[jr]=null}var Cr=null,Gr=null,Ze=!1,Ha=!1,an=null;function v0(a,l){var d=Xr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,(l=a.deletions)===null?(a.deletions=[d],a.flags|=16):l.push(d)}function _0(a,l){switch(a.tag){case 5:return(l=_P(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,Cr=a,Gr=bP(l),!0);case 6:return(l=xP(l,a.pendingProps))!==null&&(a.stateNode=l,Cr=a,Gr=null,!0);case 13:if((l=wP(l))!==null){var d=Cs!==null?{id:Dn,overflow:oi}:null;return a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},(d=Xr(18,null,null,0)).stateNode=l,d.return=a,a.child=d,Cr=a,Gr=null,!0}return!1;default:return!1}}function Nf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function Df(a){if(Ze){var l=Gr;if(l){var d=l;if(!_0(a,l)){if(Nf(a))throw Error(s(418));l=Mu(d);var g=Cr;l&&_0(a,l)?v0(g,d):(a.flags=-4097&a.flags|2,Ze=!1,Cr=a)}}else{if(Nf(a))throw Error(s(418));a.flags=-4097&a.flags|2,Ze=!1,Cr=a}}}function x0(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Cr=a}function Uu(a){if(!Oe||a!==Cr)return!1;if(!Ze)return x0(a),Ze=!0,!1;if(a.tag!==3&&(a.tag!==5||OP(a.type)&&!Ue(a.type,a.memoizedProps))){var l=Gr;if(l){if(Nf(a))throw w0(),Error(s(418));for(;l;)v0(a,l),l=Mu(l)}}if(x0(a),a.tag===13){if(!Oe)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Gr=RP(a)}else Gr=Cr?Mu(a.stateNode):null;return!0}function w0(){for(var a=Gr;a;)a=Mu(a)}function _o(){Oe&&(Gr=Cr=null,Ha=Ze=!1)}function Of(a){an===null?an=[a]:an.push(a)}var VP=o.ReactCurrentBatchConfig;function zu(a,l){if(on(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!FP.call(l,y)||!on(a[y],l[y]))return!1}return!0}function XP(a){switch(a.tag){case 5:return za(a.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return a=xf(a.type,!1);case 11:return a=xf(a.type.render,!1);case 1:return a=xf(a.type,!0);default:return""}}function ln(a,l){if(a&&a.defaultProps){for(var d in l=i({},l),a=a.defaultProps)l[d]===void 0&&(l[d]=a[d]);return l}return l}var ju=Mi(null),Gu=null,xo=null,Lf=null;function Bf(){Lf=xo=Gu=null}function E0(a,l,d){ut?(We(ju,l._currentValue),l._currentValue=d):(We(ju,l._currentValue2),l._currentValue2=d)}function Ff(a){var l=ju.current;qe(ju),ut?a._currentValue=l:a._currentValue2=l}function Uf(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function wo(a,l){Gu=a,Lf=xo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(pr=!0),a.firstContext=null)}function Hr(a){var l=ut?a._currentValue:a._currentValue2;if(Lf!==a)if(a={context:a,memoizedValue:l,next:null},xo===null){if(Gu===null)throw Error(s(308));xo=a,Gu.dependencies={lanes:0,firstContext:a}}else xo=xo.next=a;return l}var As=null;function zf(a){As===null?As=[a]:As.push(a)}function S0(a,l,d,g){var y=l.interleaved;return y===null?(d.next=d,zf(l)):(d.next=y.next,y.next=d),l.interleaved=d,On(a,g)}function On(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,(d=a.alternate)!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Di=!1;function jf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ai(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Oi(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&ke)!=0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,On(a,d)}return(y=g.interleaved)===null?(l.next=l,zf(g)):(l.next=y.next,y.next=l),g.interleaved=l,On(a,d)}function Hu(a,l,d){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&d)!=0)){var g=l.lanes;d|=g&=a.pendingLanes,l.lanes=d,Pf(a,d)}}function T0(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&d===(g=g.updateQueue)){var y=null,x=null;if((d=d.firstBaseUpdate)!==null){do{var P={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?y=x=P:x=x.next=P,d=d.next}while(d!==null);x===null?y=x=l:x=x.next=l}else y=x=l;return d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:g.shared,effects:g.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function $u(a,l,d,g){var y=a.updateQueue;Di=!1;var x=y.firstBaseUpdate,P=y.lastBaseUpdate,A=y.shared.pending;if(A!==null){y.shared.pending=null;var O=A,j=O.next;O.next=null,P===null?x=j:P.next=j,P=O;var W=a.alternate;W!==null&&(A=(W=W.updateQueue).lastBaseUpdate)!==P&&(A===null?W.firstBaseUpdate=j:A.next=j,W.lastBaseUpdate=O)}if(x!==null){var ie=y.baseState;for(P=0,W=j=O=null,A=x;;){var $=A.lane,ee=A.eventTime;if((g&$)===$){W!==null&&(W=W.next={eventTime:ee,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=a,be=A;switch($=l,ee=d,be.tag){case 1:if(typeof(de=be.payload)=="function"){ie=de.call(ee,ie,$);break e}ie=de;break e;case 3:de.flags=-65537&de.flags|128;case 0:if(($=typeof(de=be.payload)=="function"?de.call(ee,ie,$):de)==null)break e;ie=i({},ie,$);break e;case 2:Di=!0}}A.callback!==null&&A.lane!==0&&(a.flags|=64,($=y.effects)===null?y.effects=[A]:$.push(A))}else ee={eventTime:ee,lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(j=W=ee,O=ie):W=W.next=ee,P|=$;if((A=A.next)===null){if((A=y.shared.pending)===null)break;A=($=A).next,$.next=null,y.lastBaseUpdate=$,y.shared.pending=null}}if(W===null&&(O=ie),y.baseState=O,y.firstBaseUpdate=j,y.lastBaseUpdate=W,(l=y.shared.interleaved)!==null){y=l;do P|=y.lane,y=y.next;while(y!==l)}else x===null&&(y.shared.lanes=0);Rs|=P,a.lanes=P,a.memoizedState=ie}}function C0(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(s(191,y));y.call(g)}}}var P0=new r.Component().refs;function Gf(a,l,d,g){d=(d=d(g,l=a.memoizedState))==null?l:i({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Wu={isMounted:function(a){return!!(a=a._reactInternals)&&M(a)===a},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Qt(),y=Ui(a),x=ai(g,y);x.payload=l,d!=null&&(x.callback=d),(l=Oi(a,x,y))!==null&&(Vr(l,a,y,g),Hu(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Qt(),y=Ui(a),x=ai(g,y);x.tag=1,x.payload=l,d!=null&&(x.callback=d),(l=Oi(a,x,y))!==null&&(Vr(l,a,y,g),Hu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Qt(),g=Ui(a),y=ai(d,g);y.tag=2,l!=null&&(y.callback=l),(l=Oi(a,y,g))!==null&&(Vr(l,a,g,d),Hu(l,a,g))}};function A0(a,l,d,g,y,x,P){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,x,P):!l.prototype||!l.prototype.isPureReactComponent||!zu(d,g)||!zu(y,x)}function I0(a,l,d){var g=!1,y=Ni,x=l.contextType;return typeof x=="object"&&x!==null?x=Hr(x):(y=Tr(l)?Ts:Xt.current,x=(g=(g=l.contextTypes)!=null)?go(a,y):Ni),l=new l(d,x),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wu,a.stateNode=l,l._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=x),l}function R0(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Wu.enqueueReplaceState(l,l.state,null)}function Hf(a,l,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=P0,jf(a);var x=l.contextType;typeof x=="object"&&x!==null?y.context=Hr(x):(x=Tr(l)?Ts:Xt.current,y.context=go(a,x)),y.state=a.memoizedState,typeof(x=l.getDerivedStateFromProps)=="function"&&(Gf(a,l,x,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Wu.enqueueReplaceState(y,y.state,null),$u(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function $a(a,l,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,a));var y=g,x=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(P){var A=y.refs;A===P0&&(A=y.refs={}),P===null?delete A[x]:A[x]=P},l._stringRef=x,l)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Vu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function k0(a){return(0,a._init)(a._payload)}function M0(a){function l(V,N){if(a){var U=V.deletions;U===null?(V.deletions=[N],V.flags|=16):U.push(N)}}function d(V,N){if(!a)return null;for(;N!==null;)l(V,N),N=N.sibling;return null}function g(V,N){for(V=new Map;N!==null;)N.key!==null?V.set(N.key,N):V.set(N.index,N),N=N.sibling;return V}function y(V,N){return(V=ji(V,N)).index=0,V.sibling=null,V}function x(V,N,U){return V.index=U,a?(U=V.alternate)!==null?(U=U.index)<N?(V.flags|=2,N):U:(V.flags|=2,N):(V.flags|=1048576,N)}function P(V){return a&&V.alternate===null&&(V.flags|=2),V}function A(V,N,U,Q){return N===null||N.tag!==6?((N=Ip(U,V.mode,Q)).return=V,N):((N=y(N,U)).return=V,N)}function O(V,N,U,Q){var ye=U.type;return ye===h?W(V,N,U.props.children,Q,U.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===E&&k0(ye)===N.type)?((Q=y(N,U.props)).ref=$a(V,N,U),Q.return=V,Q):((Q=vc(U.type,U.key,U.props,null,V.mode,Q)).ref=$a(V,N,U),Q.return=V,Q)}function j(V,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?((N=Rp(U,V.mode,Q)).return=V,N):((N=y(N,U.children||[])).return=V,N)}function W(V,N,U,Q,ye){return N===null||N.tag!==7?((N=Ns(U,V.mode,Q,ye)).return=V,N):((N=y(N,U)).return=V,N)}function ie(V,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return(N=Ip(""+N,V.mode,U)).return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case u:return(U=vc(N.type,N.key,N.props,null,V.mode,U)).ref=$a(V,null,N),U.return=V,U;case c:return(N=Rp(N,V.mode,U)).return=V,N;case E:return ie(V,(0,N._init)(N._payload),U)}if(ue(N)||I(N))return(N=Ns(N,V.mode,U,null)).return=V,N;Vu(V,N)}return null}function $(V,N,U,Q){var ye=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ye!==null?null:A(V,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case u:return U.key===ye?O(V,N,U,Q):null;case c:return U.key===ye?j(V,N,U,Q):null;case E:return $(V,N,(ye=U._init)(U._payload),Q)}if(ue(U)||I(U))return ye!==null?null:W(V,N,U,Q,null);Vu(V,U)}return null}function ee(V,N,U,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return A(N,V=V.get(U)||null,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return O(N,V=V.get(Q.key===null?U:Q.key)||null,Q,ye);case c:return j(N,V=V.get(Q.key===null?U:Q.key)||null,Q,ye);case E:return ee(V,N,U,(0,Q._init)(Q._payload),ye)}if(ue(Q)||I(Q))return W(N,V=V.get(U)||null,Q,ye,null);Vu(N,Q)}return null}function de(V,N,U,Q){for(var ye=null,ze=null,fe=N,Be=N=0,Ut=null;fe!==null&&Be<U.length;Be++){fe.index>Be?(Ut=fe,fe=null):Ut=fe.sibling;var je=$(V,fe,U[Be],Q);if(je===null){fe===null&&(fe=Ut);break}a&&fe&&je.alternate===null&&l(V,fe),N=x(je,N,Be),ze===null?ye=je:ze.sibling=je,ze=je,fe=Ut}if(Be===U.length)return d(V,fe),Ze&&Ps(V,Be),ye;if(fe===null){for(;Be<U.length;Be++)(fe=ie(V,U[Be],Q))!==null&&(N=x(fe,N,Be),ze===null?ye=fe:ze.sibling=fe,ze=fe);return Ze&&Ps(V,Be),ye}for(fe=g(V,fe);Be<U.length;Be++)(Ut=ee(fe,V,Be,U[Be],Q))!==null&&(a&&Ut.alternate!==null&&fe.delete(Ut.key===null?Be:Ut.key),N=x(Ut,N,Be),ze===null?ye=Ut:ze.sibling=Ut,ze=Ut);return a&&fe.forEach(function(Gi){return l(V,Gi)}),Ze&&Ps(V,Be),ye}function be(V,N,U,Q){var ye=I(U);if(typeof ye!="function")throw Error(s(150));if((U=ye.call(U))==null)throw Error(s(151));for(var ze=ye=null,fe=N,Be=N=0,Ut=null,je=U.next();fe!==null&&!je.done;Be++,je=U.next()){fe.index>Be?(Ut=fe,fe=null):Ut=fe.sibling;var Gi=$(V,fe,je.value,Q);if(Gi===null){fe===null&&(fe=Ut);break}a&&fe&&Gi.alternate===null&&l(V,fe),N=x(Gi,N,Be),ze===null?ye=Gi:ze.sibling=Gi,ze=Gi,fe=Ut}if(je.done)return d(V,fe),Ze&&Ps(V,Be),ye;if(fe===null){for(;!je.done;Be++,je=U.next())(je=ie(V,je.value,Q))!==null&&(N=x(je,N,Be),ze===null?ye=je:ze.sibling=je,ze=je);return Ze&&Ps(V,Be),ye}for(fe=g(V,fe);!je.done;Be++,je=U.next())(je=ee(fe,V,Be,je.value,Q))!==null&&(a&&je.alternate!==null&&fe.delete(je.key===null?Be:je.key),N=x(je,N,Be),ze===null?ye=je:ze.sibling=je,ze=je);return a&&fe.forEach(function(yA){return l(V,yA)}),Ze&&Ps(V,Be),ye}return function V(N,U,Q,ye){if(typeof Q=="object"&&Q!==null&&Q.type===h&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var ze=Q.key,fe=U;fe!==null;){if(fe.key===ze){if((ze=Q.type)===h){if(fe.tag===7){d(N,fe.sibling),(U=y(fe,Q.props.children)).return=N,N=U;break e}}else if(fe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===E&&k0(ze)===fe.type){d(N,fe.sibling),(U=y(fe,Q.props)).ref=$a(N,fe,Q),U.return=N,N=U;break e}d(N,fe);break}l(N,fe),fe=fe.sibling}Q.type===h?((U=Ns(Q.props.children,N.mode,ye,Q.key)).return=N,N=U):((ye=vc(Q.type,Q.key,Q.props,null,N.mode,ye)).ref=$a(N,U,Q),ye.return=N,N=ye)}return P(N);case c:e:{for(fe=Q.key;U!==null;){if(U.key===fe){if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){d(N,U.sibling),(U=y(U,Q.children||[])).return=N,N=U;break e}d(N,U);break}l(N,U),U=U.sibling}(U=Rp(Q,N.mode,ye)).return=N,N=U}return P(N);case E:return V(N,U,(fe=Q._init)(Q._payload),ye)}if(ue(Q))return de(N,U,Q,ye);if(I(Q))return be(N,U,Q,ye);Vu(N,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,U!==null&&U.tag===6?(d(N,U.sibling),(U=y(U,Q)).return=N,N=U):(d(N,U),(U=Ip(Q,N.mode,ye)).return=N,N=U),P(N)):d(N,U)}}var Eo=M0(!0),N0=M0(!1),Wa={},$r=Mi(Wa),Va=Mi(Wa),So=Mi(Wa);function Ln(a){if(a===Wa)throw Error(s(174));return a}function $f(a,l){We(So,l),We(Va,a),We($r,Wa),a=J(l),qe($r),We($r,a)}function bo(){qe($r),qe(Va),qe(So)}function D0(a){var l=Ln(So.current),d=Ln($r.current);d!==(l=k(d,a.type,l))&&(We(Va,a),We($r,l))}function Wf(a){Va.current===a&&(qe($r),qe(Va))}var ct=Mi(0);function Xu(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&((d=d.dehydrated)===null||l0(d)||vf(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vf=[];function Xf(){for(var a=0;a<Vf.length;a++){var l=Vf[a];ut?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}Vf.length=0}var Yu=o.ReactCurrentDispatcher,Yf=o.ReactCurrentBatchConfig,Is=0,nt=null,It=null,Rt=null,Ku=!1,Xa=!1,Ya=0,YP=0;function Yt(){throw Error(s(321))}function Kf(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!on(a[d],l[d]))return!1;return!0}function Qf(a,l,d,g,y,x){if(Is=x,nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Yu.current=a===null||a.memoizedState===null?ZP:JP,a=d(g,y),Xa){x=0;do{if(Xa=!1,Ya=0,25<=x)throw Error(s(301));x+=1,Rt=It=null,l.updateQueue=null,Yu.current=eA,a=d(g,y)}while(Xa)}if(Yu.current=Zu,l=It!==null&&It.next!==null,Is=0,Rt=It=nt=null,Ku=!1,l)throw Error(s(300));return a}function qf(){var a=Ya!==0;return Ya=0,a}function Bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?nt.memoizedState=Rt=a:Rt=Rt.next=a,Rt}function Wr(){if(It===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var l=Rt===null?nt.memoizedState:Rt.next;if(l!==null)Rt=l,It=a;else{if(a===null)throw Error(s(310));a={memoizedState:(It=a).memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Rt===null?nt.memoizedState=Rt=a:Rt=Rt.next=a}return Rt}function Ka(a,l){return typeof l=="function"?l(a):l}function Zf(a){var l=Wr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=It,y=g.baseQueue,x=d.pending;if(x!==null){if(y!==null){var P=y.next;y.next=x.next,x.next=P}g.baseQueue=y=x,d.pending=null}if(y!==null){x=y.next,g=g.baseState;var A=P=null,O=null,j=x;do{var W=j.lane;if((Is&W)===W)O!==null&&(O=O.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),g=j.hasEagerState?j.eagerState:a(g,j.action);else{var ie={lane:W,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};O===null?(A=O=ie,P=g):O=O.next=ie,nt.lanes|=W,Rs|=W}j=j.next}while(j!==null&&j!==x);O===null?P=g:O.next=A,on(g,l.memoizedState)||(pr=!0),l.memoizedState=g,l.baseState=P,l.baseQueue=O,d.lastRenderedState=g}if((a=d.interleaved)!==null){y=a;do x=y.lane,nt.lanes|=x,Rs|=x,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Jf(a){var l=Wr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,x=l.memoizedState;if(y!==null){d.pending=null;var P=y=y.next;do x=a(x,P.action),P=P.next;while(P!==y);on(x,l.memoizedState)||(pr=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,g]}function O0(){}function L0(a,l){var d=nt,g=Wr(),y=l(),x=!on(g.memoizedState,y);if(x&&(g.memoizedState=y,pr=!0),g=g.queue,ep(U0.bind(null,d,g,a),[a]),g.getSnapshot!==l||x||Rt!==null&&1&Rt.memoizedState.tag){if(d.flags|=2048,Qa(9,F0.bind(null,d,g,y,l),void 0,null),kt===null)throw Error(s(349));30&Is||B0(d,l,y)}return y}function B0(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},(l=nt.updateQueue)===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.stores=[a]):(d=l.stores)===null?l.stores=[a]:d.push(a)}function F0(a,l,d,g){l.value=d,l.getSnapshot=g,z0(l)&&j0(a)}function U0(a,l,d){return d(function(){z0(l)&&j0(a)})}function z0(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!on(a,d)}catch{return!0}}function j0(a){var l=On(a,1);l!==null&&Vr(l,a,1,-1)}function G0(a){var l=Bn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},l.queue=a,a=a.dispatch=qP.bind(null,nt,a),[l.memoizedState,a]}function Qa(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},(l=nt.updateQueue)===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect)===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function H0(){return Wr().memoizedState}function Qu(a,l,d,g){var y=Bn();nt.flags|=a,y.memoizedState=Qa(1|l,d,void 0,g===void 0?null:g)}function qu(a,l,d,g){var y=Wr();g=g===void 0?null:g;var x=void 0;if(It!==null){var P=It.memoizedState;if(x=P.destroy,g!==null&&Kf(g,P.deps))return void(y.memoizedState=Qa(l,d,x,g))}nt.flags|=a,y.memoizedState=Qa(1|l,d,x,g)}function $0(a,l){return Qu(8390656,8,a,l)}function ep(a,l){return qu(2048,8,a,l)}function W0(a,l){return qu(4,2,a,l)}function V0(a,l){return qu(4,4,a,l)}function X0(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function Y0(a,l,d){return d=d!=null?d.concat([a]):null,qu(4,4,X0.bind(null,l,a),d)}function tp(){}function K0(a,l){var d=Wr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Kf(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function Q0(a,l){var d=Wr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Kf(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function q0(a,l,d){return 21&Is?(on(d,l)||(d=d0(),nt.lanes|=d,Rs|=d,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,pr=!0),a.memoizedState=d)}function KP(a,l){var d=Le;Le=d!==0&&4>d?d:4,a(!0);var g=Yf.transition;Yf.transition={};try{a(!1),l()}finally{Le=d,Yf.transition=g}}function Z0(){return Wr().memoizedState}function QP(a,l,d){var g=Ui(a);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},J0(a)?e_(l,d):(d=S0(a,l,d,g))!==null&&(Vr(d,a,g,Qt()),t_(d,l,g))}function qP(a,l,d){var g=Ui(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(J0(a))e_(l,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer)!==null)try{var P=l.lastRenderedState,A=x(P,d);if(y.hasEagerState=!0,y.eagerState=A,on(A,P)){var O=l.interleaved;return O===null?(y.next=y,zf(l)):(y.next=O.next,O.next=y),void(l.interleaved=y)}}catch{}(d=S0(a,l,y,g))!==null&&(Vr(d,a,g,y=Qt()),t_(d,l,g))}}function J0(a){var l=a.alternate;return a===nt||l!==null&&l===nt}function e_(a,l){Xa=Ku=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function t_(a,l,d){if(4194240&d){var g=l.lanes;d|=g&=a.pendingLanes,l.lanes=d,Pf(a,d)}}var Zu={readContext:Hr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},ZP={readContext:Hr,useCallback:function(a,l){return Bn().memoizedState=[a,l===void 0?null:l],a},useContext:Hr,useEffect:$0,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Qu(4194308,4,X0.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Qu(4194308,4,a,l)},useInsertionEffect:function(a,l){return Qu(4,2,a,l)},useMemo:function(a,l){var d=Bn();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=Bn();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=QP.bind(null,nt,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},Bn().memoizedState=a},useState:G0,useDebugValue:tp,useDeferredValue:function(a){return Bn().memoizedState=a},useTransition:function(){var a=G0(!1),l=a[0];return a=KP.bind(null,a[1]),Bn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=nt,y=Bn();if(Ze){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),kt===null)throw Error(s(349));30&Is||B0(g,l,d)}y.memoizedState=d;var x={value:d,getSnapshot:l};return y.queue=x,$0(U0.bind(null,g,x,a),[a]),g.flags|=2048,Qa(9,F0.bind(null,g,x,d,l),void 0,null),d},useId:function(){var a=Bn(),l=kt.identifierPrefix;if(Ze){var d=oi;l=":"+l+"R"+(d=(Dn&~(1<<32-sn(Dn)-1)).toString(32)+d),0<(d=Ya++)&&(l+="H"+d.toString(32)),l+=":"}else l=":"+l+"r"+(d=YP++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},JP={readContext:Hr,useCallback:K0,useContext:Hr,useEffect:ep,useImperativeHandle:Y0,useInsertionEffect:W0,useLayoutEffect:V0,useMemo:Q0,useReducer:Zf,useRef:H0,useState:function(){return Zf(Ka)},useDebugValue:tp,useDeferredValue:function(a){return q0(Wr(),It.memoizedState,a)},useTransition:function(){return[Zf(Ka)[0],Wr().memoizedState]},useMutableSource:O0,useSyncExternalStore:L0,useId:Z0,unstable_isNewReconciler:!1},eA={readContext:Hr,useCallback:K0,useContext:Hr,useEffect:ep,useImperativeHandle:Y0,useInsertionEffect:W0,useLayoutEffect:V0,useMemo:Q0,useReducer:Jf,useRef:H0,useState:function(){return Jf(Ka)},useDebugValue:tp,useDeferredValue:function(a){var l=Wr();return It===null?l.memoizedState=a:q0(l,It.memoizedState,a)},useTransition:function(){return[Jf(Ka)[0],Wr().memoizedState]},useMutableSource:O0,useSyncExternalStore:L0,useId:Z0,unstable_isNewReconciler:!1};function To(a,l){try{var d="",g=l;do d+=XP(g),g=g.return;while(g);var y=d}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:a,source:l,stack:y,digest:null}}function rp(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function np(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function r_(a,l,d){(d=ai(-1,d)).tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){dc||(dc=!0,Ep=g),np(0,l)},d}function n_(a,l,d){(d=ai(-1,d)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;d.payload=function(){return g(y)},d.callback=function(){np(0,l)}}var x=a.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){np(0,l),typeof g!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),d}function i_(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new tA;var y=new Set;g.set(l,y)}else(y=g.get(l))===void 0&&(y=new Set,g.set(l,y));y.has(d)||(y.add(d),a=cA.bind(null,a,l,d),l.then(a,a))}function s_(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function o_(a,l,d,g,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((l=ai(-1,1)).tag=2,Oi(d,l,1))),d.lanes|=1),a)}var rA=o.ReactCurrentOwner,pr=!1;function mr(a,l,d,g){l.child=a===null?N0(l,null,d,g):Eo(l,a.child,d,g)}function a_(a,l,d,g,y){d=d.render;var x=l.ref;return wo(l,y),g=Qf(a,l,d,g,x,y),d=qf(),a===null||pr?(Ze&&d&&kf(l),l.flags|=1,mr(a,l,g,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,li(a,l,y))}function l_(a,l,d,g,y){if(a===null){var x=d.type;return typeof x!="function"||Ap(x)||x.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=vc(d.type,null,g,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=x,u_(a,l,x,g,y))}if(x=a.child,(a.lanes&y)==0){var P=x.memoizedProps;if((d=(d=d.compare)!==null?d:zu)(P,g)&&a.ref===l.ref)return li(a,l,y)}return l.flags|=1,(a=ji(x,g)).ref=l.ref,a.return=l,l.child=a}function u_(a,l,d,g,y){if(a!==null){var x=a.memoizedProps;if(zu(x,g)&&a.ref===l.ref){if(pr=!1,l.pendingProps=g=x,(a.lanes&y)==0)return l.lanes=a.lanes,li(a,l,y);131072&a.flags&&(pr=!0)}}return ip(a,l,d,g,y)}function c_(a,l,d){var g=l.pendingProps,y=g.children,x=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Po,Pr),Pr|=d;else{if(!(1073741824&d))return a=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,We(Po,Pr),Pr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:d,We(Po,Pr),Pr|=g}else x!==null?(g=x.baseLanes|d,l.memoizedState=null):g=d,We(Po,Pr),Pr|=g;return mr(a,l,y,d),l.child}function h_(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function ip(a,l,d,g,y){var x=Tr(d)?Ts:Xt.current;return x=go(l,x),wo(l,y),d=Qf(a,l,d,g,x,y),g=qf(),a===null||pr?(Ze&&g&&kf(l),l.flags|=1,mr(a,l,d,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,li(a,l,y))}function d_(a,l,d,g,y){if(Tr(d)){var x=!0;Nu(l)}else x=!1;if(wo(l,y),l.stateNode===null)rc(a,l),I0(l,d,g),Hf(l,d,g,y),g=!0;else if(a===null){var P=l.stateNode,A=l.memoizedProps;P.props=A;var O=P.context,j=d.contextType;typeof j=="object"&&j!==null?j=Hr(j):j=go(l,j=Tr(d)?Ts:Xt.current);var W=d.getDerivedStateFromProps,ie=typeof W=="function"||typeof P.getSnapshotBeforeUpdate=="function";ie||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(A!==g||O!==j)&&R0(l,P,g,j),Di=!1;var $=l.memoizedState;P.state=$,$u(l,g,P,y),O=l.memoizedState,A!==g||$!==O||fr.current||Di?(typeof W=="function"&&(Gf(l,d,W,g),O=l.memoizedState),(A=Di||A0(l,d,A,g,$,O,j))?(ie||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=O),P.props=g,P.state=O,P.context=j,g=A):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{P=l.stateNode,b0(a,l),A=l.memoizedProps,j=l.type===l.elementType?A:ln(l.type,A),P.props=j,ie=l.pendingProps,$=P.context,typeof(O=d.contextType)=="object"&&O!==null?O=Hr(O):O=go(l,O=Tr(d)?Ts:Xt.current);var ee=d.getDerivedStateFromProps;(W=typeof ee=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(A!==ie||$!==O)&&R0(l,P,g,O),Di=!1,$=l.memoizedState,P.state=$,$u(l,g,P,y);var de=l.memoizedState;A!==ie||$!==de||fr.current||Di?(typeof ee=="function"&&(Gf(l,d,ee,g),de=l.memoizedState),(j=Di||A0(l,d,j,g,$,de,O)||!1)?(W||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,de,O),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,de,O)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||A===a.memoizedProps&&$===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&$===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=de),P.props=g,P.state=de,P.context=O,g=j):(typeof P.componentDidUpdate!="function"||A===a.memoizedProps&&$===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&$===a.memoizedState||(l.flags|=1024),g=!1)}return sp(a,l,d,g,x,y)}function sp(a,l,d,g,y,x){h_(a,l);var P=(128&l.flags)!=0;if(!g&&!P)return y&&h0(l,d,!1),li(a,l,x);g=l.stateNode,rA.current=l;var A=P&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&P?(l.child=Eo(l,a.child,null,x),l.child=Eo(l,null,A,x)):mr(a,l,A,x),l.memoizedState=g.state,y&&h0(l,d,!0),l.child}function f_(a){var l=a.stateNode;l.pendingContext?u0(0,l.pendingContext,l.pendingContext!==l.context):l.context&&u0(0,l.context,!1),$f(a,l.containerInfo)}function p_(a,l,d,g,y){return _o(),Of(y),l.flags|=256,mr(a,l,d,g),l.child}var qa,Za,Ju,ec,op={dehydrated:null,treeContext:null,retryLane:0};function ap(a){return{baseLanes:a,cachePool:null,transitions:null}}function m_(a,l,d){var g,y=l.pendingProps,x=ct.current,P=!1,A=(128&l.flags)!=0;if((g=A)||(g=(a===null||a.memoizedState!==null)&&(2&x)!=0),g?(P=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(x|=1),We(ct,1&x),a===null)return Df(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?vf(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(A=y.children,a=y.fallback,P?(y=l.mode,P=l.child,A={mode:"hidden",children:A},!(1&y)&&P!==null?(P.childLanes=0,P.pendingProps=A):P=_c(A,y,0,null),a=Ns(a,y,d,null),P.return=l,a.return=l,P.sibling=a,l.child=P,l.child.memoizedState=ap(d),l.memoizedState=op,a):lp(l,A));if((x=a.memoizedState)!==null&&(g=x.dehydrated)!==null)return function(j,W,ie,$,ee,de,be){if(ie)return 256&W.flags?(W.flags&=-257,tc(j,W,be,$=rp(Error(s(422))))):W.memoizedState!==null?(W.child=j.child,W.flags|=128,null):(de=$.fallback,ee=W.mode,$=_c({mode:"visible",children:$.children},ee,0,null),(de=Ns(de,ee,be,null)).flags|=2,$.return=W,de.return=W,$.sibling=de,W.child=$,1&W.mode&&Eo(W,j.child,null,be),W.child.memoizedState=ap(be),W.memoizedState=op,de);if(!(1&W.mode))return tc(j,W,be,null);if(vf(ee))return $=EP(ee).digest,de=Error(s(419)),$=rp(de,$,void 0),tc(j,W,be,$);if(ie=(be&j.childLanes)!=0,pr||ie){if(($=kt)!==null){switch(be&-be){case 4:ee=2;break;case 16:ee=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ee=32;break;case 536870912:ee=268435456;break;default:ee=0}(ee=ee&($.suspendedLanes|be)?0:ee)!==0&&ee!==de.retryLane&&(de.retryLane=ee,On(j,ee),Vr($,j,ee,-1))}return Pp(),tc(j,W,be,$=rp(Error(s(421))))}return l0(ee)?(W.flags|=128,W.child=j.child,W=hA.bind(null,j),SP(ee,W),null):(j=de.treeContext,Oe&&(Gr=CP(ee),Cr=W,Ze=!0,an=null,Ha=!1,j!==null&&(zr[jr++]=Dn,zr[jr++]=oi,zr[jr++]=Cs,Dn=j.id,oi=j.overflow,Cs=W)),W=lp(W,$.children),W.flags|=4096,W)}(a,l,A,y,g,x,d);if(P){P=y.fallback,A=l.mode,g=(x=a.child).sibling;var O={mode:"hidden",children:y.children};return!(1&A)&&l.child!==x?((y=l.child).childLanes=0,y.pendingProps=O,l.deletions=null):(y=ji(x,O)).subtreeFlags=14680064&x.subtreeFlags,g!==null?P=ji(g,P):(P=Ns(P,A,d,null)).flags|=2,P.return=l,y.return=l,y.sibling=P,l.child=y,y=P,P=l.child,A=(A=a.child.memoizedState)===null?ap(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},P.memoizedState=A,P.childLanes=a.childLanes&~d,l.memoizedState=op,y}return a=(P=a.child).sibling,y=ji(P,{mode:"visible",children:y.children}),!(1&l.mode)&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&((d=l.deletions)===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function lp(a,l){return(l=_c({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function tc(a,l,d,g){return g!==null&&Of(g),Eo(l,a.child,null,d),(a=lp(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function g_(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Uf(a.return,l,d)}function up(a,l,d,g,y){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=d,x.tailMode=y)}function y_(a,l,d){var g=l.pendingProps,y=g.revealOrder,x=g.tail;if(mr(a,l,g.children,d),(2&(g=ct.current))!=0)g=1&g|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&g_(a,d,l);else if(a.tag===19)g_(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(We(ct,g),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)(a=d.alternate)!==null&&Xu(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),up(l,!1,y,d,x);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&Xu(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}up(l,!0,d,null,x);break;case"together":up(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function rc(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function li(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Rs|=l.lanes,(d&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(d=ji(a=l.child,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,(d=d.sibling=ji(a,a.pendingProps)).return=l;d.sibling=null}return l.child}function Fn(a){a.flags|=4}function v_(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Pe)qa=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)ne(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Za=function(){},Ju=function(a,l,d,g,y){if((a=a.memoizedProps)!==g){var x=l.stateNode,P=Ln($r.current);d=xe(x,d,a,g,y,P),(l.updateQueue=d)&&Fn(l)}},ec=function(a,l,d,g){d!==g&&Fn(l)};else if(Xe){qa=function(a,l,d,g){for(var y=l.child;y!==null;){if(y.tag===5){var x=y.stateNode;d&&g&&(x=o0(x,y.type,y.memoizedProps,y)),ne(a,x)}else if(y.tag===6)x=y.stateNode,d&&g&&(x=a0(x,y.memoizedProps,y)),ne(a,x);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(x=y.child)!==null&&(x.return=y),qa(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var __=function(a,l,d,g){for(var y=l.child;y!==null;){if(y.tag===5){var x=y.stateNode;d&&g&&(x=o0(x,y.type,y.memoizedProps,y)),s0(a,x)}else if(y.tag===6)x=y.stateNode,d&&g&&(x=a0(x,y.memoizedProps,y)),s0(a,x);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(x=y.child)!==null&&(x.return=y),__(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Za=function(a,l){var d=l.stateNode;if(!v_(a,l)){a=d.containerInfo;var g=i0(a);__(g,l,!1,!1),d.pendingChildren=g,Fn(l),vP(a,g)}},Ju=function(a,l,d,g,y){var x=a.stateNode,P=a.memoizedProps;if((a=v_(a,l))&&P===g)l.stateNode=x;else{var A=l.stateNode,O=Ln($r.current),j=null;P!==g&&(j=xe(A,d,P,g,y,O)),a&&j===null?l.stateNode=x:(x=yP(x,j,d,P,g,l,a,A),Se(x,d,g,y,O)&&Fn(l),l.stateNode=x,a?Fn(l):qa(x,l,!1,!1))}},ec=function(a,l,d,g){d!==g?(a=Ln(So.current),d=Ln($r.current),l.stateNode=Te(g,a,d,l),Fn(l)):l.stateNode=a.stateNode}}else Za=function(){},Ju=function(){},ec=function(){};function Ja(a,l){if(!Ze)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function or(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=14680064&y.subtreeFlags,g|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function nA(a,l,d){var g=l.pendingProps;switch(Mf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(l),null;case 1:case 17:return Tr(l.type)&&Ef(),or(l),null;case 3:return d=l.stateNode,bo(),qe(fr),qe(Xt),Xf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(Uu(l)?Fn(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,an!==null&&(Tp(an),an=null))),Za(a,l),or(l),null;case 5:Wf(l),d=Ln(So.current);var y=l.type;if(a!==null&&l.stateNode!=null)Ju(a,l,y,g,d),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(s(166));return or(l),null}if(a=Ln($r.current),Uu(l)){if(!Oe)throw Error(s(175));a=PP(l.stateNode,l.type,l.memoizedProps,d,a,l,!Ha),l.updateQueue=a,a!==null&&Fn(l)}else{var x=q(y,g,d,a,l);qa(x,l,!1,!1),l.stateNode=x,Se(x,y,g,d,a)&&Fn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return or(l),null;case 6:if(a&&l.stateNode!=null)ec(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(s(166));if(a=Ln(So.current),d=Ln($r.current),Uu(l)){if(!Oe)throw Error(s(176));if(a=l.stateNode,d=l.memoizedProps,(g=AP(a,d,l,!Ha))&&(y=Cr)!==null)switch(y.tag){case 3:LP(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:BP(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}g&&Fn(l)}else l.stateNode=Te(g,a,d,l)}return or(l),null;case 13:if(qe(ct),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ze&&Gr!==null&&1&l.mode&&!(128&l.flags))w0(),_o(),l.flags|=98560,y=!1;else if(y=Uu(l),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!Oe)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));IP(y,l)}else _o(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;or(l),y=!1}else an!==null&&(Tp(an),an=null),y=!0;if(!y)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=d,l):((d=g!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(l.child.flags|=8192,1&l.mode&&(a===null||1&ct.current?St===0&&(St=3):Pp())),l.updateQueue!==null&&(l.flags|=4),or(l),null);case 4:return bo(),Za(a,l),a===null&&Ur(l.stateNode.containerInfo),or(l),null;case 10:return Ff(l.type._context),or(l),null;case 19:if(qe(ct),(y=l.memoizedState)===null)return or(l),null;if(g=(128&l.flags)!=0,(x=y.rendering)===null)if(g)Ja(y,!1);else{if(St!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((x=Xu(a))!==null){for(l.flags|=128,Ja(y,!1),(a=x.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=d,d=l.child;d!==null;)y=a,(g=d).flags&=14680066,(x=g.alternate)===null?(g.childLanes=0,g.lanes=y,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,y=x.dependencies,g.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return We(ct,1&ct.current|2),l.child}a=a.sibling}y.tail!==null&&At()>wp&&(l.flags|=128,g=!0,Ja(y,!1),l.lanes=4194304)}else{if(!g)if((a=Xu(x))!==null){if(l.flags|=128,g=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Ja(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ze)return or(l),null}else 2*At()-y.renderingStartTime>wp&&d!==1073741824&&(l.flags|=128,g=!0,Ja(y,!1),l.lanes=4194304);y.isBackwards?(x.sibling=l.child,l.child=x):((a=y.last)!==null?a.sibling=x:l.child=x,y.last=x)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=At(),l.sibling=null,a=ct.current,We(ct,g?1&a|2:1&a),l):(or(l),null);case 22:case 23:return Cp(),d=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(l.flags|=8192),d&&1&l.mode?1073741824&Pr&&(or(l),Pe&&6&l.subtreeFlags&&(l.flags|=8192)):or(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function iA(a,l){switch(Mf(l),l.tag){case 1:return Tr(l.type)&&Ef(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return bo(),qe(fr),qe(Xt),Xf(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return Wf(l),null;case 13:if(qe(ct),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));_o()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return qe(ct),null;case 4:return bo(),null;case 10:return Ff(l.type._context),null;case 22:case 23:return Cp(),null;default:return null}}var nc=!1,Kt=!1,sA=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Co(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Je(a,l,g)}else d.current=null}function x_(a,l,d){try{d()}catch(g){Je(a,l,g)}}var w_=!1;function el(a,l,d){var g=l.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var y=g=g.next;do{if((y.tag&a)===a){var x=y.destroy;y.destroy=void 0,x!==void 0&&x_(l,d,x)}y=y.next}while(y!==g)}}function ic(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function cp(a){var l=a.ref;if(l!==null){var d=a.stateNode;a.tag===5?a=se(d):a=d,typeof l=="function"?l(a):l.current=a}}function E_(a){var l=a.alternate;l!==null&&(a.alternate=null,E_(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&gf(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function S_(a){return a.tag===5||a.tag===3||a.tag===4}function b_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||S_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function hp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?uP(d,a,l):iP(d,a);else if(g!==4&&(a=a.child)!==null)for(hp(a,l,d),a=a.sibling;a!==null;)hp(a,l,d),a=a.sibling}function dp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?lP(d,a,l):nP(d,a);else if(g!==4&&(a=a.child)!==null)for(dp(a,l,d),a=a.sibling;a!==null;)dp(a,l,d),a=a.sibling}var ar=null,Un=!1;function zn(a,l,d){for(d=d.child;d!==null;)fp(a,l,d),d=d.sibling}function fp(a,l,d){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Ou,d)}catch{}switch(d.tag){case 5:Kt||Co(d,l);case 6:if(Pe){var g=ar,y=Un;ar=null,zn(a,l,d),Un=y,(ar=g)!==null&&(Un?hP(ar,d.stateNode):cP(ar,d.stateNode))}else zn(a,l,d);break;case 18:Pe&&ar!==null&&(Un?DP(ar,d.stateNode):NP(ar,d.stateNode));break;case 4:Pe?(g=ar,y=Un,ar=d.stateNode.containerInfo,Un=!0,zn(a,l,d),ar=g,Un=y):(Xe&&(g=d.stateNode.containerInfo,y=i0(g),yf(g,y)),zn(a,l,d));break;case 0:case 11:case 14:case 15:if(!Kt&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){y=g=g.next;do{var x=y,P=x.destroy;x=x.tag,P!==void 0&&(2&x||4&x)&&x_(d,l,P),y=y.next}while(y!==g)}zn(a,l,d);break;case 1:if(!Kt&&(Co(d,l),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(A){Je(d,l,A)}zn(a,l,d);break;case 21:zn(a,l,d);break;case 22:1&d.mode?(Kt=(g=Kt)||d.memoizedState!==null,zn(a,l,d),Kt=g):zn(a,l,d);break;default:zn(a,l,d)}}function T_(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new sA),l.forEach(function(g){var y=dA.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function un(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var x=a,P=l;if(Pe){var A=P;e:for(;A!==null;){switch(A.tag){case 5:ar=A.stateNode,Un=!1;break e;case 3:case 4:ar=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(ar===null)throw Error(s(160));fp(x,P,y),ar=null,Un=!1}else fp(x,P,y);var O=y.alternate;O!==null&&(O.return=null),y.return=null}catch(j){Je(y,l,j)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)C_(l,a),l=l.sibling}function C_(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(un(l,a),jn(a),4&g){try{el(3,a,a.return),ic(3,a)}catch($){Je(a,a.return,$)}try{el(5,a,a.return)}catch($){Je(a,a.return,$)}}break;case 1:un(l,a),jn(a),512&g&&d!==null&&Co(d,d.return);break;case 5:if(un(l,a),jn(a),512&g&&d!==null&&Co(d,d.return),Pe){if(32&a.flags){var y=a.stateNode;try{n0(y)}catch($){Je(a,a.return,$)}}if(4&g&&(y=a.stateNode)!=null){var x=a.memoizedProps;if(d=d!==null?d.memoizedProps:x,g=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{aP(y,l,g,d,x,a)}catch($){Je(a,a.return,$)}}}break;case 6:if(un(l,a),jn(a),4&g&&Pe){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,x=a.memoizedProps,d=d!==null?d.memoizedProps:x;try{sP(y,d,x)}catch($){Je(a,a.return,$)}}break;case 3:if(un(l,a),jn(a),4&g){if(Pe&&Oe&&d!==null&&d.memoizedState.isDehydrated)try{kP(l.containerInfo)}catch($){Je(a,a.return,$)}if(Xe){y=l.containerInfo,x=l.pendingChildren;try{yf(y,x)}catch($){Je(a,a.return,$)}}}break;case 4:if(un(l,a),jn(a),4&g&&Xe){y=(x=a.stateNode).containerInfo,x=x.pendingChildren;try{yf(y,x)}catch($){Je(a,a.return,$)}}break;case 13:un(l,a),jn(a),8192&(y=a.child).flags&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(xp=At())),4&g&&T_(a);break;case 22:var P=d!==null&&d.memoizedState!==null;if(1&a.mode?(Kt=(d=Kt)||P,un(l,a),Kt=d):un(l,a),jn(a),8192&g){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!P&&(1&a.mode)!=0)for(ce=a,g=a.child;g!==null;){for(l=ce=g;ce!==null;){var A=(P=ce).child;switch(P.tag){case 0:case 11:case 14:case 15:el(4,P,P.return);break;case 1:Co(P,P.return);var O=P.stateNode;if(typeof O.componentWillUnmount=="function"){var j=P,W=P.return;try{var ie=j;O.props=ie.memoizedProps,O.state=ie.memoizedState,O.componentWillUnmount()}catch($){Je(j,W,$)}}break;case 5:Co(P,P.return);break;case 22:if(P.memoizedState!==null){I_(l);continue}}A!==null?(A.return=P,ce=A):I_(l)}g=g.sibling}if(Pe){e:if(g=null,Pe)for(l=a;;){if(l.tag===5){if(g===null){g=l;try{y=l.stateNode,d?dP(y):pP(l.stateNode,l.memoizedProps)}catch($){Je(a,a.return,$)}}}else if(l.tag===6){if(g===null)try{x=l.stateNode,d?fP(x):mP(x,l.memoizedProps)}catch($){Je(a,a.return,$)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:un(l,a),jn(a),4&g&&T_(a);break;case 21:break;default:un(l,a),jn(a)}}function jn(a){var l=a.flags;if(2&l){try{if(Pe){e:{for(var d=a.return;d!==null;){if(S_(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var y=g.stateNode;32&g.flags&&(n0(y),g.flags&=-33),dp(a,b_(a),y);break;case 3:case 4:var x=g.stateNode.containerInfo;hp(a,b_(a),x);break;default:throw Error(s(161))}}}catch(P){Je(a,a.return,P)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function oA(a,l,d){ce=a,P_(a)}function P_(a,l,d){for(var g=(1&a.mode)!=0;ce!==null;){var y=ce,x=y.child;if(y.tag===22&&g){var P=y.memoizedState!==null||nc;if(!P){var A=y.alternate,O=A!==null&&A.memoizedState!==null||Kt;A=nc;var j=Kt;if(nc=P,(Kt=O)&&!j)for(ce=y;ce!==null;)O=(P=ce).child,P.tag===22&&P.memoizedState!==null?R_(y):O!==null?(O.return=P,ce=O):R_(y);for(;x!==null;)ce=x,P_(x),x=x.sibling;ce=y,nc=A,Kt=j}A_(a)}else 8772&y.subtreeFlags&&x!==null?(x.return=y,ce=x):A_(a)}}function A_(a){for(;ce!==null;){var l=ce;if(8772&l.flags){var d=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Kt||ic(5,l);break;case 1:var g=l.stateNode;if(4&l.flags&&!Kt)if(d===null)g.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:ln(l.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&C0(l,x,g);break;case 3:var P=l.updateQueue;if(P!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=se(l.child.stateNode);break;case 1:d=l.child.stateNode}C0(l,P,d)}break;case 5:var A=l.stateNode;d===null&&4&l.flags&&oP(A,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Oe&&l.memoizedState===null){var O=l.alternate;if(O!==null){var j=O.memoizedState;if(j!==null){var W=j.dehydrated;W!==null&&MP(W)}}}break;default:throw Error(s(163))}Kt||512&l.flags&&cp(l)}catch(ie){Je(l,l.return,ie)}}if(l===a){ce=null;break}if((d=l.sibling)!==null){d.return=l.return,ce=d;break}ce=l.return}}function I_(a){for(;ce!==null;){var l=ce;if(l===a){ce=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ce=d;break}ce=l.return}}function R_(a){for(;ce!==null;){var l=ce;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{ic(4,l)}catch(O){Je(l,d,O)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(O){Je(l,y,O)}}var x=l.return;try{cp(l)}catch(O){Je(l,x,O)}break;case 5:var P=l.return;try{cp(l)}catch(O){Je(l,P,O)}}}catch(O){Je(l,l.return,O)}if(l===a){ce=null;break}var A=l.sibling;if(A!==null){A.return=l.return,ce=A;break}ce=l.return}}var sc=0,oc=1,ac=2,lc=3,uc=4;if(typeof Symbol=="function"&&Symbol.for){var tl=Symbol.for;sc=tl("selector.component"),oc=tl("selector.has_pseudo_class"),ac=tl("selector.role"),lc=tl("selector.test_id"),uc=tl("selector.text")}function pp(a){var l=Fr(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=qC(a))===null)throw Error(s(362));return a.stateNode.current}function mp(a,l){switch(l.$$typeof){case sc:if(a.type===l.value)return!0;break;case oc:e:{l=l.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],y=a[d++],x=l[y];if(g.tag!==5||!Ua(g)){for(;x!=null&&mp(g,x);)x=l[++y];if(y===l.length){l=!0;break e}for(g=g.child;g!==null;)a.push(g,y),g=g.sibling}}l=!1}return l;case ac:if(a.tag===5&&eP(a.stateNode,l.value))return!0;break;case uc:if((a.tag===5||a.tag===6)&&(a=JC(a))!==null&&0<=a.indexOf(l.value))return!0;break;case lc:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function gp(a){switch(a.$$typeof){case sc:return"<"+(L(a.value)||"Unknown")+">";case oc:return":has("+(gp(a)||"")+")";case ac:return'[role="'+a.value+'"]';case uc:return'"'+a.value+'"';case lc:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function k_(a,l){var d=[];a=[a,0];for(var g=0;g<a.length;){var y=a[g++],x=a[g++],P=l[x];if(y.tag!==5||!Ua(y)){for(;P!=null&&mp(y,P);)P=l[++x];if(x===l.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,x),y=y.sibling}}return d}function yp(a,l){if(!Fa)throw Error(s(363));a=k_(a=pp(a),l),l=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Ua(g)||l.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return l}var aA=Math.ceil,cc=o.ReactCurrentDispatcher,vp=o.ReactCurrentOwner,ft=o.ReactCurrentBatchConfig,ke=0,kt=null,vt=null,Ft=0,Pr=0,Po=Mi(0),St=0,rl=null,Rs=0,hc=0,_p=0,nl=null,Ar=null,xp=0,wp=1/0,Li=null;function Ao(){wp=At()+500}var M_,dc=!1,Ep=null,Bi=null,fc=!1,Fi=null,pc=0,il=0,Sp=null,mc=-1,gc=0;function Qt(){return 6&ke?At():mc!==-1?mc:mc=At()}function Ui(a){return 1&a.mode?2&ke&&Ft!==0?Ft&-Ft:VP.transition!==null?(gc===0&&(gc=d0()),gc):(a=Le)!==0?a:bs():1}function Vr(a,l,d,g){if(50<il)throw il=0,Sp=null,Error(s(185));Ga(a,d,g),2&ke&&a===kt||(a===kt&&(!(2&ke)&&(hc|=d),St===4&&zi(a,Ft)),gr(a,g),d===1&&ke===0&&!(1&l.mode)&&(Ao(),Lu&&Nn()))}function gr(a,l){var d=a.callbackNode;(function(y,x){for(var P=y.suspendedLanes,A=y.pingedLanes,O=y.expirationTimes,j=y.pendingLanes;0<j;){var W=31-sn(j),ie=1<<W,$=O[W];$===-1?ie&P&&!(ie&A)||(O[W]=jP(ie,x)):$<=x&&(y.expiredLanes|=ie),j&=~ie}})(a,l);var g=Du(a,a===kt?Ft:0);if(g===0)d!==null&&p0(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&p0(d),l===1)a.tag===0?function(y){Lu=!0,g0(y)}(D_.bind(null,a)):g0(D_.bind(null,a)),po?QC(function(){!(6&ke)&&Nn()}):Af(If,Nn),d=null;else{switch(f0(g)){case 1:d=If;break;case 4:d=$P;break;case 16:default:d=m0;break;case 536870912:d=WP}d=G_(d,N_.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function N_(a,l){if(mc=-1,gc=0,(6&ke)!=0)throw Error(s(327));var d=a.callbackNode;if(Ms()&&a.callbackNode!==d)return null;var g=Du(a,a===kt?Ft:0);if(g===0)return null;if(30&g||g&a.expiredLanes||l)l=yc(a,g);else{l=g;var y=ke;ke|=2;var x=B_();for(kt===a&&Ft===l||(Li=null,Ao(),ks(a,l));;)try{uA();break}catch(A){L_(a,A)}Bf(),cc.current=x,ke=y,vt!==null?l=0:(kt=null,Ft=0,l=St)}if(l!==0){if(l===2&&(y=Tf(a))!==0&&(g=y,l=bp(a,y)),l===1)throw d=rl,ks(a,0),zi(a,g),gr(a,At()),d;if(l===6)zi(a,g);else{if(y=a.current.alternate,(30&g)==0&&!function(A){for(var O=A;;){if(16384&O.flags){var j=O.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var W=0;W<j.length;W++){var ie=j[W],$=ie.getSnapshot;ie=ie.value;try{if(!on($(),ie))return!1}catch{return!1}}}if(j=O.child,16384&O.subtreeFlags&&j!==null)j.return=O,O=j;else{if(O===A)break;for(;O.sibling===null;){if(O.return===null||O.return===A)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}(y)&&((l=yc(a,g))===2&&(x=Tf(a))!==0&&(g=x,l=bp(a,x)),l===1))throw d=rl,ks(a,0),zi(a,g),gr(a,At()),d;switch(a.finishedWork=y,a.finishedLanes=g,l){case 0:case 1:throw Error(s(345));case 2:case 5:Io(a,Ar,Li);break;case 3:if(zi(a,g),(130023424&g)===g&&10<(l=xp+500-At())){if(Du(a,0)!==0)break;if(((y=a.suspendedLanes)&g)!==g){Qt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Fe(Io.bind(null,a,Ar,Li),l);break}Io(a,Ar,Li);break;case 4:if(zi(a,g),(4194240&g)===g)break;for(l=a.eventTimes,y=-1;0<g;){var P=31-sn(g);x=1<<P,(P=l[P])>y&&(y=P),g&=~x}if(g=y,10<(g=(120>(g=At()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*aA(g/1960))-g)){a.timeoutHandle=Fe(Io.bind(null,a,Ar,Li),g);break}Io(a,Ar,Li);break;default:throw Error(s(329))}}}return gr(a,At()),a.callbackNode===d?N_.bind(null,a):null}function bp(a,l){var d=nl;return a.current.memoizedState.isDehydrated&&(ks(a,l).flags|=256),(a=yc(a,l))!==2&&(l=Ar,Ar=d,l!==null&&Tp(l)),a}function Tp(a){Ar===null?Ar=a:Ar.push.apply(Ar,a)}function zi(a,l){for(l&=~_p,l&=~hc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-sn(l),g=1<<d;a[d]=-1,l&=~g}}function D_(a){if(6&ke)throw Error(s(327));Ms();var l=Du(a,0);if(!(1&l))return gr(a,At()),null;var d=yc(a,l);if(a.tag!==0&&d===2){var g=Tf(a);g!==0&&(l=g,d=bp(a,g))}if(d===1)throw d=rl,ks(a,0),zi(a,l),gr(a,At()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Io(a,Ar,Li),gr(a,At()),null}function O_(a){Fi!==null&&Fi.tag===0&&!(6&ke)&&Ms();var l=ke;ke|=1;var d=ft.transition,g=Le;try{if(ft.transition=null,Le=1,a)return a()}finally{Le=g,ft.transition=d,!(6&(ke=l))&&Nn()}}function Cp(){Pr=Po.current,qe(Po)}function ks(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Bt&&(a.timeoutHandle=Bt,Pt(d)),vt!==null)for(d=vt.return;d!==null;){var g=d;switch(Mf(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&Ef();break;case 3:bo(),qe(fr),qe(Xt),Xf();break;case 5:Wf(g);break;case 4:bo();break;case 13:case 19:qe(ct);break;case 10:Ff(g.type._context);break;case 22:case 23:Cp()}d=d.return}if(kt=a,vt=a=ji(a.current,null),Ft=Pr=l,St=0,rl=null,_p=hc=Rs=0,Ar=nl=null,As!==null){for(l=0;l<As.length;l++)if((g=(d=As[l]).interleaved)!==null){d.interleaved=null;var y=g.next,x=d.pending;if(x!==null){var P=x.next;x.next=y,g.next=P}d.pending=g}As=null}return a}function L_(a,l){for(;;){var d=vt;try{if(Bf(),Yu.current=Zu,Ku){for(var g=nt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Ku=!1}if(Is=0,Rt=It=nt=null,Xa=!1,Ya=0,vp.current=null,d===null||d.return===null){St=1,rl=l,vt=null;break}e:{var x=a,P=d.return,A=d,O=l;if(l=Ft,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var j=O,W=A,ie=W.tag;if(!(1&W.mode)&&(ie===0||ie===11||ie===15)){var $=W.alternate;$?(W.updateQueue=$.updateQueue,W.memoizedState=$.memoizedState,W.lanes=$.lanes):(W.updateQueue=null,W.memoizedState=null)}var ee=s_(P);if(ee!==null){ee.flags&=-257,o_(ee,P,A,0,l),1&ee.mode&&i_(x,j,l),O=j;var de=(l=ee).updateQueue;if(de===null){var be=new Set;be.add(O),l.updateQueue=be}else de.add(O);break e}if(!(1&l)){i_(x,j,l),Pp();break e}O=Error(s(426))}else if(Ze&&1&A.mode){var V=s_(P);if(V!==null){!(65536&V.flags)&&(V.flags|=256),o_(V,P,A,0,l),Of(To(O,A));break e}}x=O=To(O,A),St!==4&&(St=2),nl===null?nl=[x]:nl.push(x),x=P;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l,T0(x,r_(0,O,l));break e;case 1:A=O;var N=x.type,U=x.stateNode;if(!(128&x.flags)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Bi===null||!Bi.has(U)))){x.flags|=65536,l&=-l,x.lanes|=l,T0(x,n_(x,A,l));break e}}x=x.return}while(x!==null)}U_(d)}catch(Q){l=Q,vt===d&&d!==null&&(vt=d=d.return);continue}break}}function B_(){var a=cc.current;return cc.current=Zu,a===null?Zu:a}function Pp(){St!==0&&St!==3&&St!==2||(St=4),kt===null||!(268435455&Rs)&&!(268435455&hc)||zi(kt,Ft)}function yc(a,l){var d=ke;ke|=2;var g=B_();for(kt===a&&Ft===l||(Li=null,ks(a,l));;)try{lA();break}catch(y){L_(a,y)}if(Bf(),ke=d,cc.current=g,vt!==null)throw Error(s(261));return kt=null,Ft=0,St}function lA(){for(;vt!==null;)F_(vt)}function uA(){for(;vt!==null&&!GP();)F_(vt)}function F_(a){var l=M_(a.alternate,a,Pr);a.memoizedProps=a.pendingProps,l===null?U_(a):vt=l,vp.current=null}function U_(a){var l=a;do{var d=l.alternate;if(a=l.return,(32768&l.flags)==0){if((d=nA(d,l,Pr))!==null)return void(vt=d)}else{if((d=iA(d,l))!==null)return d.flags&=32767,void(vt=d);if(a===null)return St=6,void(vt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(vt=l);vt=l=a}while(l!==null);St===0&&(St=5)}function Io(a,l,d){var g=Le,y=ft.transition;try{ft.transition=null,Le=1,function(x,P,A,O){do Ms();while(Fi!==null);if(6&ke)throw Error(s(327));A=x.finishedWork;var j=x.finishedLanes;if(A===null)return null;if(x.finishedWork=null,x.finishedLanes=0,A===x.current)throw Error(s(177));x.callbackNode=null,x.callbackPriority=0;var W=A.lanes|A.childLanes;if(function(ee,de){var be=ee.pendingLanes&~de;ee.pendingLanes=de,ee.suspendedLanes=0,ee.pingedLanes=0,ee.expiredLanes&=de,ee.mutableReadLanes&=de,ee.entangledLanes&=de,de=ee.entanglements;var V=ee.eventTimes;for(ee=ee.expirationTimes;0<be;){var N=31-sn(be),U=1<<N;de[N]=0,V[N]=-1,ee[N]=-1,be&=~U}}(x,W),x===kt&&(vt=kt=null,Ft=0),!(2064&A.subtreeFlags)&&!(2064&A.flags)||fc||(fc=!0,G_(m0,function(){return Ms(),null})),W=(15990&A.flags)!=0,(15990&A.subtreeFlags)!=0||W){W=ft.transition,ft.transition=null;var ie=Le;Le=1;var $=ke;ke|=4,vp.current=null,function(ee,de){for(H(ee.containerInfo),ce=de;ce!==null;)if(de=(ee=ce).child,(1028&ee.subtreeFlags)!=0&&de!==null)de.return=ee,ce=de;else for(;ce!==null;){ee=ce;try{var be=ee.alternate;if(1024&ee.flags)switch(ee.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(be!==null){var V=be.memoizedProps,N=be.memoizedState,U=ee.stateNode,Q=U.getSnapshotBeforeUpdate(ee.elementType===ee.type?V:ln(ee.type,V),N);U.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:Pe&&gP(ee.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ye){Je(ee,ee.return,ye)}if((de=ee.sibling)!==null){de.return=ee.return,ce=de;break}ce=ee.return}be=w_,w_=!1}(x,A),C_(A,x),R(x.containerInfo),x.current=A,oA(A),HP(),ke=$,Le=ie,ft.transition=W}else x.current=A;if(fc&&(fc=!1,Fi=x,pc=j),W=x.pendingLanes,W===0&&(Bi=null),function(ee){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Ou,ee,void 0,(128&ee.current.flags)==128)}catch{}}(A.stateNode),gr(x,At()),P!==null)for(O=x.onRecoverableError,A=0;A<P.length;A++)j=P[A],O(j.value,{componentStack:j.stack,digest:j.digest});if(dc)throw dc=!1,x=Ep,Ep=null,x;1&pc&&x.tag!==0&&Ms(),W=x.pendingLanes,1&W?x===Sp?il++:(il=0,Sp=x):il=0,Nn()}(a,l,d,g)}finally{ft.transition=y,Le=g}return null}function Ms(){if(Fi!==null){var a=f0(pc),l=ft.transition,d=Le;try{if(ft.transition=null,Le=16>a?16:a,Fi===null)var g=!1;else{if(a=Fi,Fi=null,pc=0,(6&ke)!=0)throw Error(s(331));var y=ke;for(ke|=4,ce=a.current;ce!==null;){var x=ce,P=x.child;if(16&ce.flags){var A=x.deletions;if(A!==null){for(var O=0;O<A.length;O++){var j=A[O];for(ce=j;ce!==null;){var W=ce;switch(W.tag){case 0:case 11:case 15:el(8,W,x)}var ie=W.child;if(ie!==null)ie.return=W,ce=ie;else for(;ce!==null;){var $=(W=ce).sibling,ee=W.return;if(E_(W),W===j){ce=null;break}if($!==null){$.return=ee,ce=$;break}ce=ee}}}var de=x.alternate;if(de!==null){var be=de.child;if(be!==null){de.child=null;do{var V=be.sibling;be.sibling=null,be=V}while(be!==null)}}ce=x}}if(2064&x.subtreeFlags&&P!==null)P.return=x,ce=P;else e:for(;ce!==null;){if(2048&(x=ce).flags)switch(x.tag){case 0:case 11:case 15:el(9,x,x.return)}var N=x.sibling;if(N!==null){N.return=x.return,ce=N;break e}ce=x.return}}var U=a.current;for(ce=U;ce!==null;){var Q=(P=ce).child;if(2064&P.subtreeFlags&&Q!==null)Q.return=P,ce=Q;else e:for(P=U;ce!==null;){if(2048&(A=ce).flags)try{switch(A.tag){case 0:case 11:case 15:ic(9,A)}}catch(ze){Je(A,A.return,ze)}if(A===P){ce=null;break e}var ye=A.sibling;if(ye!==null){ye.return=A.return,ce=ye;break e}ce=A.return}}if(ke=y,Nn(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Ou,a)}catch{}g=!0}return g}finally{Le=d,ft.transition=l}}return!1}function z_(a,l,d){a=Oi(a,l=r_(0,l=To(d,l),1),1),l=Qt(),a!==null&&(Ga(a,1,l),gr(a,l))}function Je(a,l,d){if(a.tag===3)z_(a,a,d);else for(;l!==null;){if(l.tag===3){z_(l,a,d);break}if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Bi===null||!Bi.has(g))){l=Oi(l,a=n_(l,a=To(d,a),1),1),a=Qt(),l!==null&&(Ga(l,1,a),gr(l,a));break}}l=l.return}}function cA(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Qt(),a.pingedLanes|=a.suspendedLanes&d,kt===a&&(Ft&d)===d&&(St===4||St===3&&(130023424&Ft)===Ft&&500>At()-xp?ks(a,0):_p|=d),gr(a,l)}function j_(a,l){l===0&&(1&a.mode?(l=bf,!(130023424&(bf<<=1))&&(bf=4194304)):l=1);var d=Qt();(a=On(a,l))!==null&&(Ga(a,l,d),gr(a,d))}function hA(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),j_(a,d)}function dA(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(l),j_(a,d)}function G_(a,l){return Af(a,l)}function fA(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(a,l,d,g){return new fA(a,l,d,g)}function Ap(a){return!(!(a=a.prototype)||!a.isReactComponent)}function ji(a,l){var d=a.alternate;return d===null?((d=Xr(a.tag,l,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function vc(a,l,d,g,y,x){var P=2;if(g=a,typeof a=="function")Ap(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case h:return Ns(d.children,y,x,l);case f:P=8,y|=8;break;case p:return(a=Xr(12,d,l,2|y)).elementType=p,a.lanes=x,a;case b:return(a=Xr(13,d,l,y)).elementType=b,a.lanes=x,a;case T:return(a=Xr(19,d,l,y)).elementType=T,a.lanes=x,a;case w:return _c(d,y,x,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:P=10;break e;case v:P=9;break e;case _:P=11;break e;case S:P=14;break e;case E:P=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Xr(P,d,l,y)).elementType=a,l.type=g,l.lanes=x,l}function Ns(a,l,d,g){return(a=Xr(7,a,g,l)).lanes=d,a}function _c(a,l,d,g){return(a=Xr(22,a,g,l)).elementType=w,a.lanes=d,a.stateNode={isHidden:!1},a}function Ip(a,l,d){return(a=Xr(6,a,null,l)).lanes=d,a}function Rp(a,l,d){return(l=Xr(4,a.children!==null?a.children:[],a.key,l)).lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function pA(a,l,d,g,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=g,this.onRecoverableError=y,Oe&&(this.mutableSourceEagerHydrationData=null)}function H_(a,l,d,g,y,x,P,A,O){return a=new pA(a,l,d,A,O),l===1?(l=1,x===!0&&(l|=8)):l=0,x=Xr(3,null,null,l),a.current=x,x.stateNode=a,x.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(x),a}function $_(a){if(!a)return Ni;e:{if(M(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Tr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(Tr(d))return c0(a,d,l)}return l}function W_(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=K(l))===null?null:a.stateNode}function V_(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function xc(a,l){V_(a,l),(a=a.alternate)&&V_(a,l)}function mA(a){return(a=K(a))===null?null:a.stateNode}function gA(){return null}return M_=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||fr.current)pr=!0;else{if(!(a.lanes&d)&&!(128&l.flags))return pr=!1,function(ie,$,ee){switch($.tag){case 3:f_($),_o();break;case 5:D0($);break;case 1:Tr($.type)&&Nu($);break;case 4:$f($,$.stateNode.containerInfo);break;case 10:E0(0,$.type._context,$.memoizedProps.value);break;case 13:var de=$.memoizedState;if(de!==null)return de.dehydrated!==null?(We(ct,1&ct.current),$.flags|=128,null):ee&$.child.childLanes?m_(ie,$,ee):(We(ct,1&ct.current),(ie=li(ie,$,ee))!==null?ie.sibling:null);We(ct,1&ct.current);break;case 19:if(de=(ee&$.childLanes)!=0,(128&ie.flags)!=0){if(de)return y_(ie,$,ee);$.flags|=128}var be=$.memoizedState;if(be!==null&&(be.rendering=null,be.tail=null,be.lastEffect=null),We(ct,ct.current),de)break;return null;case 22:case 23:return $.lanes=0,c_(ie,$,ee)}return li(ie,$,ee)}(a,l,d);pr=(131072&a.flags)!=0}else pr=!1,Ze&&1048576&l.flags&&y0(l,Fu,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;rc(a,l),a=l.pendingProps;var y=go(l,Xt.current);wo(l,d),y=Qf(null,l,g,a,y,d);var x=qf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Tr(g)?(x=!0,Nu(l)):x=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,jf(l),y.updater=Wu,l.stateNode=y,y._reactInternals=l,Hf(l,g,a,d),l=sp(null,l,g,!0,x,d)):(l.tag=0,Ze&&x&&kf(l),mr(null,l,y,d),l=l.child),l;case 16:g=l.elementType;e:{switch(rc(a,l),a=l.pendingProps,g=(y=g._init)(g._payload),l.type=g,y=l.tag=function(ie){if(typeof ie=="function")return Ap(ie)?1:0;if(ie!=null){if((ie=ie.$$typeof)===_)return 11;if(ie===S)return 14}return 2}(g),a=ln(g,a),y){case 0:l=ip(null,l,g,a,d);break e;case 1:l=d_(null,l,g,a,d);break e;case 11:l=a_(null,l,g,a,d);break e;case 14:l=l_(null,l,g,ln(g.type,a),d);break e}throw Error(s(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,ip(a,l,g,y=l.elementType===g?y:ln(g,y),d);case 1:return g=l.type,y=l.pendingProps,d_(a,l,g,y=l.elementType===g?y:ln(g,y),d);case 3:e:{if(f_(l),a===null)throw Error(s(387));g=l.pendingProps,y=(x=l.memoizedState).element,b0(a,l),$u(l,g,null,d);var P=l.memoizedState;if(g=P.element,Oe&&x.isDehydrated){if(x={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=x,l.memoizedState=x,256&l.flags){l=p_(a,l,g,d,y=To(Error(s(423)),l));break e}if(g!==y){l=p_(a,l,g,d,y=To(Error(s(424)),l));break e}for(Oe&&(Gr=TP(l.stateNode.containerInfo),Cr=l,Ze=!0,an=null,Ha=!1),d=N0(l,null,g,d),l.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(_o(),g===y){l=li(a,l,d);break e}mr(a,l,g,d)}l=l.child}return l;case 5:return D0(l),a===null&&Df(l),g=l.type,y=l.pendingProps,x=a!==null?a.memoizedProps:null,P=y.children,Ue(g,y)?P=null:x!==null&&Ue(g,x)&&(l.flags|=32),h_(a,l),mr(a,l,P,d),l.child;case 6:return a===null&&Df(l),null;case 13:return m_(a,l,d);case 4:return $f(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Eo(l,null,g,d):mr(a,l,g,d),l.child;case 11:return g=l.type,y=l.pendingProps,a_(a,l,g,y=l.elementType===g?y:ln(g,y),d);case 7:return mr(a,l,l.pendingProps,d),l.child;case 8:case 12:return mr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,x=l.memoizedProps,E0(0,g,P=y.value),x!==null)if(on(x.value,P)){if(x.children===y.children&&!fr.current){l=li(a,l,d);break e}}else for((x=l.child)!==null&&(x.return=l);x!==null;){var A=x.dependencies;if(A!==null){P=x.child;for(var O=A.firstContext;O!==null;){if(O.context===g){if(x.tag===1){(O=ai(-1,d&-d)).tag=2;var j=x.updateQueue;if(j!==null){var W=(j=j.shared).pending;W===null?O.next=O:(O.next=W.next,W.next=O),j.pending=O}}x.lanes|=d,(O=x.alternate)!==null&&(O.lanes|=d),Uf(x.return,d,l),A.lanes|=d;break}O=O.next}}else if(x.tag===10)P=x.type===l.type?null:x.child;else if(x.tag===18){if((P=x.return)===null)throw Error(s(341));P.lanes|=d,(A=P.alternate)!==null&&(A.lanes|=d),Uf(P,d,l),P=x.sibling}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===l){P=null;break}if((x=P.sibling)!==null){x.return=P.return,P=x;break}P=P.return}x=P}mr(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,wo(l,d),g=g(y=Hr(y)),l.flags|=1,mr(a,l,g,d),l.child;case 14:return y=ln(g=l.type,l.pendingProps),l_(a,l,g,y=ln(g.type,y),d);case 15:return u_(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:ln(g,y),rc(a,l),l.tag=1,Tr(g)?(a=!0,Nu(l)):a=!1,wo(l,d),I0(l,g,y),Hf(l,g,y,d),sp(null,l,g,!0,a,d);case 19:return y_(a,l,d);case 22:return c_(a,l,d)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=On(a,134217728);l!==null&&Vr(l,a,134217728,Qt()),xc(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=On(a,1);l!==null&&Vr(l,a,1,Qt()),xc(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=Ui(a),d=On(a,l);d!==null&&Vr(d,a,l,Qt()),xc(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=ja(l.pendingLanes);d!==0&&(Pf(l,1|d),gr(l,At()),!(6&ke)&&(Ao(),Nn()))}break;case 13:O_(function(){var g=On(a,1);if(g!==null){var y=Qt();Vr(g,a,1,y)}}),xc(a,1)}},e.batchedUpdates=function(a,l){var d=ke;ke|=1;try{return a(l)}finally{(ke=d)===0&&(Ao(),Lu&&Nn())}},e.createComponentSelector=function(a){return{$$typeof:sc,value:a}},e.createContainer=function(a,l,d,g,y,x,P){return H_(a,l,!1,null,0,g,0,x,P)},e.createHasPseudoClassSelector=function(a){return{$$typeof:oc,value:a}},e.createHydrationContainer=function(a,l,d,g,y,x,P,A,O){return(a=H_(d,g,!0,a,0,x,0,A,O)).context=$_(null),d=a.current,(x=ai(g=Qt(),y=Ui(d))).callback=l??null,Oi(d,x,y),a.current.lanes=y,Ga(a,y,g),gr(a,g),a},e.createPortal=function(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:ac,value:a}},e.createTestNameSelector=function(a){return{$$typeof:lc,value:a}},e.createTextSelector=function(a){return{$$typeof:uc,value:a}},e.deferredUpdates=function(a){var l=Le,d=ft.transition;try{return ft.transition=null,Le=16,a()}finally{Le=l,ft.transition=d}},e.discreteUpdates=function(a,l,d,g,y){var x=Le,P=ft.transition;try{return ft.transition=null,Le=1,a(l,d,g,y)}finally{Le=x,ft.transition=P,ke===0&&Ao()}},e.findAllNodes=yp,e.findBoundingRects=function(a,l){if(!Fa)throw Error(s(363));l=yp(a,l),a=[];for(var d=0;d<l.length;d++)a.push(ZC(l[d]));for(l=a.length-1;0<l;l--)for(var g=(d=a[l]).x,y=g+d.width,x=d.y,P=x+d.height,A=l-1;0<=A;A--)if(l!==A){var O=a[A],j=O.x,W=j+O.width,ie=O.y,$=ie+O.height;if(g>=j&&x>=ie&&y<=W&&P<=$){a.splice(l,1);break}if(!(g!==j||d.width!==O.width||$<x||ie>P)){ie>x&&(O.height+=ie-x,O.y=x),$<P&&(O.height=P-ie),a.splice(l,1);break}if(!(x!==ie||d.height!==O.height||W<g||j>y)){j>g&&(O.width+=j-g,O.x=g),W<y&&(O.width=y-j),a.splice(l,1);break}}return a},e.findHostInstance=W_,e.findHostInstanceWithNoPortals=function(a){return(a=(a=X(a))!==null?G(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return W_(a)},e.flushControlled=function(a){var l=ke;ke|=1;var d=ft.transition,g=Le;try{ft.transition=null,Le=1,a()}finally{Le=g,ft.transition=d,(ke=l)===0&&(Ao(),Nn())}},e.flushPassiveEffects=Ms,e.flushSync=O_,e.focusWithin=function(a,l){if(!Fa)throw Error(s(363));for(l=k_(a=pp(a),l),l=Array.from(l),a=0;a<l.length;){var d=l[a++];if(!Ua(d)){if(d.tag===5&&tP(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Le},e.getFindAllNodesFailureDescription=function(a,l){if(!Fa)throw Error(s(363));var d=0,g=[];a=[pp(a),0];for(var y=0;y<a.length;){var x=a[y++],P=a[y++],A=l[P];if((x.tag!==5||!Ua(x))&&(mp(x,A)&&(g.push(gp(A)),++P>d&&(d=P)),P<l.length))for(x=x.child;x!==null;)a.push(x,P),x=x.sibling}if(d<l.length){for(a=[];d<l.length;d++)a.push(gp(l[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?se(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:mA,findFiberByHostInstance:a.findFiberByHostInstance||gA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{Ou=l.inject(a),Mn=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,d,g){if(!Fa)throw Error(s(363));a=yp(a,l);var y=rP(a,d,g).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,l){var d=l._getVersion;d=d(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,d]:a.mutableSourceEagerHydrationData.push(l,d)},e.runWithPriority=function(a,l){var d=Le;try{return Le=a,l()}finally{Le=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,d,g){var y=l.current,x=Qt(),P=Ui(y);return d=$_(d),l.context===null?l.context=d:l.pendingContext=d,(l=ai(x,P)).payload={element:a},(g=g===void 0?null:g)!==null&&(l.callback=g),(a=Oi(y,l,P))!==null&&(Vr(a,y,P,x),Hu(a,y,P)),P},e}),Ww}({get exports(){return Ny},set exports(t){Ny=t}}).exports=FB();var UB=hB(Ny),CC={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Oy={},ch={get exports(){return Oy},set exports(t){Oy=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?ch.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(ch.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(ch.exports=function(){return Date.now()-r},r=Date.now()):(ch.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(cB);var Yw,ra={},Ls={};({get exports(){return ra},set exports(t){ra=t}}).exports=(Yw||(Yw=1,Ls.ConcurrentRoot=1,Ls.ContinuousEventPriority=4,Ls.DefaultEventPriority=16,Ls.DiscreteEventPriority=1,Ls.IdleEventPriority=536870912,Ls.LegacyRoot=0),Ls);var zB={};function Ym(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function PC(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Ii(t.children).forEach(function(s){PC(s,t)})}function Kw(t,e){var r;PC(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,u=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,f=n.destroyBaseTexture,p=f!==void 0&&f;s&&e.destroy({children:u,texture:h,baseTexture:p})}function Qw(t,e,r){dt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var qw=null,bn=UB({getRootHostContext:function(){return zB},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return ra.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ra.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ra.ContinuousEventPriority;default:return ra.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=DB[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=TC[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:ri)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return qw=function(o,u,c,h){var f=null;for(var p in c)!h.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!==null&&(p===ky||(f||(f=[]),f.push(p,null)));for(var m in h){var v=h[m],_=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||v===_||v===null&&_===null||m===ky||(f||(f=[]),f.push(m,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){dt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Oy,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ym.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ym.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ym.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Kw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Kw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Qw,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Qw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=ri),(u(t,n,i)||qw)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),jB=CC.dependencies["react-dom"].replace(/[^0-9.]/g,""),GB=CC.name;bn.injectIntoDevTools({bundleType:0,version:jB,rendererPackageName:GB,findHostInstanceByFiber:bn.findHostInstance});var hs=new Map;function AC(t){if(dt(ir.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),hs.has(t)){var e=hs.get(t).pixiFiberContainer;bn.updateContainer(null,e,void 0,function(){hs.delete(t)})}}function IC(t){dt(ir.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=hs.get(t);if(dt(!e,"Pixi React: createRoot should only be called once"),!e){var r=bn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return bn.updateContainer(n,r,void 0),bn.getPublicRootInstance(r)},unmount:function(){AC(t),hs.delete(t)}}},hs.set(t,e)}return e.reactRoot}function HB(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),hs.has(e)?n=hs.get(e).reactRoot:n=IC(e),n.render(t)}function $B(t){AC(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function WB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EC(n.key),n)}}function di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pd(t,e){return Pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pd(t,e)}function XB(t,e){if(e&&(Dr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(t)}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ad(t)}var mf=we.createContext(null),RC=mf.Provider,kC=mf.Consumer,YB=function(t){var e=we.forwardRef(function(r,n){return we.createElement(kC,null,function(i){return we.createElement(t,_u({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function KB(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ad(t);if(e){var i=Ad(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return XB(this,r)}}function Zw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zw(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Jw=function(){},MC={width:me.number,height:me.number,onMount:me.func,onUnmount:me.func,raf:me.bool,renderOnComponentChange:me.bool,children:me.node,options:me.shape({autoStart:me.bool,width:me.number,height:me.number,useContextAlpha:me.bool,backgroundAlpha:me.number,autoDensity:me.bool,antialias:me.bool,preserveDrawingBuffer:me.bool,resolution:me.number,forceCanvas:me.bool,backgroundColor:me.number,clearBeforeRender:me.bool,powerPreference:me.string,sharedTicker:me.bool,sharedLoader:me.bool,resizeTo:function(t,e){var r=t[e];r&&dt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Dr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&dt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Dr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},QB={width:800,height:600,onMount:Jw,onUnmount:Jw,raf:!0,renderOnComponentChange:!0},Ly=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Pd(s,o)})(i,we.Component);var e,r,n=KB(i);function i(){var s;WB(this,i);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return pt(di(s=n.call.apply(n,[this].concat(u))),"_canvas",null),pt(di(s),"_mediaQuery",null),pt(di(s),"_ticker",null),pt(di(s),"_needsUpdate",!0),pt(di(s),"app",null),pt(di(s),"updateSize",function(){var h=s.props,f=h.width,p=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,p)}),pt(di(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),pt(di(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,c=s.height,h=s.options,f=s.raf,p=s.renderOnComponentChange;this.app=new Ru(hh(hh({width:u,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=bn.createContainer(this.app.stage),bn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!f&&(this._ticker=new yt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var c,h=this.props,f=h.width,p=h.height,m=h.raf,v=h.renderOnComponentChange,_=h.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===p&&s.width===f&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),bn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===p&&s.raf===m&&s.renderOnComponentChange===v&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return we.createElement(RC,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),bn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,c=this.props.options;return c&&c.view?(dt(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):we.createElement("canvas",_u({},(s=this.props,o=[].concat(Ii(Object.keys(MC)),Ii(Object.keys(My))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return hh(hh({},h),{},pt({},f,s[f]))},{})),{ref:function(h){return u._canvas=h}}))}}])&&VB(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Ly.propTypes=MC,Ly.defaultProps=QB;var qB=Ly;function NC(){var t=F.useContext(mf);return dt(t instanceof Ru,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function ZB(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=NC();dt(typeof t=="function","`useTick` needs a callback function."),dt(r instanceof Ru,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=F.useRef(null);F.useEffect(function(){n.current=t},[t]),F.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function JB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function By(t,e,r){return By=JB()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(n,o));return s&&Pd(u,s.prototype),u},By.apply(null,arguments)}var eF=["children","apply"];function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tF=function(t,e){dt(Dr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,u=Ss(i,eF),c=F.useRef(F.useMemo(function(){return r.map(function(p){var m,v=(u==null||(m=u[p])===null||m===void 0?void 0:m.construct)||[];return By(e[p],Ii(v))})},[r])),h=F.useMemo(function(){return r.reduce(function(p,m,v){return dh(dh({},p),{},pt({},m,c.current[v]))},{})},[r]),f=F.useMemo(function(){return Object.keys(u).filter(bC(SC(r))).reduce(function(p,m){return dh(dh({},p),{},pt({},m,u[m]))},{})},[u,r]);return r.forEach(function(p,m){return Object.assign(c.current[m],u[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,h),we.createElement(t,_u({},f,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:me.node,apply:me.func},n},rF=br.BitmapText,nF=br.Container,iF=br.Graphics,sF=br.NineSlicePlane,oF=br.ParticleContainer,aF=br.Sprite,lF=br.AnimatedSprite,uF=br.Text,cF=br.TilingSprite,hF=br.SimpleMesh,dF=br.SimpleRope;const fF=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:lF,AppConsumer:kC,AppContext:mf,AppProvider:RC,BitmapText:rF,Container:nF,Graphics:iF,NineSlicePlane:sF,ParticleContainer:oF,PixiComponent:OB,PixiFiber:bn,SimpleMesh:hF,SimpleRope:dF,Sprite:aF,Stage:qB,TYPES:br,Text:uF,TilingSprite:cF,applyDefaultProps:ri,createRoot:IC,eventHandlers:Cd,render:HB,unmountComponentAtNode:$B,useApp:NC,useTick:ZB,withFilters:tF,withPixiApp:YB},Symbol.toStringTag,{value:"Module"})),pF=iE(fF);pf.exports=pF;var eo=pf.exports;const t0=640,r0=480,DC="container",mF=224,gF=30,yF=.8,vF={r:255,g:0,b:255,a:yF},_F=3;function OC({x:t,y:e,hitBox:r}){return t+=(r==null?void 0:r.x)||0,e+=(r==null?void 0:r.y)||0,F.useCallback(n=>{const i=r==null?void 0:r.w,s=r==null?void 0:r.h;n.clear(),n.lineStyle(_F,vF),n.drawRect(0,0,i,s)},[r==null?void 0:r.w,r==null?void 0:r.h]),B.jsx(we.Fragment,{})}function sr({texture:t,objectData:e,...r}){const n=(e==null?void 0:e.x)||0,i=(e==null?void 0:e.y)||0;let s=0;return r.zIndex!==void 0?s=r.zIndex:(e==null?void 0:e.hitBox)!==void 0&&(s=i+e.hitBox.y),B.jsxs(we.Fragment,{children:[B.jsx(eo.Sprite,{name:e.name,texture:t,x:n,y:i,zIndex:s,...r}),B.jsx(OC,{x:n,y:i,hitBox:e.hitBox})]})}const xF="office",wF={name:"clock",x:528,y:16},EF={name:"door",x:512,y:96},tE={name:"vase",x:184,y:128,zIndex:221},SF={name:"window",x:16,y:16},LC={name:"desk",x:8,y:160,hitBox:{x:0,y:32,w:160,h:64}},BC={name:"drawer",x:176,y:172,hitBox:{x:0,y:48,w:80,h:32}},FC={name:"shelf1",x:368,y:104,hitBox:{x:0,y:120,w:128,h:40}},UC={name:"shelf2",x:48,y:288,hitBox:{x:0,y:120,w:128,h:40}},zC={name:"shelf3",x:280,y:288,hitBox:{x:0,y:120,w:128,h:40}},jC={name:"stand",x:420,y:360,hitBox:{x:0,y:40,w:80,h:40}},GC={name:"plant1",x:264,y:152,hitBox:{x:32,y:80,w:40,h:16}},HC={name:"plant2",x:180,y:352,hitBox:{x:32,y:80,w:40,h:16}},$C={name:"plant3",x:536,y:376,hitBox:{x:32,y:80,w:40,h:16}},WC=[LC,BC,FC,UC,zC,jC,GC,HC,$C];function bF(){const t=Qe.get(cC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:wF})}const Ne=64,$e=96,TF=.15,VC=2,CF=10,yr={name:"character",x:560,y:136,hitBox:{x:-16,y:84,w:32,h:12}},PF={frames:{front1:{frame:{x:0,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}},front2:{frame:{x:Ne,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}},front3:{frame:{x:Ne*2,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}}},meta:{scale:"1"},animations:{walk:["front2","front1","front3","front1"]}},AF={frames:{rear1:{frame:{x:0,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}},rear2:{frame:{x:Ne,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}},rear3:{frame:{x:Ne*2,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}}},meta:{scale:"1"},animations:{walk:["rear2","rear1","rear3","rear1"]}},IF={frames:{side1:{frame:{x:0,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}},side2:{frame:{x:Ne,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}},side3:{frame:{x:Ne*2,y:0,w:Ne,h:$e},sourceSize:{w:Ne,h:$e},spriteSourceSize:{x:0,y:0,w:Ne,h:$e}}},meta:{scale:"1"},animations:{walk:["side2","side1","side3","side1"]}};var lr=(t=>(t[t.X=0]="X",t[t.Y=1]="Y",t))(lr||{});function Km(t,e){const r=new bd(t,e);return r.parse(),r}function XC(t,e,r,n,i,s){e+=n,r+=i,e-=s/2;const o=yr.hitBox,u=t.hitBox,c=t.x+u.x,h=t.y+u.y,f=e-o.x,p=e-o.x+o.w,m=r+o.y,v=r+o.y+o.h,_=c,b=c+u.w,T=h,S=h+u.h,E=[],w=[];E.push(f<=_&&p>=_&&p<=b),E.push(f>=_&&f<=b&&p>=b),E.push(f<=_&&p>=_&&p<=b),E.push(f<=b&&f>=_&&p>=b),E.push(f>=_&&f<=b&&p<=b),w.push(m<=T&&v>=T&&v<=S),w.push(m>=T&&m<=S&&v>=S),w.push(m<=T&&v>=T&&v<=S),w.push(m<=S&&m>=T&&v>=S),w.push(m>=T&&m<=S&&v<=S);for(const C of E)for(const I of w)if(C&&I)return!0;return!1}function YC(t,e,r,n,i){const s=yr.hitBox;return t-=i/2,r<0&&t-s.x<=0||r>0&&t+i-s.w/2>=t0||n<0&&e+s.y<=mF||n>0&&e+n+s.y+s.h>=r0}function RF(t,e,r,n,i,s,o){const u=Math.ceil(VC*o),{width:c}=t;let{x:h,y:f}=t,p=!1,m=0,v=0;e?(v=-u,s=!1):r?(v=u,s=!1):n?(m=-u,s=!0):i&&(m=u,s=!1),YC(h,f,m,v,c)&&(p=!1,m=0,v=0);for(const _ of WC)XC(_,h,f,m,v,c)&&(p=!1,m=0,v=0);return m!==0?(h+=m,p=!0):v!==0&&(f+=v,p=!0),{x:h,y:f,isPlaying:p,flip:s}}function Ml(t,e,r,n,i,s,o){if(s===CF)return i;const u=Math.ceil(VC*n),{x:c,y:h}=i.at(-1);let f=0,p=0,m=!1,v=!1,_=!1,b=!1;if(c>t&&o===lr.X?(_=!0,f=-u):c<t&&o===lr.X?(b=!0,f=u):h>e&&o===lr.Y?(m=!0,p=-u):h<e&&o===lr.Y&&(v=!0,p=u),YC(c,h,f,p,r))return o=o===lr.X?lr.Y:lr.X,Ml(t,e,r,n,i,s+1,o);for(const E of WC)if(XC(E,c,h,f,p,r))return o=o===lr.X?lr.Y:lr.X,Ml(t,e,r,n,i,s+1,o);(Math.abs(c)%u!==0||f<0&&c+f<t||f>0&&c+f>t)&&(f=(t-c)%u),(Math.abs(h)%u!==0||p<0&&h+p<e||p>0&&h+p>e)&&(p=(e-h)%u);const T=c+f,S=h+p;if(f!==0||p!==0)return i.push({x:T,y:S,Up:m,Down:v,Left:_,Right:b}),Ml(t,e,r,n,i,0,o);if(T!==t||S!==e){const E=o===lr.X?lr.Y:lr.X;return Ml(t,e,r,n,i,s+1,E)}return i}function kF({pressedKeys:t,movePosition:e=null,onMoveFinished:r}){var z;const i=eo.useApp().stage.getChildByName(DC),s=i!==null?i.getChildByName(yr.name):null,o={front:Qe.get(aC),rear:Qe.get(lC),side:Qe.get(uC)},[u,c]=F.useState(),[h,f]=F.useState(),[p,m]=F.useState(),[v,_]=F.useState(),[b,T]=F.useState(yr==null?void 0:yr.x),[S,E]=F.useState(yr==null?void 0:yr.y),[w,C]=F.useState(!1),[I,L]=F.useState(!1),[D,M]=F.useState(0),[Y,X]=F.useState([]),K=S+((z=yr==null?void 0:yr.hitBox)==null?void 0:z.y),te=F.useCallback(()=>{if(s===null)return;const{Up:ue,Down:se,Left:J,Right:k}=t;ue?_(h):se?_(u):(J||k)&&_(p);const{x:H,y:R,isPlaying:q,flip:ne}=RF(s,ue,se,J,k,w,D);T(H),E(R),L(q),C(ne)},[s,u,h,p,w,t,D]),G=F.useCallback(()=>{if(Y.length===0)return;const ue=[...Y],{x:se,y:J,Up:k,Down:H,Left:R,Right:q}=ue[0];k?(_(h),C(!1)):H?(_(u),C(!1)):R?(_(p),C(!0)):q&&(_(p),C(!1)),T(se),E(J),L(!0),ue.shift(),X([...ue]),ue.length===0&&(L(!1),r!==void 0&&r())},[Y,u,h,p,r]);return F.useEffect(()=>{c(Km(o.front,PF)),f(Km(o.rear,AF)),m(Km(o.side,IF))},[o.front,o.rear,o.side]),F.useEffect(()=>{_(u)},[u]),F.useEffect(()=>{L(!1)},[v]),F.useEffect(()=>{if(s===null||e===null||Y.length>0)return;const{height:ue}=s,{x:se,y:J}=e;try{const k=Ml(se,J-ue/2,s.width,D,[{x:s.x,y:s.y,Up:!1,Down:!1,Left:!1,Right:!1}],0,lr.X);X([...k])}catch{X([]),r!==void 0&&r()}},[e,s,D,Y,r]),eo.useTick(ue=>{te(),G(),M(ue)}),v===void 0?B.jsx(we.Fragment,{}):B.jsxs(we.Fragment,{children:[B.jsx(eo.AnimatedSprite,{name:yr.name,textures:v.animations.walk,isPlaying:I,x:b,y:S,zIndex:K,scale:{x:w?-1:1,y:1},anchor:{x:.5,y:0},initialFrame:I?0:1,animationSpeed:TF}),B.jsx(OC,{x:b,y:S,hitBox:yr.hitBox})]})}function MF(){const t=Qe.get(hC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:LC})}function NF(){const t=Qe.get(dC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:EF})}function DF(){const t=Qe.get(fC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:BC})}const OF={name:"laptop",x:24,y:140,hitBox:{x:0,y:52,w:64,h:12}},LF={name:"papers",x:108,y:168,hitBox:{x:0,y:52,w:64,h:12}},rE={name:"record",x:428,y:270,hitBox:{x:0,y:52,w:64,h:12},zIndex:400};function BF({onClick:t}){const e=Qe.get(pC);return e===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:e,objectData:OF,interactive:!0,onclick:t})}function KC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=KC(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Ra(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=KC(t))&&(n&&(n+=" "),n+=e);return n}const Kr={Profile:"ShowProfile",GitHub:new URL("https://github.com/takaneichinose"),"itch.io":new URL("https://takaneichinose.itch.io/"),CodePen:new URL("https://codepen.io/takaneichinose"),"X (Twitter)":new URL("https://twitter.com/takane_ichi"),LinkedIn:new URL("https://www.linkedin.com/in/%E5%B3%BB%E5%B3%B0-takane-%E5%B8%82%E7%80%AC-ichinose-50733814b/"),"DEV.to":new URL("https://dev.to/takaneichinose"),Lexaloffle:new URL("https://www.lexaloffle.com/bbs/?uid=66694"),Exit:"ExitMenu"},FF="/assets/images/my-profile-select.png";function Nh({shown:t=!1}){return B.jsx("span",{className:"w-[4vmin] inline-block",children:t&&B.jsx("img",{src:FF,className:"w-[2vmin] h-[2vmin]"})})}function UF({shown:t=!1,onShowProfile:e,onExit:r}){const[n,i]=F.useState(0),[s,o]=F.useState(""),u=F.useRef(null),c=m=>{typeof m=="string"&&(i(0),m==="ShowProfile"&&e!==void 0?e():m==="ExitMenu"&&r!==void 0&&r())},h=m=>{i(m)},f=F.useCallback(()=>{if(u.current===null)return;const m=Object.keys(Kr).at(n);typeof Kr[m]!="string"?u.current.click():Kr[m]==="ShowProfile"&&e!==void 0?e():Kr[m]==="ExitMenu"&&r!==void 0&&r()},[u,n,e,r]),p=F.useCallback(m=>{const v=Object.keys(Kr).length;let _=n;switch(m.key){case"ArrowUp":_--;break;case"ArrowDown":_++;break;case" ":f();break}_<0?_=v-1:_>=v&&(_=0),i(_)},[n,f]);return F.useEffect(()=>(window.addEventListener("keyup",p),()=>{window.removeEventListener("keyup",p)}),[p,u]),F.useEffect(()=>{const m=Object.keys(Kr).at(n);if(typeof Kr[m]=="object"){const v=Kr[m].href;o(v)}else o("")},[n]),t?B.jsx("div",{className:"w-full h-full p-[2vmin] flex absolute top-0 left-0",children:B.jsxs("div",{className:Ra("text-pico-8","text-[3vmin]","bg-pico-1","w-[36vmin]","h-full","px-[2vmin]","py-[3.5vmin]","ml-auto","space-y-[1vmin]","select-none"),children:[B.jsx(we.Suspense,{children:Object.keys(Kr).map((m,v)=>B.jsxs("div",{className:"px-4 mb-2 last:mb-0 flex items-center",children:[B.jsx(Nh,{shown:n===v}),typeof Kr[m]=="object"?B.jsx(u1,{to:Kr[m].href,target:"_blank",onMouseOver:()=>h(v),children:m}):B.jsx("button",{type:"button",onClick:()=>c(Kr[m]),onMouseOver:()=>h(v),children:m})]},v))}),B.jsx(u1,{ref:u,target:"_blank",to:s,className:"opacity-0 absolute top-0 left-0 pointer-events-none"})]})}):B.jsx(we.Fragment,{})}function zF(){const t=Qe.get(mC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(eo.TilingSprite,{name:xF,texture:t,width:t0,height:r0,tilePosition:{x:0,y:0}})}function jF(){const t=Qe.get(gC),e=r=>{console.log(r)};return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:LF,interactive:!0,onclick:e})}function GF(){const t=Qe.get(hf);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:GC})}function HF(){const t=Qe.get(hf);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:HC})}function $F(){const t=Qe.get(hf);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:$C})}function WF(){const t=Qe.get(yC),e=r=>{console.log(r)};return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:rE,zIndex:rE.zIndex,interactive:!0,onclick:e})}function VF(){const t=Qe.get(df);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:FC})}function XF(){const t=Qe.get(df);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:UC})}function YF(){const t=Qe.get(df);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:zC})}function KF(){const t=Qe.get(vC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:jC})}function QF(){const t=Qe.get(_C);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:tE,zIndex:tE.zIndex})}function qF(){const t=Qe.get(xC);return t===void 0?B.jsx(we.Fragment,{}):B.jsx(sr,{texture:t,objectData:SF})}function Qm({text:t,shown:e=!0,animating:r=!0}){return e?B.jsx("div",{className:"w-full h-full p-[4vmin] flex items-end absolute top-0 left-0",children:B.jsx("div",{className:Ra("text-pico-8","text-[3vmin]","bg-pico-1","w-[72vmin]","h-[20vmin]","px-[3vmin]","py-[2vmin]","space-y-[1vmin]","select-none"),children:t==null?void 0:t.split("").map((n,i)=>B.jsx("span",{className:Ra(r&&"opacity-0 animate-show-50"),style:r?{animationDelay:`${gF*i}ms`,animationFillMode:"forwards"}:void 0,children:n},i))})}):B.jsx(we.Fragment,{})}function ZF({shown:t,onEnded:e}){const[r,n]=F.useState(1),i=F.useCallback(()=>{n(r+1)},[r]),s=F.useCallback(o=>{o.key===" "&&n(r+1)},[r]);return F.useEffect(()=>(window.addEventListener("click",i),window.addEventListener("keyup",s),r===4&&e(),()=>{window.removeEventListener("click",i),window.removeEventListener("keyup",s)}),[r,i,s,e]),t?B.jsxs(we.Fragment,{children:[B.jsx(Qm,{shown:r===1,text:"Tap everywhere on the screen to continue."}),B.jsx(Qm,{shown:r===2,text:"Tap the screen or use the arrow keys to move the character."}),B.jsx(Qm,{shown:r===3,text:"Press 'Space Bar' or click the laptop to open the menu."})]}):B.jsx(we.Fragment,{})}const Dh={HTML:2013,CSS:2013,JavaScript:2013,PHP:2013,Java:2018,"C#.NET":2018,SQL:2016,NodeJS:2018,TypeScript:2020,React:2017,Vue:2019,"Sass/SCSS":2019,Laravel:2016,Tailwindcss:2022,"Spring Boot":2018,"Front-end Web Dev":2013,"Back-end Web Dev":2016,"Game Development":2021,"PICO-8":2021,GDevelop:2021,"Pixel Art":2021},xl=7,nE=Object.keys(Dh).length;var zt=(t=>(t[t.Previous=0]="Previous",t[t.Next=1]="Next",t[t.Exit=2]="Exit",t))(zt||{});const JF="/assets/images/my-profile-portrait.png";function e4({shown:t=!1,onExit:e}){const n=new Date().getFullYear(),[i,s]=F.useState(zt.Next),[o,u]=F.useState(0),c=F.useCallback(()=>{const v=o+xl;u(v),v===nE-xl&&s(zt.Previous)},[o]),h=F.useCallback(()=>{const v=o-xl;u(v),v===0&&s(zt.Next)},[o]),f=F.useCallback(()=>{e!==void 0&&e()},[e]),p=v=>{s(v)},m=F.useCallback(v=>{switch(v.key){case"ArrowLeft":s(i>zt.Previous?i-1:zt.Exit);break;case"ArrowRight":s(i<zt.Exit?i+1:zt.Previous);break;case" ":switch(i){case zt.Previous:h();break;case zt.Next:c();break;case zt.Exit:f();break}break}},[i,h,c,f]);return F.useEffect(()=>(window.addEventListener("keyup",m),()=>{window.removeEventListener("keyup",m)}),[m]),t?B.jsx("div",{className:"w-full h-full flex absolute top-0 left-0",children:B.jsx(we.Suspense,{children:B.jsxs("div",{className:Ra("text-pico-8","text-[3vmin]","bg-pico-1","w-full","h-full","p-[2vmin]","flex","flex-col","select-none"),children:[B.jsxs("div",{className:"pb-[2vmin] flex grow",children:[B.jsxs("div",{className:"mr-[2vmin] shrink-0",children:[B.jsx("img",{src:JF,className:"w-[24vmin] h-[32vmin]"}),B.jsxs("div",{className:"text-center pt-[2vmin]",children:[B.jsx("div",{children:"Takane Ichinose"}),B.jsx("div",{children:"Web developer"})]})]}),B.jsxs("div",{className:"pl-[4vmin] flex flex-col grow",children:[B.jsx("div",{children:"Skills"}),B.jsx("div",{className:"grow py-[1rem]",children:Object.keys(Dh).filter((v,_)=>_>=o&&_<o+xl).map((v,_)=>B.jsxs("div",{className:"flex justify-between",children:[B.jsx("div",{children:v}),B.jsxs("div",{children:[n-Dh[v]," year",n-Dh[v]>1&&"s"]})]},_))}),B.jsxs("div",{className:"flex justify-between",children:[B.jsxs("div",{className:"flex",children:[B.jsx("div",{className:"w-[18vmin]",children:o>0&&B.jsxs(we.Fragment,{children:[B.jsx(Nh,{shown:i===zt.Previous}),B.jsx("button",{onClick:h,onMouseOver:()=>p(zt.Previous),children:"Previous"})]})}),B.jsx("div",{children:o<nE-xl&&B.jsxs(we.Fragment,{children:[B.jsx(Nh,{shown:i===zt.Next}),B.jsx("button",{onClick:c,onMouseOver:()=>p(zt.Next),children:"Next"})]})})]}),B.jsxs("div",{children:[B.jsx(Nh,{shown:i===zt.Exit}),B.jsx("button",{onClick:f,onMouseOver:()=>p(zt.Exit),children:"Exit"})]})]})]})]}),B.jsx("div",{children:"Front end web developer by profession,"}),B.jsx("div",{children:"game developer by hobby, and music enthusiast."})]})})}):B.jsx(we.Fragment,{})}function t4(){const t=F.useRef(null),[e,r]=F.useState(0),[n,i]=F.useState(0),[s,o]=F.useState(!1),[u,c]=F.useState(!1),[h,f]=F.useState(!1),[p,m]=F.useState(!1),[v,_]=F.useState(null),[b,T]=F.useState(!0),[S,E]=F.useState(!1),[w,C]=F.useState(!1),I=()=>{const se=t.current;se!==null&&(r(se.clientWidth/t0),i(se.clientHeight/r0))},L=F.useCallback((se,J)=>{if(!(b||S||w))switch(se){case"ArrowUp":o(J);break;case"ArrowDown":c(J);break;case"ArrowLeft":f(J);break;case"ArrowRight":m(J);break;case" ":J||E(!0);break}},[b,S,w]),D=F.useCallback(se=>{L(se.key,!0)},[L]),M=F.useCallback(se=>{L(se.key,!1)},[L]),Y=se=>{const{offsetX:J,offsetY:k}=se.nativeEvent,H=Math.round(J/e),R=Math.round(k/n);_({x:H,y:R})},X=()=>{_(null)},K=()=>{T(!1)},te=()=>{E(!1)},G=()=>{C(!0),E(!1)},z=()=>{C(!1),E(!0)},ue=()=>{E(!0)};return F.useEffect(()=>(window.addEventListener("resize",I),I(),()=>{window.removeEventListener("resize",I)}),[t]),F.useEffect(()=>(window.addEventListener("keydown",D),window.addEventListener("keyup",M),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",M)}),[b,S,w,D,M]),B.jsxs("div",{className:"w-full h-full relative animate-show",ref:t,children:[B.jsx(eo.Stage,{width:t.current!==null?t.current.clientWidth:0,height:t.current!==null?t.current.clientHeight:0,options:{resizeTo:t.current,antialias:!1,eventMode:"passive"},onClick:Y,children:B.jsxs(eo.Container,{name:DC,sortableChildren:!0,scale:{x:e,y:n},interactive:!0,children:[B.jsx(zF,{}),B.jsx(bF,{}),B.jsx(NF,{}),B.jsx(QF,{}),B.jsx(qF,{}),B.jsx(MF,{}),B.jsx(DF,{}),B.jsx(GF,{}),B.jsx(HF,{}),B.jsx($F,{}),B.jsx(VF,{}),B.jsx(XF,{}),B.jsx(YF,{}),B.jsx(KF,{}),B.jsx(BF,{onClick:ue}),B.jsx(jF,{}),B.jsx(WF,{}),B.jsx(kF,{pressedKeys:{Up:s,Down:u,Left:h,Right:p},movePosition:v,onMoveFinished:X})]})}),B.jsx(ZF,{shown:b,onEnded:K}),B.jsx(UF,{shown:S,onShowProfile:G,onExit:te}),B.jsx(e4,{shown:w,onExit:z})]})}function r4(){return B.jsx(kb,{children:B.jsx(ua,{element:B.jsx(wC,{}),children:B.jsx(ua,{path:"/",element:B.jsx(t4,{})})})})}function n4(){return B.jsx("div",{children:"Page not found!"})}function i4(){const{preload:t,progress:e,setLoadComplete:r}=F.useContext(ff),n=Ov(),i=s=>{s.propertyName==="opacity"&&(r(!0),n("/"))};return F.useEffect(()=>{t()},[t]),B.jsx("div",{className:Ra("progress","w-full","h-full","flex","absolute","top-0","left-0","transition-all","ease-out","delay-300","duration-500","z-10",e>=1&&"opacity-0"),style:{"--width":`${e*100}%`},onTransitionEnd:i,children:B.jsx("div",{className:Ra("text-pico-1","text-center","text-[3vmin]","bg-pico-8","w-1/2","py-2","m-auto","relative","before:bg-pico-12","before:h-full","before:absolute","before:top-0","before:left-0","before:transition-all"),children:B.jsx("span",{className:"relative select-none",children:"Loading"})})})}function s4(){return B.jsx(kb,{children:B.jsxs(ua,{path:"/",element:B.jsx(wC,{}),children:[B.jsx(ua,{path:"preload",element:B.jsx(i4,{})}),B.jsx(ua,{path:"*",element:B.jsx(n4,{})})]})})}function o4(){const{loadComplete:t}=F.useContext(ff);return t?B.jsx(r4,{}):B.jsx(s4,{})}function a4({children:t}){const{loadComplete:e}=F.useContext(ff),r=Ov();return F.useEffect(()=>{e||r("/preload")},[e,r]),B.jsx(we.Fragment,{children:t})}function l4(){return B.jsx(uB,{children:B.jsx(a4,{children:B.jsx(o4,{})})})}const u4=document.getElementById("app");qm.createRoot(u4).render(B.jsx(we.StrictMode,{children:B.jsx(l4,{})}))});export default c4();
